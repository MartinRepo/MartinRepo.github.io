[{"content":"æ¬¢è¿å¼•ç”¨ ğŸ‰\n","permalink":"https://martinspace.top/zh/dmrl-survey/","summary":"æ¬¢è¿å¼•ç”¨ ğŸ‰","title":"Preference Alignment on Diffusion Model: A Comprehensive Survey for Image Generation and Editing"},{"content":"é€’å½’ç¥ç»ç½‘ç»œ ç®€å•çš„ç¥ç»ç½‘ç»œç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šè¾“å…¥ï¼Œéšè—å±‚ï¼Œè¾“å‡º\næ·±åº¦ç¥ç»ç½‘ç»œï¼ˆDNNï¼‰ä¸€èˆ¬æ˜¯å¢åŠ éšè—å±‚çš„æ•°é‡ã€‚\né€’å½’ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰æ›´åŠ å…³æ³¨çš„æ˜¯éšè—å±‚ä¸­æ¯ä¸ªç¥ç»å…ƒåœ¨æ—¶é—´ä¸Šçš„æˆé•¿ä¸è¿›æ­¥ã€‚\nBack Propogation Through Time åœ¨æ™®é€šçš„å‰é¦ˆç¥ç»ç½‘ç»œ (feed-forward nn) ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åº”ç”¨åå‘ä¼ æ’­æ¥è®¡ç®—æ¢¯åº¦å¹¶æ›´æ–°æƒé‡ã€‚ä½†æ˜¯åœ¨ RNN è¿™ç§å…·æœ‰æ—¶é—´ä¾èµ–çš„ç½‘ç»œä¸­ï¼Œå½“å‰çš„è¾“å‡ºä¸ä»…ä¾èµ–äºå½“å‰è¾“å…¥ï¼Œè¿˜ä¾èµ–äºè¿‡å»çš„éšè—çŠ¶æ€ã€‚è¿™å°±å¯¼è‡´äº†å‚æ•°çš„æ¢¯åº¦è®¡ç®—éœ€è¦æ²¿æ—¶é—´ç»´åº¦è¿›è¡Œä¼ æ’­ï¼Œè€Œ BPTT æ­£æ˜¯è§£å†³è¿™ä¸€é—®é¢˜çš„æ–¹æ³•ã€‚ æ•°å­¦æ¨å¯¼å¦‚ä¸‹ï¼š\n(1) è®¾å®šç¬¦å·\nè¾“å…¥åºåˆ—ï¼š$ X = ${$x_1, x_2, \u0026hellip;, x_T$} è¾“å‡ºåºåˆ—ï¼š$ Y = ${$y_1, y_2, \u0026hellip;, y_T$} éšè—çŠ¶æ€ï¼š$ h_t $ è¡¨ç¤ºæ—¶é—´æ­¥ $ t $ çš„éšè—çŠ¶æ€ å‚æ•°ï¼š $ W_{xh} $ï¼šè¾“å…¥åˆ°éšè—å±‚çš„æƒé‡ $ W_{hh} $ï¼šéšè—å±‚åˆ°éšè—å±‚çš„æƒé‡ $ W_{hy} $ï¼šéšè—å±‚åˆ°è¾“å‡ºçš„æƒé‡ æŸå¤±å‡½æ•°ï¼š$ L(Y, \\hat{Y}) $ï¼ˆå¦‚ MSE æˆ–äº¤å‰ç†µï¼‰ (2) RNN çš„å‰å‘ä¼ æ’­ åœ¨ RNN ä¸­ï¼Œæ¯ä¸ªæ—¶é—´æ­¥çš„è®¡ç®—å¦‚ä¸‹ï¼š $$ h_t = f(W_{hh} h_{t-1} + W_{xh} x_t) $$ $$ \\hat{y} _ t = g(W_{hy} h_t) $$ å…¶ä¸­ï¼š\n$ f $ æ˜¯éšè—çŠ¶æ€çš„æ¿€æ´»å‡½æ•°ï¼ˆå¦‚ tanh æˆ– ReLUï¼‰ $ g $ æ˜¯è¾“å‡ºå±‚çš„æ¿€æ´»å‡½æ•°ï¼ˆå¦‚ softmaxï¼‰ æ€»æŸå¤±ä¸ºï¼š $ L = \\sum_{t=1}^{T} L_t(y_t, \\hat{y}_t) $\n(3) åå‘ä¼ æ’­ Through Time\nè®¡ç®—æŸå¤±å¯¹è¾“å‡ºçš„æ¢¯åº¦ $ \\frac{\\partial L}{\\partial \\hat{y} _ t} = \\nabla_{\\hat{y}_t} L_t $ è®¡ç®—æŸå¤±ç›¸å¯¹äºè¾“å‡ºçš„æ¢¯åº¦ï¼Œè¿™éƒ¨åˆ†å’Œæ™®é€š BP è®¡ç®—ç±»ä¼¼ã€‚\nè®¡ç®—æŸå¤±å¯¹éšè—çŠ¶æ€çš„æ¢¯åº¦ $ \\frac{\\partial L}{\\partial h_t} = \\frac{\\partial L_t}{\\partial h_t} + \\frac{\\partial L_{t+1}}{\\partial h_t} + \\frac{\\partial L_{t+2}}{\\partial h_t} + \\dots $ ç”±äºéšè—çŠ¶æ€ $ h_t $ ä¼šå½±å“åç»­çš„æ‰€æœ‰æ—¶é—´æ­¥ï¼Œå› æ­¤æ¢¯åº¦è¦æ²¿æ—¶é—´æ–¹å‘åå‘ç´¯ç§¯ã€‚\nè®¡ç®—å‚æ•°çš„æ¢¯åº¦\nå¯¹éšè—çŠ¶æ€çš„æƒé‡ $ W_{hh} $ï¼š $ \\frac{\\partial L}{\\partial W_{hh}} = \\sum_{t=1}^{T} \\frac{\\partial L}{\\partial h_t} \\cdot \\frac{\\partial h_t}{\\partial W_{hh}} $ å¯¹è¾“å…¥æƒé‡ $ W_{xh} $ï¼š $ \\frac{\\partial L}{\\partial W_{xh}} = \\sum_{t=1}^{T} \\frac{\\partial L}{\\partial h_t} \\cdot \\frac{\\partial h_t}{\\partial W_{xh}} $ å¯¹è¾“å‡ºæƒé‡ $ W_{hy} $ï¼š $ \\frac{\\partial L}{\\partial W _ {hy}} = \\sum _ {t=1}^{T} \\frac{\\partial L}{\\partial \\hat{y} _ t} \\cdot \\frac{\\partial \\hat{y} _ t}{\\partial W_{hy}} $ åå‘ä¼ æ’­å›ä¼ æ¢¯åº¦\nè®¡ç®— æ¢¯åº¦ä¼ æ’­è·¯å¾„ï¼Œä»æŸå¤± $ L $ åå‘é€šè¿‡æ—¶é—´æ­¥ $ T \\to 1 $ é€æ­¥æ›´æ–°å‚æ•°ã€‚ ä½¿ç”¨ æ¢¯åº¦ä¸‹é™ï¼ˆSGD, Adamï¼‰ æ¥æ›´æ–°æƒé‡ã€‚ æ˜¾è€Œæ˜“è§ï¼ŒBPTTå­˜åœ¨ä¸¤ä¸ªè‡´å‘½é—®é¢˜ï¼š\nç¬¬ä¸€ä¸ªæ˜¯æ¢¯åº¦æ¶ˆå¤±æˆ–çˆ†ç‚¸ï¼šå½“æƒé‡çŸ©é˜µçš„èŒƒæ•°$||W_{hh}||$å°äº1æ—¶ï¼Œéšç€æ—¶é—´æ­¥çš„å¢åŠ ï¼Œæ¢¯åº¦æŒ‡æ•°çº§è¡°å‡ï¼Œå¯¼è‡´æ—©æœŸæ—¶é—´æ­¥çš„æ¢¯åº¦å‡ ä¹ä¸º 0ï¼Œæ— æ³•æœ‰æ•ˆè®­ç»ƒï¼› å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æ¢¯åº¦è£å‰ªï¼ˆGradient Clippingï¼‰ æ¥é™åˆ¶æ¢¯åº¦å¤§å°ï¼›ä½¿ç”¨é•¿çŸ­æ—¶è®°å¿†ç½‘ç»œï¼ˆLSTMï¼‰æˆ– é—¨æ§å¾ªç¯å•å…ƒï¼ˆGRUï¼‰ ä»£æ›¿ RNNã€‚ ç¬¬äºŒä¸ªé—®é¢˜åœ¨äºè®¡ç®—å¼€é”€ï¼šBPTT éœ€è¦å­˜å‚¨æ‰€æœ‰æ—¶é—´æ­¥çš„éšè—çŠ¶æ€ï¼Œå› æ­¤å½“åºåˆ—å¾ˆé•¿æ˜¯ï¼Œè®­ç»ƒæ•ˆç‡ä½ã€‚ å¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼šTruncated BPTTï¼Œä»…åœ¨å›ºå®šçª—å£å¤§å°å†…è¿›è¡Œæ¢¯åº¦ä¼ æ’­ï¼Œè€Œä¸å›æº¯æ•´ä¸ªåºåˆ—ã€‚ BPTT Variation Truncted BPTT ç­–ç•¥ï¼šä¸å±•å¼€æ•´ä¸ªæ—¶é—´åºåˆ—ï¼Œè€Œæ˜¯ä»…åœ¨ å›ºå®šçª—å£å¤§å° $ k $ å†…è¿›è¡Œåå‘ä¼ æ’­ï¼ˆå¦‚$ k=10 $ï¼‰ã€‚ ä¼˜ç‚¹ï¼šå‡å°‘è®¡ç®—é‡ï¼Œé€‚ç”¨äºé•¿åºåˆ—è®­ç»ƒã€‚ ç¼ºç‚¹ï¼šå¯èƒ½å¯¼è‡´é•¿ç¨‹ä¾èµ–ä¿¡æ¯ä¸¢å¤±ã€‚ Online BPTT è®¡ç®—ä¸€ä¸ªæ—¶é—´æ­¥çš„æ¢¯åº¦ ç«‹å³æ›´æ–°å‚æ•°ï¼ˆç±»ä¼¼åœ¨çº¿å­¦ä¹ ï¼‰ã€‚ é€‚ç”¨äº æµå¼æ•°æ®å¤„ç†ï¼ˆå¦‚è¯­éŸ³è¯†åˆ«ï¼‰ã€‚ RNN Variation LSTM å’Œ GRU æ˜¯RNNçš„ä¸¤ç§ä¸»è¦å˜ä½“ï¼Œå®ƒä»¬è¢«è®¾è®¡ç”¨äºè§£å†³ä¼ ç»ŸRNNçš„æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜ï¼Œä»è€Œæ›´å¥½åœ°æ•æ‰é•¿ç¨‹ä¾èµ–ï¼ˆlong-term dependenciesï¼‰ã€‚LSTMå’ŒGRUå¯ä»¥é€šè¿‡é—¨æ§æœºåˆ¶ï¼ˆGatesï¼‰ æ§åˆ¶ä¿¡æ¯æµåŠ¨ï¼Œèƒ½å¤Ÿé€‰æ‹©æ€§ä¿ç•™æˆ–é—å¿˜ä¿¡æ¯ï¼Œæœ‰æ•ˆç¼“è§£æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œä»è€Œæ›´å¥½åœ°å­¦ä¹ é•¿ç¨‹ä¾èµ–ã€‚\nLSTM (1) ç»“æ„\nLSTM ä¸»è¦å¼•å…¥äº†ä¸‰ä¸ªGateså’Œä¸€ä¸ªè®°å¿†å•å…ƒï¼ˆCell State, $ C_t $ï¼‰ï¼š\né—å¿˜é—¨ï¼ˆForget Gateï¼‰ï¼šå†³å®šä¸¢å¼ƒå¤šå°‘è¿‡å»çš„ä¿¡æ¯ã€‚ è¾“å…¥é—¨ï¼ˆInput Gateï¼‰ï¼šå†³å®šæ›´æ–°å¤šå°‘æ–°ä¿¡æ¯åˆ°è®°å¿†å•å…ƒã€‚ è¾“å‡ºé—¨ï¼ˆOutput Gateï¼‰ï¼šå†³å®šè¾“å‡ºå¤šå°‘éšè—çŠ¶æ€ã€‚ å®Œæ•´è®¡ç®—æµç¨‹ï¼š $$ f_t = \\sigma(W_f [h_{t-1}, x_t] + b_f) $$ $$ i_t = \\sigma(W_i [h_{t-1}, x_t] + b_i) $$ $$ \\tilde{C} _ t = \\tanh(W_c [h_{t-1}, x_t] + b_c) $$ $$ C _ t = f _ t \\odot C _ {t-1} + i _ t \\odot \\tilde{C} _ t $$ $$ o_t = \\sigma(W_o [h_{t-1}, x_t] + b_o) $$ $$ h_t = o_t \\odot \\tanh(C_t) $$\n(2) è¯¦ç»†è§£é‡Š\né—å¿˜é—¨ $ f_t $ï¼šæ§åˆ¶æ˜¯å¦é—å¿˜è¿‡å»çš„è®°å¿†ã€‚ è¾“å…¥é—¨ $ i_t $ï¼šæ§åˆ¶æ˜¯å¦å†™å…¥æ–°çš„ä¿¡æ¯ã€‚ å€™é€‰è®°å¿† $ \\tilde{C}_t $ï¼šå½“å‰æ—¶é—´æ­¥çš„æ–°ä¿¡æ¯ã€‚ è®°å¿†å•å…ƒ $ C_t $ï¼šæ›´æ–°åçš„é•¿ç¨‹è®°å¿†ï¼Œä¿¡æ¯å¯ä»¥ç›´æ¥åœ¨æ—¶é—´è½´ä¸ŠæµåŠ¨ï¼Œä¸æ˜“ä¸¢å¤±ã€‚ è¾“å‡ºé—¨ $ o_t $ï¼šå†³å®šéšè—çŠ¶æ€ $ h_t $ çš„è¾“å‡ºã€‚ $ C_t $ ç›´æ¥é€šè¿‡åŠ æ³•è¿æ¥ï¼Œä½¿å¾—æ¢¯åº¦æµåŠ¨ä¸ä¼šå› å¤šæ¬¡ä¹˜æ³•è€Œæ¶ˆå¤±ã€‚\nGRU GRU æ˜¯ LSTM çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œå»æ‰äº†ç‹¬ç«‹çš„è®°å¿†å•å…ƒ $ C_t $ï¼Œä»…ä½¿ç”¨éšè—çŠ¶æ€ $ h_t $ ä½œä¸ºå­˜å‚¨ä¿¡æ¯çš„ä»‹è´¨ã€‚\n(1) ç»“æ„ GRU ä¸»è¦æœ‰ä¸¤ä¸ªé—¨ï¼š\né‡ç½®é—¨ï¼ˆReset Gateï¼‰ï¼šæ§åˆ¶å¦‚ä½•ç»“åˆæ–°çš„è¾“å…¥å’Œè¿‡å»çš„éšè—çŠ¶æ€ã€‚ æ›´æ–°é—¨ï¼ˆUpdate Gateï¼‰ï¼šæ§åˆ¶å¤šå°‘è¿‡å»çš„ä¿¡æ¯ä¿ç•™ï¼Œå¤šå°‘æ–°ä¿¡æ¯åŠ å…¥ã€‚ å®Œæ•´è®¡ç®—æµç¨‹ï¼š $$ r_t = \\sigma(W_r [h_{t-1}, x_t] + b_r) $$ $$ z_t = \\sigma(W_z [h_{t-1}, x_t] + b_z) $$ $$ \\tilde{h} _ t = \\tanh(W_h [r_t \\odot h_{t-1}, x_t] + b_h) $$ $$ h_t = (1 - z_t) \\odot h_{t-1} + z_t \\odot \\tilde{h} _ t $$\n(2) è¯¦ç»†è§£é‡Š\né‡ç½®é—¨ $ r_t $ï¼šå†³å®šæ˜¯å¦é—å¿˜è¿‡å»çš„éšè—çŠ¶æ€ã€‚ æ›´æ–°é—¨ $ z_t $ï¼šå†³å®šæ–°æ—§ä¿¡æ¯çš„æ··åˆæ¯”ä¾‹ï¼Œç±»ä¼¼ LSTM çš„è¾“å…¥é—¨å’Œé—å¿˜é—¨çš„ç»“åˆã€‚ å€™é€‰çŠ¶æ€ $ \\tilde{h}_t $ï¼šæ–°çš„ä¿¡æ¯ã€‚ æœ€ç»ˆéšè—çŠ¶æ€ $ h_t $ï¼š å½“ $ z_t $ é€¼è¿‘ 1ï¼šå½“å‰çŠ¶æ€ æ¥è¿‘æ–°ä¿¡æ¯ã€‚ å½“ $ z_t $ é€¼è¿‘ 0ï¼šå½“å‰çŠ¶æ€ ä¿ç•™è¿‡å»çš„éšè—çŠ¶æ€ã€‚ GRU ç”¨æ›´æ–°é—¨åˆå¹¶äº† LSTM çš„è¾“å…¥é—¨å’Œé—å¿˜é—¨ï¼Œå› æ­¤è®¡ç®—æ›´ç®€å•ã€‚\nTransformers è™½ç„¶ LSTM å’Œ GRU ä»ç„¶è¢«å¹¿æ³›ä½¿ç”¨ï¼Œä½†ç°ä»£NLPä»»åŠ¡å¤§å¤šé‡‡ç”¨ Transformerï¼ˆåŸºäºè‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼‰ï¼Œå› ä¸ºï¼š\nTransformer å¹¶è¡Œè®¡ç®— æ€§èƒ½æ›´å¼ºï¼Œè€Œ LSTM/GRU ä¾èµ–åºåˆ—å¤„ç†ï¼Œæ— æ³•å¹¶è¡Œã€‚ Transformer é€šè¿‡ Self-Attention ç›´æ¥å»ºæ¨¡é•¿ç¨‹ä¾èµ–ï¼Œè€ŒLSTM/GRUä»ç„¶æœ‰ä¸€å®šä¿¡æ¯è¡°å‡é—®é¢˜ã€‚ ä½†åœ¨è¯­éŸ³å¤„ç†ã€æ—¶é—´åºåˆ—é¢„æµ‹ç­‰ä»»åŠ¡ä¸­ï¼ŒLSTM/GRUä»ç„¶å…·æœ‰è¾ƒå¥½çš„è¡¨ç°ã€‚\nSelf-Attention The fundamental operation of any transformer architecture is the self-attention operation 1.\nè‡ªæ³¨æ„åŠ›æœºåˆ¶æ˜¯ä¸€ä¸ªä»åºåˆ—åˆ°åºåˆ—çš„æ“ä½œï¼Œå®ƒçš„è¾“å…¥æ˜¯ä¸€ç»„å‘é‡ $x_1, x_2, \u0026hellip;, x_t$ï¼Œå¯¹åº”çš„è¾“å‡ºåºåˆ—æ˜¯ $y_1, y_2, \u0026hellip;, y_t$ã€‚ï¼ˆæ¯ä¸ªå‘é‡éƒ½æ˜¯kç»´ï¼‰\næ¯ä¸€ä¸ª $y_i$ æ˜¯æ€ä¹ˆè®¡ç®—çš„ï¼Ÿ$y_i$æ˜¯æ ¹æ®å½“å‰ä½ç½®çš„$x_i$å’Œå…¶ä»–æ‰€æœ‰ä½ç½®çš„$x_j$çš„ç›¸å…³æ€§è®¡ç®—å‡ºæ¥çš„ï¼Œå…·ä½“å…¬å¼å¦‚ä¸‹ $$y_{\\color{red}{i}} = \\sum_{\\color{blue}{j}} w_{\\color{red}{i}\\color{blue}{j}} x_{\\color{blue}{j}}$$\nå¯¹äº$w_{\\color{red}{i}\\color{blue}{j}}$, å®ƒæ˜¯ç”±$x_{\\color{red}{i}}, x_{\\color{blue}{j}}$çš„ç‚¹ç§¯å‡½æ•°æ¨å¯¼å‡ºæ¥çš„ã€‚ $$w_{\\color{red}{i}\\color{blue}{j}} = \\text{softmax}(w^{\\prime}_{\\color{red}{i}\\color{blue}{j}})$$\nå…¶ä¸­ $$w^{\\prime}_{\\color{red}{i}\\color{blue}{j}} = x^T_ix_j$$\nåŸç†å¯è§†åŒ–å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™æ˜¯æ•´ä¸ªä½“ç³»ç»“æ„ä¸­å”¯ä¸€åœ¨å‘é‡ä¹‹é—´ä¼ æ’­ä¿¡æ¯çš„æ“ä½œã€‚ ä¸ºä»€ä¹ˆself-attentionæœºåˆ¶å¦‚æ­¤æœ‰æ•ˆï¼Ÿæˆ‘ä»¬æ‹¿ç”µå½±æ¨èç³»ç»Ÿæ¥ä¸¾ä¾‹å­ã€‚å‡è®¾ä½ ç»è¥ä¸€å®¶ç”µå½±ç§Ÿèµå…¬å¸ï¼Œä½ æœ‰ä¸€äº›ç”µå½±å’Œä¸€äº›ç”¨æˆ·ï¼Œä½ æƒ³å‘ä½ çš„ç”¨æˆ·æ¨èä»–ä»¬å¯èƒ½ä¼šå–œæ¬¢çš„ç”µå½±ã€‚ä¸€ç§æ–¹æ³•æ˜¯ä¸ºç”µå½±æ‰‹åŠ¨åˆ›å»ºç‰¹å¾ï¼Œä¾‹å¦‚ç”µå½±ä¸­æœ‰å¤šå°‘æµªæ¼«æƒ…èŠ‚ï¼Œæœ‰å¤šå°‘åŠ¨ä½œåœºé¢ï¼Œç„¶åä¸ºç”¨æˆ·è®¾è®¡ç›¸åº”çš„ç‰¹å¾ï¼šä»–ä»¬æœ‰å¤šå–œæ¬¢æµªæ¼«ç”µå½±ï¼Œæœ‰å¤šå–œæ¬¢åŠ¨ä½œç‰‡ã€‚å¦‚æœè¿™æ ·åšï¼Œä¸¤ä¸ªç‰¹å¾å‘é‡ä¹‹é—´çš„ç‚¹ç§¯å°±ä¼šä¸ºç”µå½±å±æ€§ä¸ç”¨æˆ·å–œå¥½çš„åŒ¹é…ç¨‹åº¦æ‰“åˆ†ã€‚å¦‚æœç”¨æˆ·å’Œç”µå½±çš„æŸä¸ªç‰¹å¾çš„ç¬¦å·ç›¸åŒ¹é…\u0026ndash;ç”µå½±å¾ˆæµªæ¼«ï¼Œç”¨æˆ·å–œæ¬¢æµªæ¼«ï¼Œæˆ–è€…ç”µå½±ä¸æµªæ¼«ï¼Œç”¨æˆ·è®¨åŒæµªæ¼«\u0026ndash;é‚£ä¹ˆå¾—åˆ°çš„ç‚¹ç§¯å°±ä¼šå¾—åˆ°è¯¥ç‰¹å¾çš„æ­£å€¼ã€‚å¦‚æœç¬¦å·ä¸åŒ¹é…\u0026ndash;ç”µå½±æµªæ¼«è€Œç”¨æˆ·è®¨åŒæµªæ¼«ï¼Œåˆ™ç›¸åº”é¡¹ä¸ºè´Ÿå€¼ã€‚ å½“ç„¶è¿™æ ·åšå¹¶ä¸ç°å®ï¼Œå› ä¸ºè¿™æ¶‰åŠåˆ°å¤§é‡çš„æ•°æ®æ ‡æ³¨å·¥ä½œã€‚ä¸€ç§è§£å†³åŠæ³•æ˜¯æˆ‘ä»¬å°†ç”µå½±ç‰¹å¾å’Œç”¨æˆ·ç‰¹å¾ä½œä¸ºæ¨¡å‹çš„å‚æ•°ï¼Œè®©ç”¨æˆ·é€‰æ‹©ä¸€äº›å–œæ¬¢çš„ç”µå½±ï¼Œç„¶åé€šè¿‡ä¼˜åŒ–ç®—æ³•è°ƒæ•´ç”¨æˆ·ç‰¹å¾å’Œç”µå½±ç‰¹å¾ï¼Œä½¿å®ƒä»¬çš„ç‚¹ç§¯èƒ½å¤ŸåŒ¹é…ç”¨æˆ·çš„å·²çŸ¥å–œå¥½ã€‚å³ä½¿æˆ‘ä»¬æ²¡æœ‰å‘Šè¯‰æ¨¡å‹è¿™äº›ç‰¹å¾çš„å…·ä½“å«ä¹‰ï¼Œä½†åœ¨è®­ç»ƒåï¼Œè¿™äº›ç‰¹å¾å¾€å¾€ä¼šè‡ªå‘åœ°æ˜ å°„åˆ°æœ‰æ„ä¹‰çš„ç”µå½±å†…å®¹ä¿¡æ¯ã€‚ ä¾‹å¦‚ï¼ŒæŸä¸ªç»´åº¦å¯èƒ½å¯¹åº”â€œæµªæ¼«â€ï¼Œå¦ä¸€ä¸ªç»´åº¦å¯èƒ½å¯¹åº”â€œåŠ¨ä½œâ€æˆ–â€œå–œå‰§â€ï¼Œå³ä½¿æˆ‘ä»¬äº‹å…ˆå¹¶æœªæ˜ç¡®è¿™äº›ç»´åº¦çš„å«ä¹‰ã€‚\nè¿™å°±æ˜¯self-attentionæœºåˆ¶ã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ç§è®¡ç®—åºåˆ—å†…éƒ¨å…³ç³»çš„æ–¹æ³•ã€‚åœ¨å¤„ç†æ–‡æœ¬æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆä¸ºæ¯ä¸ªå•è¯åˆ†é…ä¸€ä¸ªå¯å­¦ä¹ çš„åµŒå…¥å‘é‡ï¼ˆembedding vectorï¼‰ï¼Œä¾‹å¦‚å¥å­ \u0026ldquo;the cat walks on the street\u0026rdquo; ä¼šè¢«æ˜ å°„ä¸ºå‘é‡åºåˆ— $ v_{\\text{the}}, v_{\\text{cat}}, v_{\\text{walks}}, v_{\\text{on}}, v_{\\text{the}}, v_{\\text{street}} $ã€‚ç„¶åï¼Œè¿™äº›å‘é‡è¿›å…¥self-attention layerï¼Œè¾“å‡ºæ–°çš„å‘é‡åºåˆ— $ y_{\\text{the}}, y_{\\text{cat}}, y_{\\text{walks}}, y_{\\text{on}}, y_{\\text{the}}, y_{\\text{street}} $ã€‚å…¶ä¸­ï¼Œæ¯ä¸ª $ y_t $ éƒ½æ˜¯è¾“å…¥å‘é‡çš„åŠ æƒå’Œï¼Œè€Œæƒé‡æ˜¯æ ¹æ®å½’ä¸€åŒ– (softmax) çš„ç‚¹ç§¯ï¼ˆdot productï¼‰ è®¡ç®—å¾—åˆ°çš„ã€‚ç‚¹ç§¯è¡¡é‡äº†å•è¯ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œå¦‚æœä¸¤ä¸ªå•è¯åœ¨ä¸Šä¸‹æ–‡ä¸­ç´§å¯†ç›¸å…³ï¼Œå®ƒä»¬çš„ç‚¹ç§¯å°±ä¼šè¾ƒé«˜ï¼Œä»è€Œè·å¾—æ›´é«˜çš„æ³¨æ„åŠ›æƒé‡ã€‚ä¾‹å¦‚ï¼Œåœ¨å¥å­ä¸­ï¼Œâ€œwalksâ€ è¿™ä¸ªåŠ¨è¯éœ€è¦ä¸â€œcatâ€å»ºç«‹è”ç³»ï¼Œæ‰€ä»¥ $ v_{\\text{walks}} $ å’Œ $ v_{\\text{cat}} $ çš„ç‚¹ç§¯ä¼šè¾ƒé«˜ï¼Œè€Œâ€œtheâ€ è¿™æ ·çš„å† è¯ç”±äºå¯¹æ•´ä½“è¯­ä¹‰å½±å“è¾ƒå°ï¼Œé€šå¸¸ä¸ä¼šä¸å…¶ä»–è¯æœ‰å¾ˆå¤§çš„ç‚¹ç§¯å€¼ã€‚\næœ‰è¶£çš„æ˜¯ï¼ŒåŸºç¡€çš„self-attentionå¹¶ä¸å…³å¿ƒè¾“å…¥çš„é¡ºåºï¼Œå®ƒåªå…³æ³¨å•è¯ä¹‹é—´çš„ç›¸å¯¹å…³ç³»ã€‚å¦‚æœæˆ‘ä»¬å¯¹è¾“å…¥åºåˆ—è¿›è¡Œé‡æ–°æ’åˆ—ï¼Œè¾“å‡ºçš„å‘é‡åºåˆ—ä¹Ÿä¼šä»¥ç›¸åŒçš„æ–¹å¼è¢«è°ƒæ•´ï¼Œè€Œä¸ä¼šæ”¹å˜å†…å®¹æœ¬èº«ã€‚è¿™æ„å‘³ç€è‡ªæ³¨æ„åŠ›æœ¬è´¨ä¸Šæ˜¯ä¸€ç§é›†åˆæ“ä½œï¼ˆSet Operationï¼‰ï¼Œå®ƒä¸ä¼šä¾èµ–è¯çš„å‰åé¡ºåºï¼Œè€Œæ˜¯è®©æ¨¡å‹è‡ªå·±å­¦ä¹ å“ªäº›å•è¯ä¹‹é—´åº”è¯¥æœ‰æ›´å¼ºçš„è”ç³»ã€‚æ­¤å¤–ï¼ŒåŸºç¡€çš„è‡ªæ³¨æ„åŠ›å±‚æ²¡æœ‰å¯è®­ç»ƒå‚æ•°ï¼Œå®ƒçš„è¡Œä¸ºå®Œå…¨å–å†³äºè¾“å…¥å‘é‡ï¼Œè€Œè¿™äº›å‘é‡æ¥è‡ªäºåµŒå…¥å±‚ï¼Œè€ŒåµŒå…¥å±‚æ˜¯å¯å­¦ä¹ çš„ã€‚åœ¨å®Œæ•´çš„ Transformer ç»“æ„ä¸­ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡ä½ç½®ç¼–ç ï¼ˆPositional Encodingï¼‰ è®©æ¨¡å‹æ„ŸçŸ¥å•è¯çš„é¡ºåºä¿¡æ¯ï¼Œä½†åœ¨çº¯è‡ªæ³¨æ„åŠ›å±‚ä¸­ï¼Œå®ƒæ˜¯å®Œå…¨é¡ºåºä¸æ•æ„Ÿçš„ã€‚\nQuery, Key, Value å½“ä»£transformerä¸­ä½¿ç”¨çš„self-attentionè¿˜ä¾èµ–ä¸‰ä¸ªé¢å¤–çš„æŠ€å·§ - Queries, Values, Keysã€‚åœ¨ è‡ªæ³¨æ„åŠ› è®¡ç®—ä¸­ï¼Œæ¯ä¸ªè¾“å…¥å‘é‡ $ x_i $ éœ€è¦åœ¨ä¸‰ç§ä¸åŒçš„è§’è‰²ä¹‹é—´åˆ‡æ¢ï¼š\næŸ¥è¯¢ï¼ˆQueryï¼Œ$ q_i $ï¼‰ï¼šæ¯ä¸ªè¯å‘é‡éƒ½éœ€è¦ä¸å…¶ä»–è¯å‘é‡è¿›è¡Œæ¯”è¾ƒï¼Œä»¥ç¡®å®šå®ƒå¯¹è‡ªå·±çš„è¾“å‡º $ y_i $ çš„å½±å“æƒé‡ã€‚ é”®ï¼ˆKeyï¼Œ$ k_i $ï¼‰ï¼šæ¯ä¸ªè¯å‘é‡ä¹Ÿè¢«å…¶ä»–å•è¯ç”¨æ¥è®¡ç®—æƒé‡ï¼Œå³å®ƒå¯¹å…¶ä»–å•è¯è¾“å‡º $ y_j $ çš„å½±å“ã€‚ å€¼ï¼ˆValueï¼Œ$ v_i $ï¼‰ï¼šåœ¨è®¡ç®—å®Œæƒé‡åï¼Œæ¯ä¸ªå•è¯çš„æœ€ç»ˆè¡¨ç¤ºæ˜¯æ‰€æœ‰è¯å‘é‡çš„åŠ æƒå’Œï¼Œå…¶ä¸­åŠ æƒæ–¹å¼ç”±æŸ¥è¯¢å’Œé”®è®¡ç®—å¾—åˆ°çš„æ³¨æ„åŠ›æƒé‡å†³å®šã€‚ ä¸ºäº†æ›´æ–¹ä¾¿è®¡ç®—ï¼Œæˆ‘ä»¬ä¸ä¼šç›´æ¥ä½¿ç”¨åŸå§‹è¾“å…¥å‘é‡ $ x_i $ï¼Œè€Œæ˜¯å¯¹å…¶è¿›è¡Œä¸‰æ¬¡ä¸åŒçš„ çº¿æ€§å˜æ¢ï¼Œå¾—åˆ°ï¼š $$ q_i = W_q x_i, \\quad k_i = W_k x_i, \\quad v_i = W_v x_i $$ å…¶ä¸­ $ W_q, W_k, W_v $ æ˜¯å¯è®­ç»ƒçš„ æƒé‡çŸ©é˜µï¼Œç”¨äºå­¦ä¹ é€‚åˆä»»åŠ¡çš„æ³¨æ„åŠ›è¡¨ç¤ºã€‚\næ¥ä¸‹æ¥ï¼Œè®¡ç®—ä¸¤ä¸ªè¯ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼ˆç›¸å…³æ€§ï¼‰: $$ w\u0026rsquo; = q_i^T k_j $$ ç„¶åè¿›è¡Œ softmax å½’ä¸€åŒ– ä»¥è·å¾—æœ€ç»ˆçš„æ³¨æ„åŠ›æƒé‡ï¼š $$ w_{ij} = \\text{softmax}(w\u0026rsquo;) $$ æœ€åï¼Œæ¯ä¸ªå•è¯çš„è¾“å‡ºå‘é‡$ y_i $æ˜¯æ‰€æœ‰å€¼å‘é‡çš„åŠ æƒå’Œï¼š $$ y_i = \\sum_j w_{ij} v_j $$ è¿™ä¸ªè¿‡ç¨‹è®©æ¨¡å‹èƒ½å¤ŸåŠ¨æ€è°ƒæ•´å•è¯ä¹‹é—´çš„ç›¸äº’å½±å“ï¼Œä»è€Œæ›´å¥½åœ°ç†è§£åºåˆ—ä¸­çš„è¯­ä¹‰å…³ç³»ã€‚\nç‚¹ç§¯ç¼©æ”¾ åˆšæ‰æˆ‘ä»¬ä½¿ç”¨ dot product è®¡ç®—æŸ¥è¯¢ï¼ˆQueryï¼‰å’Œé”®ï¼ˆKeyï¼‰ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œå¹¶å°†å…¶è¾“å…¥ Softmax è®¡ç®—æ³¨æ„åŠ›æƒé‡ã€‚ç„¶è€Œï¼Œå½“åµŒå…¥ç»´åº¦ $ k $ è¾ƒå¤§æ—¶ï¼Œç‚¹ç§¯çš„å€¼ä¼šå˜å¾—å¾ˆå¤§ï¼Œå¯¼è‡´ Softmax çš„æ¢¯åº¦å˜å¾—æå°ï¼Œç”šè‡³é€ æˆæ¢¯åº¦æ¶ˆå¤±ï¼Œå½±å“æ¨¡å‹è®­ç»ƒã€‚\nä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯¹ç‚¹ç§¯è¿›è¡Œç¼©æ”¾ ï¼ˆscaling dot productï¼‰ï¼Œå³é™¤ä»¥ $ \\sqrt{k} $: $$ w\u0026rsquo;_{ij} = \\frac{q_i^T k_j}{\\sqrt{k}} $$ ä»è€Œé˜²æ­¢è¾“å…¥å€¼è¿‡å¤§ï¼Œä½¿ softmax å‡½æ•°è¾“å‡ºçš„æ¢¯åº¦ä¿æŒç¨³å®šï¼Œæé«˜è®­ç»ƒæ•ˆç‡ã€‚è¿™æ ·ç¼©æ”¾çš„åŸå› åœ¨äº é«˜ç»´å‘é‡çš„æ¬§å‡ é‡Œå¾—é•¿åº¦éšç€ç»´åº¦ $ k $ å¢å¤§è€Œå¢å¤§ï¼Œé€šè¿‡é™¤ä»¥ $\\sqrt{k}$ï¼Œå¯ä»¥æ¶ˆé™¤è¿™ç§æ”¾å¤§æ•ˆåº”ï¼Œä½¿ä¸åŒç»´åº¦çš„è®¡ç®—ç»“æœä¿æŒåœ¨åˆç†èŒƒå›´å†…ï¼Œä»è€Œæ›´ç¨³å®šåœ°å­¦ä¹ æ³¨æ„åŠ›æƒé‡ã€‚\nMulti-head Attention åœ¨Self-Attentionæœºåˆ¶ä¸­ï¼Œæ¯ä¸ªå•è¯éƒ½å¯ä»¥ä¸å¥å­ä¸­çš„å…¶ä»–å•è¯å»ºç«‹å…³ç³»ã€‚ç„¶è€Œï¼Œåœ¨æ ‡å‡†çš„å•å¤´æ³¨æ„åŠ›ï¼ˆSingle-Head Attentionï¼‰æœºåˆ¶ä¸‹ï¼Œä¸€ä¸ªå•è¯åªèƒ½ç”¨ä¸€ä¸ªæ³¨æ„åŠ›åˆ†å¸ƒæ¥è¡¨ç¤ºå®ƒä¸æ‰€æœ‰å…¶ä»–å•è¯çš„å…³ç³»ã€‚è¿™å°±å¯¼è‡´äº†ä¸€ä¸ªé—®é¢˜ï¼šå•ä¸ªè¯å¯èƒ½åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­æ‰¿æ‹…ä¸åŒçš„è¯­ä¹‰è§’è‰²ï¼Œä½†å•å¤´æ³¨æ„åŠ›æ— æ³•åŒºåˆ†è¿™äº›è§’è‰²ã€‚ä¾‹å¦‚Mary gave roses to susan. åœ¨ single-head attention æœºåˆ¶ä¸­ï¼Œæ‰€æœ‰è¿™äº›ä¿¡æ¯éƒ½ä¼šè¢«ç®€å•åœ°åŠ æƒæ±‚å’Œï¼Œè€Œä¸ä¼šåˆ†åˆ«å¤„ç†ä¸åŒçš„è¯­ä¹‰å…³ç³»ã€‚è¿™æ„å‘³ç€ï¼Œ\u0026ldquo;Mary\u0026rdquo; å’Œ \u0026ldquo;Susan\u0026rdquo; éƒ½ä¼šå½±å“ \u0026ldquo;gave\u0026rdquo; çš„è¡¨ç¤ºï¼Œä½†å®ƒä»¬çš„å½±å“æ–¹å¼æ˜¯ç›¸åŒçš„ï¼Œæ— æ³•åŒºåˆ†\u0026quot;æ–½äº‹è€…\u0026quot; å’Œ \u0026ldquo;å—ç›Šè€…\u0026rdquo; çš„ä¸åŒè¯­ä¹‰ã€‚\nå¤šå¤´æ³¨æ„åŠ›å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ å¤šå¤´æ³¨æ„åŠ›ï¼ˆMulti-Head Attentionï¼‰ é€šè¿‡ä½¿ç”¨å¤šä¸ªç‹¬ç«‹çš„æ³¨æ„åŠ›å¤´ï¼ˆattention headsï¼‰ æ¥æä¾›æ›´é«˜çš„è¡¨è¾¾èƒ½åŠ›ã€‚å…·ä½“æ¥è¯´,æ¯ä¸ªæ³¨æ„åŠ›å¤´ï¼ˆheadï¼‰å…·æœ‰è‡ªå·±ç‹¬ç«‹çš„æŸ¥è¯¢ã€é”®å’Œå€¼å˜æ¢çŸ©é˜µï¼š$W_q^r, W_k^r, W_v^r$ï¼Œå…¶ä¸­$r$è¡¨ç¤ºä¸åŒçš„æ³¨æ„åŠ›å¤´ã€‚å¯¹äºè¾“å…¥$x_i$ï¼Œæ¯ä¸ªæ³¨æ„åŠ›å¤´éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªè¾“å‡ºå‘é‡$y_i^r$ï¼ŒæŠŠè¿™äº›å‘é‡æ‹¼æ¥èµ·æ¥ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªçº¿æ€§å˜æ¢æŠŠç»´åº¦é™åˆ°kã€‚\nä»€ä¹ˆæ˜¯Transformer? Any architecture designed to process a connected set of unitsâ€”such as the tokens in a sequence or the pixels in an imageâ€”where the only interaction between units is through self-attention.\nä¸‹é¢æ˜¯ä¸€ä¸ªæ¯”è¾ƒåŸºç¡€çš„æ¶æ„ BERT BERT - Bidirectional Embedding Representation Transformer\nBERTä¸GPTæ¶æ„çš„åŒºåˆ«\nParsing Decoding with LLMs One naturally wonders if the problem of translation could conceivably be treated as a problem in cryptography. When I look at an article in Russian, I say: â€™This is really written in English, but it has been coded in some strange symbols. I will now proceed to decode.\nTerminology: continuation - è¡¥å…¨\næˆ‘ä»¬å¦‚ä½•ç”Ÿæˆthe most probable continuation? $$ \\arg\\max_{w_1, \u0026hellip;, w_n} p(w_1, \u0026hellip;, w_n | \\text{prefix}) $$ å¦‚ä½•æ±‚è§£ï¼Ÿ\néå†æ‰€æœ‰å¯èƒ½çš„ç»­å†™ï¼Œè®¡ç®—å®ƒä»¬çš„æ¦‚ç‡ï¼Œç„¶åé€‰æ‹©æ¦‚ç‡æœ€å¤§çš„é‚£ä¸ªã€‚ ä½†åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä¸­ï¼Œå¯èƒ½çš„åºåˆ—æ•°é‡æ˜¯æŒ‡æ•°çº§å¢é•¿çš„ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•é€šå¸¸ä¸å¯è¡Œã€‚ å¦ä¸€ç§ç­–ç•¥æ˜¯é€æ­¥ç”Ÿæˆï¼Œå³æ¯ä¸€æ­¥é€‰æ‹©å½“å‰æœ€ä¼˜çš„ä¸‹ä¸€ä¸ªå•è¯ï¼ˆæˆ– top-k é€‰é¡¹ï¼‰ã€‚è¿™ç§æ–¹æ³•æ›´å®ç”¨ï¼Œæ¯”å¦‚è´ªå¿ƒè§£ç ï¼ˆgreedy decodingï¼‰ Greedy Decoding ä¸‹é¢æ˜¯greedy decodingçš„å…·ä½“æµç¨‹ è¿™ç§è§£ç æ–¹å¼çš„é—®é¢˜ï¼š\næˆ‘ä»¬åªåšä¸€æ¬¡continuationï¼Œä¸€æ—¦å‘ç”Ÿé”™è¯¯æ— æ³•å›æº¯æ›´æ”¹ã€‚ Beam Searching Decoding æ ¹æ®greedy decodingçš„æ•™è®­ï¼Œæˆ‘ä»¬é€‰æ‹©ä¿ç•™å‡ ä¸ªcontinuationï¼Œå¹¶ä¸”æ¯æ¬¡éƒ½æ‰©å±•most promisingçš„é‚£ä¸ªã€‚æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º Beam Searchingå¦‚ä½•å®ç°ï¼Ÿ\nç”¨ä¼˜å…ˆé˜Ÿåˆ—è¿™æ ·çš„æ•°æ®ç»“æ„æ¥å­˜å‚¨æ¯ä¸ªcontinuation è¿™ä¸ªé˜Ÿåˆ—ä¸­ä¿æŒæœ€å¤škä¸ªè§£æ å½“è¦è§£ç ä¸€ä¸ªå•è¯æ—¶ï¼Œä»é˜Ÿåˆ—ä¸­popå‡ºä¸€ä¸ªè§£æï¼Œæ‰©å±•å®Œå†pushå›é˜Ÿåˆ— ç”¨priority queueè¿™ç§ç»“æ„æ¥åšï¼Œæ—¶é—´å¤æ‚åº¦ä¸ä¼šè¶…è¿‡O(logk)ï¼Œç”šè‡³èƒ½è¾¾åˆ°O(1) é˜Ÿåˆ—è§„æ¨¡kçš„å½±å“\nå½“k=1ï¼Œå°±æ˜¯greedy decodingã€‚æ‰€ä»¥å½“kè¾ƒå°æ—¶ï¼Œæˆ‘ä»¬ä¼šå‡ºç°ç±»ä¼¼çš„é—®é¢˜ å½“kå¾ˆå¤§æ—¶ï¼Œä¸€æ–¹é¢æ˜¯è®¡ç®—æ˜‚è´µï¼Œä¸€æ–¹é¢æ˜¯æœ‰å·¥ä½œè¡¨æ˜è¾ƒå¤§çš„kå¾€å¾€å¯¼è‡´worse translation 2, 3ã€‚ è€Œä¸”å½“kå¾ˆå¤§æ—¶ï¼Œå¾€å¾€ç”Ÿæˆçš„continationéƒ½å¾ˆçŸ­ï¼Œå› ä¸ºè¾ƒçŸ­çš„continuationä¸€èˆ¬éƒ½æ˜¯ä¼˜é€‰ å› æ­¤ï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„kéå¸¸é‡è¦ è§£å†³æ–¹æ³•ï¼š\nSampling ä¸å…¶æ¯æ¬¡é€‰æ‹©æ¦‚ç‡æœ€å¤§çš„ï¼Œä¸å¦‚ä»è¾“å‡ºçš„æ¦‚ç‡åˆ†å¸ƒä¸­é‡‡æ ·ã€‚ä¾‹å¦‚Top-k Samplingå’ŒNucleus sampling\nHoltzman et al. å¯¹æ¯”äº†å‡ ç§æ–¹æ³•çš„æ•ˆæœï¼Œå¦‚å›¾æ‰€ç¤º4 é™¤æ­¤ä»¥å¤–ï¼Œè¿˜æœ‰Locally Typical Sampling Top-k Sampling vs. Nucleus Sampling vs. Locally Typical Sampling è¿™äº›éƒ½æ˜¯æ–‡æœ¬ç”Ÿæˆä»»åŠ¡ä¸­ç”¨äºè§£ç ï¼ˆdecodingï¼‰çš„ç­–ç•¥ï¼Œæ—¨åœ¨å¹³è¡¡å¤šæ ·æ€§å’Œåˆç†æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨è¯­è¨€æ¨¡å‹ï¼ˆå¦‚ GPTã€LLMï¼‰ä¸­åº”ç”¨ã€‚\nå®ƒä»¬çš„æ ¸å¿ƒç›®æ ‡æ˜¯é¿å…å•ä¸€ç¡®å®šæ€§è¾“å‡ºï¼ˆå¦‚ Greedy Searchï¼‰ï¼Œè®©ç”Ÿæˆæ–‡æœ¬æ›´åŠ è‡ªç„¶å’Œå¯Œæœ‰å˜åŒ–ã€‚\næ ¸å¿ƒæ€æƒ³ï¼š\né€‰æ‹©é‚£äº›ä½¿å¾—æ¨¡å‹ç”Ÿæˆçš„ä¸‹ä¸€ä¸ªå•è¯åœ¨ä¸Šä¸‹æ–‡ä¸­æœ€ç¬¦åˆâ€œå±€éƒ¨å…¸å‹æ€§â€çš„å•è¯ã€‚ ä¸åªæ˜¯çœ‹å•è¯æ¦‚ç‡æœ¬èº«ï¼Œè€Œæ˜¯çœ‹å®ƒæ˜¯å¦åœ¨ä¸Šä¸‹æ–‡ä¸­â€œå¬èµ·æ¥â€åˆç†ï¼ˆå±€éƒ¨ç†µæœ€å°ï¼‰ã€‚ æµç¨‹ï¼š\nè®¡ç®—æ‰€æœ‰å•è¯çš„æ¦‚ç‡ $ p(w \\mid \\text{context}) $ã€‚ è®¡ç®—è¿™äº›å•è¯çš„ ä¿¡æ¯ç†µï¼ˆself-informationï¼‰ï¼š $$ s(w) = -\\log p(w \\mid \\text{context}) $$ é€‰æ‹©ä¿¡æ¯ç†µæœ€æ¥è¿‘å¹³å‡ä¿¡æ¯ç†µï¼ˆå…¸å‹ç†µï¼‰ çš„ä¸€éƒ¨åˆ†å•è¯ã€‚ åœ¨è¿™ä¸ªå­é›†ä¸­è¿›è¡Œé‡‡æ ·ã€‚ ä¼˜ç‚¹ï¼š\né¿å…äº† Top-k å’Œ Nucleus Sampling çš„å±€é™ï¼Œä½¿å¾—è¾“å‡ºæ›´åŠ ç¬¦åˆä¸Šä¸‹æ–‡ï¼Œè€Œä¸æ˜¯ä»…ä»…åŸºäºå…¨å±€æ¦‚ç‡é«˜ä½ã€‚ é€‚ç”¨äºå¯¹å±€éƒ¨è¯­å¢ƒè¦æ±‚é«˜çš„ä»»åŠ¡ï¼Œæ¯”å¦‚å¯¹è¯ç”Ÿæˆã€æ‘˜è¦ç­‰ã€‚ ç¼ºç‚¹ï¼š\nè®¡ç®—å¤æ‚åº¦ç•¥é«˜ï¼Œéœ€è¦é¢å¤–è®¡ç®—ä¿¡æ¯ç†µã€‚ é‡‡æ ·çš„ç›®çš„å°±æ˜¯å¹³è¡¡å¤šæ ·æ€§å’Œåˆç†æ€§ã€‚é¿å…è¯­è¨€æ¨¡å‹å•ä¸€ç¡®å®šæ€§çš„è¾“å‡ºã€‚\nNeural Parsing å…ˆå¤ä¹ ä¸‹Encoder-Decoderæ¶æ„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒEncoderä½œç”¨æ˜¯å°†è¾“å…¥åºåˆ—ï¼ˆå¦‚å¾·è¯­å¥å­ï¼‰ç¼–ç æˆä¸€ä¸ªå›ºå®šé•¿åº¦çš„ä¸Šä¸‹æ–‡å‘é‡ï¼ˆcontext vectorï¼‰ã€‚\nè¾“å…¥è¯ï¼ˆå¦‚ \u0026ldquo;natÃ¼rlich\u0026rdquo;, \u0026ldquo;hat\u0026rdquo;, \u0026ldquo;john\u0026rdquo;, \u0026ldquo;spaÃŸ\u0026rdquo;ï¼‰é¦–å…ˆè¢«æ˜ å°„æˆè¯å‘é‡ï¼ˆ$ x_1, x_2, x_3, x_4 $ï¼‰ã€‚ è¿™äº›è¯å‘é‡ä¾æ¬¡è¾“å…¥åˆ°ä¸€ä¸ªRNN ç¼–ç å™¨ï¼ˆé€šå¸¸æ˜¯ LSTM æˆ– GRUï¼‰ï¼Œäº§ç”Ÿéšè—çŠ¶æ€ $ h_1, h_2, h_3, h_4 $ã€‚ è¿™äº›éšè—çŠ¶æ€æ•æ‰äº†å¥å­çš„ä¿¡æ¯ï¼Œæœ€ç»ˆæœ€åä¸€ä¸ªéšè—çŠ¶æ€ï¼ˆè¿™é‡Œæ˜¯ $ h_4 $ï¼‰è¢«ç”¨ä½œæ•´ä¸ªè¾“å…¥å¥å­çš„ä¸Šä¸‹æ–‡å‘é‡ï¼ˆcontext vectorï¼‰ã€‚ Decoderæ¥æ”¶ç¼–ç å™¨æä¾›çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œç„¶åé€æ­¥ç”Ÿæˆç›®æ ‡è¯­è¨€çš„å¥å­ï¼ˆå¦‚è‹±æ–‡ï¼‰ã€‚\nç¼–ç å™¨æœ€åçš„éšè—çŠ¶æ€è¢«ä¼ å…¥è§£ç å™¨çš„ RNN ä½œä¸ºåˆå§‹çŠ¶æ€ã€‚ è§£ç å™¨ä½¿ç”¨ RNNï¼ˆLSTM/GRUï¼‰é€æ­¥ç”Ÿæˆç›®æ ‡è¯­è¨€çš„å•è¯ï¼š åˆå§‹çŠ¶æ€ $ s_1 $ ä¾èµ–äºç¼–ç å™¨çš„æœ€åä¸€ä¸ªéšè—çŠ¶æ€ã€‚ æ¯ä¸ªæ—¶é—´æ­¥ï¼Œè§£ç å™¨çš„ RNN ç”Ÿæˆä¸€ä¸ªæ–°çš„éšè—çŠ¶æ€ $ s_t $ã€‚ é€šè¿‡ä¸€ä¸ª softmax å±‚ï¼Œ$ s_t $ è®¡ç®—å½“å‰æ—¶é—´æ­¥çš„è¾“å‡ºè¯ $ y_t $ï¼ˆå¦‚ \u0026ldquo;of\u0026rdquo;, \u0026ldquo;course\u0026rdquo;, \u0026ldquo;john\u0026rdquo;, \u0026ldquo;has\u0026rdquo;, \u0026ldquo;fun\u0026rdquo;ï¼‰ã€‚ è§£ç å™¨çš„è¾“å‡ºä½œä¸ºè¾“å…¥ä¼ é€’åˆ°ä¸‹ä¸€æ­¥ï¼Œç›´åˆ°ç”Ÿæˆå®Œæ•´å¥å­ã€‚ Parsing is the task of turning a sequence of words\né—®é¢˜æ¥äº†ï¼Œå¥å­è§£æçš„è¾“å…¥æ˜¯ä¸€ä¸ªåºåˆ—ï¼Œä½†è¾“å‡ºä¸æ˜¯ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•ç”¨encoder-decoderæ¨¡å‹æ¥è¿›è¡Œparsingï¼Ÿ\næˆ‘ä»¬å¯ä»¥linearize the syntax tree. è¿™æ ·æˆ‘ä»¬å°±æœ‰ä¸€ä¸ªåºåˆ—æ¥è¡¨ç¤ºè¾“å‡ºäº†ã€‚ä¾‹å¦‚ï¼šI saw a man with a telescopeçš„å¥å­è§£æå°±æ˜¯ (S (NP (Pro You ) ) (VP (V saw ) (NP (Det a ) (N man ) (PP (P with ) (Det a ) (N telescope ) ) ) ) )\næ­¤å¤–ï¼Œè¿˜éœ€è¦ä¸€äº›ä¼˜åŒ–\næ·»åŠ EOSã€‚ä½¿è§£ç å™¨çŸ¥é“ä½•æ—¶åœæ­¢ç”Ÿæˆï¼Œè€Œä¸ä¼šä¸€ç›´æ— é™åˆ¶åœ°é¢„æµ‹å•è¯ã€‚ åè½¬è¾“å…¥å­—ç¬¦ä¸²å¯ä»¥å¸¦æ¥å°å¹…çš„æ€§èƒ½æå‡ã€‚ åŠ æ·±ç½‘ç»œå±‚æ•°ã€‚ä¾‹å¦‚å¯¹encoderå’Œdecoderéƒ½ä½¿ç”¨ä¸‰å±‚LSTM5ã€‚ æ·»åŠ æ³¨æ„åŠ›æœºåˆ¶ ä½¿ç”¨word2vecä½œä¸ºè¾“å…¥ï¼ˆé¢„è®­ç»ƒçš„è¯åµŒå…¥ï¼‰ è‡ªåŠ¨ç”Ÿæˆè®­ç»ƒæ•°æ®ï¼Œè€Œä¸éœ€è¦äººå·¥æ ‡æ³¨ã€‚Vinyals et al. (2015) 5 é‡‡ç”¨ Berkeley Parserï¼ˆä¸€ä¸ªå·²æœ‰çš„å¥æ³•è§£æå™¨ï¼‰æ¥è§£æå¤§é‡æ–‡æœ¬ï¼Œå¹¶ç”¨è¿™äº›è§£æç»“æœä½œä¸ºè®­ç»ƒæ•°æ®ã€‚ å¯èƒ½å‘ç”Ÿçš„é—®é¢˜ï¼ˆæ¯”ä¾‹å¾ˆå°ï¼Œæ— éœ€æ‹…å¿ƒï¼‰ï¼šæ¯”å¦‚æˆ‘ä»¬å¦‚ä½•ç¡®å®šopening and closing brackets match? å¦‚ä½•å¯¹åº”è¾“å…¥å’Œè¾“å‡ºï¼Ÿå¦‚ä½•ç¡®ä¿æ¨¡å‹è¾“å‡ºçš„æ˜¯æ•´ä¸ªåºåˆ—çš„æœ€ä¼˜parsingè€Œä¸æ˜¯ä»…ä»…é¢„æµ‹æ¯ä¸ªtime stepä¸Šçš„best symbol?\nParsing with Transformers Kitaevç­‰äººç”¨transformersè¿›è¡Œparsingã€‚\nUse a transformer to encode the input This results in a â€œcontext aware summary vectorâ€ (embedding) for each input word. The embedding encodes word, PoS tag, and position information. The embedding layers are combined to obtain span scores But they also try factored attention heads, which separate position and content information. ä»€ä¹ˆæ˜¯span scores? åœ¨NLPä¸­ï¼Œå°¤å…¶æ˜¯å‘½åå®ä½“è¯†åˆ«ï¼ˆNERï¼‰ã€å¥æ³•è§£æï¼ˆParsingï¼‰ å’Œ ä¿¡æ¯æŠ½å–ï¼ˆIEï¼‰ ç­‰ä»»åŠ¡ä¸­ç”¨äºè¯„ä¼°æ¨¡å‹æ€§èƒ½çš„æŒ‡æ ‡ã€‚ Span scores é€šå¸¸åŸºäº Precisionï¼ˆç²¾ç¡®ç‡ï¼‰ã€Recallï¼ˆå¬å›ç‡ï¼‰ å’Œ F1-scoreï¼ˆF1 åˆ†æ•°ï¼‰ æ¥è¯„ä¼°æ¨¡å‹åœ¨ span-level çš„è¡¨ç°ï¼š\nSpan scoresåœ¨Transformerè§£æä»»åŠ¡ä¸­çš„è®¡ç®—æ–¹æ³•ï¼šè®¡ç®—spanç›¸å…³çš„å‘é‡å·®å€¼ï¼Œç»è¿‡çº¿æ€§å˜æ¢ã€å½’ä¸€åŒ–ï¼ˆLayerNormï¼‰ã€éçº¿æ€§æ¿€æ´»ï¼ˆReLUï¼‰å’Œå†æ¬¡å˜æ¢ï¼Œå¾—åˆ° span scoresã€‚æœ€ç»ˆï¼Œè¿™äº›å¾—åˆ†ç”¨äº è§£ç ï¼ˆdecode the outputï¼‰ï¼Œå³æ‰¾åˆ°æœ€ä¼˜çš„è§£ææ ‘ã€‚\nUnsupervised Parsing Unsupervised Parsing6ä¸»è¦æ˜¯ä»æœªæ ‡è®°çš„æ–‡æœ¬ä¸­å½’çº³å‡ºè¯­æ³•ç»“æ„ã€‚\nUnsupervised Parsingçš„SOTAçš„F-scoreåªæœ‰60ï¼Œå¯¹æ¯”supervised parsingæ¥è¯´å¾ˆéš¾ï¼Œsupervised parsingçš„F-scoreå¯ä»¥è¾¾åˆ°95ä»¥ä¸Š\nLLMå‰æ²¿ç ”ç©¶ Scaling Law ä¾‹å¦‚ï¼Œç»™å®šå›ºå®šçš„è®¡ç®—èµ„æºé¢„ç®—ï¼Œè®­ç»ƒTransformerè¯­è¨€æ¨¡å‹çš„æœ€ä½³æ¨¡å‹å¤§å°å’Œè®­ç»ƒæ•°æ®é›†å¤§å°æ˜¯å¤šå°‘ï¼Ÿ\nè¿™ç±»é—®é¢˜å°±å¯ä»¥ç”¨Scaling lawsæ¥å›ç­”ã€‚å®ƒæä¾›äº†Compute Budget(C)ï¼Œsize of model(N)ä»¥åŠnumber of training tokens(D)ä¹‹é—´çš„ä¸€ç§å…³ç³»ã€‚æœ‰ä¸€ä¸ªç²—ç•¥çš„å…±è¯†æ˜¯ï¼Œå®ƒä»¬å¯ä»¥ä½¿ç”¨power lawsæˆ–ç±»ä¼¼çš„å®šå¾‹ï¼ˆä»¥åŠå®ƒä»¬çš„ç»„åˆï¼‰æ¥å»ºæ¨¡ã€‚\nPower Law Power Lawæè¿°çš„æ˜¯å˜é‡xå’Œå®ƒæŸäº›è¡Œä¸ºä¹‹é—´çš„å…³ç³»ï¼Œå…¬å¼è¡¨ç¤ºä¸º$f(x) = \\alpha x^\\mathcal{-K}$\nå®ƒæœ‰ä¸€ä¸ªé‡è¦çš„æ€§è´¨ï¼šå½“$x$ä¹˜ä»¥ä¸€ä¸ªå› å­æ—¶ï¼Œ$f(x)$ä¹ŸåŒæ ·ä½œä¸º$Îº$çš„å‡½æ•°ä¹˜ä»¥ä¸€ä¸ªå› å­ã€‚å³ï¼š $$ f(cx) = \\alpha (cx)^\\mathcal{-K} = c^\\mathcal{-K}f(x) $$\nKaplan et al. (2020) Kaplanç­‰äººçš„ç ”ç©¶7æ€»ç»“\næ¨¡å‹çš„æ€§èƒ½å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºscaleï¼ˆæ¨¡å‹å‚æ•°çš„æ•°é‡ï¼Œæ•°æ®é›†å¤§å°ï¼Œè®¡ç®—é¢„ç®—ï¼‰è€Œä¸æ˜¯ç½‘ç»œæ‹“æ‰‘ï¼ˆå±‚æ•°ï¼Œæ¯å±‚çš„å®½åº¦ï¼‰ã€‚ æ•°æ®é›†å¤§å°å’Œæ¨¡å‹å¤§å°çš„ä¸€èµ·å¢é•¿æ˜¯å¾ˆé‡è¦çš„ã€‚ æ€§èƒ½å¯ä»¥ç”¨power lawæ¥å»ºæ¨¡ã€‚ è¿˜æœ‰ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä½¿ç”¨floating-point operations per second (FLOPs) æ¥è¡¡é‡computeï¼Œè€Œä¸æ˜¯å•çº¯ä¾èµ–æ—¶é—´æ¥è¡¡é‡ã€‚\nå¯¹ä»–ä»¬çš„å·¥ä½œï¼ˆKaplan Scaling Lawï¼‰çš„ä¸»è¦æ‰¹åˆ¤ç‚¹åœ¨äºï¼Œä»–ä»¬åœ¨è®­ç»ƒä¸­ä½¿ç”¨äº†ç›¸åŒçš„å­¦ä¹ ç‡ã€‚\nHoffmann et al. (2020) ä»¥å‰çš„scaling lawè®¤ä¸ºï¼Œå¢åŠ è®¡ç®—é¢„ç®—ï¼ˆcompute budgetï¼‰æ—¶ï¼Œä¼˜å…ˆå¢åŠ æ¨¡å‹å¤§å°ï¼ˆmodel sizeï¼‰ï¼Œå…¶æ¬¡æ‰å¢åŠ æ•°æ®é‡ï¼ˆdata sizeï¼‰ã€‚ æ¯”å¦‚è®¡ç®—é¢„ç®— Ã—100 æ—¶ï¼Œæ¨¡å‹å‚æ•°é‡ Ã—25ï¼Œæ•°æ®é‡ Ã—4ã€‚å› ä¸ºç›´è§‰ä¸Šæ›´å¤§çš„æ¨¡å‹èƒ½æ›´æœ‰æ•ˆåœ°åˆ©ç”¨æ•°æ®ï¼Œæ‰€ä»¥æ•°æ®è§„æ¨¡çš„å¢é•¿ä¸éœ€è¦å¤ªå¿«ã€‚ ä½†æ˜¯ï¼Œè¿‡åº¦å¢åŠ æ¨¡å‹å¤§å°å¯èƒ½ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆæˆ–è®¡ç®—èµ„æºæµªè´¹ã€‚\nHoffmannç­‰äºº2022å¹´çš„ç ”ç©¶æå‡ºäº†ä¸€ä¸ªæ–°çš„ç»“è®º8ï¼š\nè®¡ç®—é¢„ç®—å¢åŠ æ—¶ï¼Œæ¨¡å‹å¤§å°å’Œæ•°æ®é‡åº”è¯¥åŒæ¯”ä¾‹å¢é•¿ã€‚ æ¯”å¦‚è®¡ç®—é¢„ç®— Ã—100 æ—¶ï¼Œæ¨¡å‹å¤§å° Ã—10ï¼Œæ•°æ®é‡ Ã—10ã€‚å› ä¸ºä¹‹å‰çš„ç­–ç•¥å¯¼è‡´å¾ˆå¤šå¤§æ¨¡å‹åœ¨å°æ•°æ®ä¸Šè®­ç»ƒï¼Œå‡ºç°æ¬ è®­ç»ƒï¼ˆundertrained modelsï¼‰ çš„é—®é¢˜ã€‚ Hoffmann å‘ç°ï¼Œæ›´å¤§æ¨¡å‹å¹¶ä¸ä¸€å®šèƒ½å®Œå…¨åˆ©ç”¨å›ºå®šæ•°é‡çš„æ•°æ®ï¼Œåˆç†å¢åŠ æ•°æ®é‡å¯ä»¥æ˜¾è‘—æå‡æ¨¡å‹æ€§èƒ½ã€‚è¿™ä¸ªå‘ç°ä¹Ÿå½±å“äº†åç»­ LLM è®­ç»ƒç­–ç•¥ï¼Œä¾‹å¦‚ GPT-4ã€Geminiã€PaLM ç­‰æ›´å…³æ³¨ æ•°æ®ä¸æ¨¡å‹è§„æ¨¡çš„å‡è¡¡å¢é•¿ã€‚\nå¦‚ä½•æ¨å¯¼Hoffmannç­‰äººæå‡ºçš„Chinchilla\u0026rsquo;s Scaling Law?\nL: LM average test loss (entropy loss) D: dataset size, number of tokens N: number of parameters C: compute budget, C=C(N, D) å·²çŸ¥ä¸€ä¸ªå›ºå®šçš„compute budget C*, æ‰¾åˆ° $$ \\arg\\min_{N, D}L(N, D) = C^* $$ ç”¨power lawæ¥å»ºæ¨¡ï¼š $$ L(N, D) = \\frac{a}{N^\\alpha} + \\frac{b}{D^\\beta} + c $$ $c$æ˜¯ç†æƒ³çš„test loss å› æ­¤ï¼ŒHoffmannç­‰äººè®­ç»ƒå‡ºæ¥äº†ä¸¤ä¸ªæ¨¡å‹ï¼š\nGopher: 280 billion parameters, 300 billion tokens, L(N, D) = 1.993 Chinchilla: 70 billion parameters, 1.4 trillion tokens, L(N, D) = 1.936 Chinchilla éµå¾ªè¿™ä¸€ç­–ç•¥ï¼ˆè¾ƒå°æ¨¡å‹ + æ›´å¤šæ•°æ®ï¼‰ï¼Œç»“æœè¯æ˜å®ƒåœ¨test losså’Œä¸‹æ¸¸ä»»åŠ¡ä¸Šè¡¨ç°æ›´ä¼˜ã€‚\nå¢åŠ æ•ˆç‡ è¯­è¨€æ¨¡å‹çš„è®­ç»ƒä¸­ï¼Œä¸»è¦åšçš„è®¡ç®—å°±æ˜¯çŸ©é˜µä¹˜æ³•å’Œæ±‚å’Œå½’ä¸€åŒ–ï¼ˆSoftmaxï¼‰ã€‚ç”¨ä¸€ä¸ªå…¬å¼æ¦‚æ‹¬Transformeråšçš„äº‹æƒ…å°±æ˜¯$\\text{Softmax}(QK^T)V$\nGPUæ˜¯å¹¶è¡Œå¤„ç†å™¨ï¼Œç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤º åŸºç¡€çš„è®¡ç®—å•å…ƒæ˜¯çº¿ç¨‹ çº¿ç¨‹è¢«åˆ†ç»„æˆBlockï¼ŒBlockä¸­çš„æ‰€æœ‰çº¿ç¨‹éƒ½æœ‰å”¯ä¸€çš„IDï¼Œä½†è¿è¡Œç›¸åŒçš„ä»£ç  è¿™ä½¿å¾—GPUå¯ä»¥åšæç«¯çš„å¹¶è¡ŒåŒ– Gridæ˜¯ä¸€ç»„Blockã€‚æ¯ä¸ªBlockå¯ä»¥è¿è¡Œä¸åŒçš„ä»£ç æ®µ GPUæœ‰å¾ˆå¤§çš„global memoryï¼Œå¾ˆå¤§ï¼Œä½†æ˜¯å¾ˆæ…¢ æ¯ä¸ªBlockéƒ½æœ‰ä¸€ä¸ªå…±äº«å†…å­˜-Blockä¸­çš„æ‰€æœ‰çº¿ç¨‹ä¹‹é—´å…±äº«è¿™ä¸ªå†…å­˜ï¼Œå®ƒæ•ˆç‡å¾ˆé«˜ï¼Œä½†å¾ˆå° å†™ä»£ç æ—¶è¦å°½å¯èƒ½å°‘ç”¨å…¨å±€å†…å­˜ï¼Œå¤šç”¨Blockçš„å…±äº«å†…å­˜ Double Descent Double Descentæ˜¯æ·±åº¦å­¦ä¹ è®­ç»ƒè¿‡ç¨‹ä¸­å‡ºç°çš„ä¸€ç§ç°è±¡ï¼Œå®ƒæè¿°äº†æ¨¡å‹çš„test erroréšç€model sizeæˆ–dataset sizeå˜åŒ–çš„éå•è°ƒè¶‹åŠ¿ã€‚ Double Descent ç°è±¡è¡¨æ˜ï¼Œåœ¨â€œè¿‡æ‹ŸåˆåŒºåŸŸâ€ä¹‹åï¼Œç»§ç»­å¢åŠ æ¨¡å‹è§„æ¨¡ï¼Œtest erroråè€Œä¼šå†æ¬¡ä¸‹é™ï¼Œè¿›å…¥â€œç¬¬äºŒæ¬¡æ³›åŒ–åŒºåŸŸâ€ã€‚\nå› æ­¤ï¼Œä¼ ç»Ÿç»Ÿè®¡å­¦ä¹ ç†è®ºé¢„æµ‹è¿‡æ‹Ÿåˆä¼šå¯¼è‡´æ³›åŒ–èƒ½åŠ›ä¸‹é™ï¼Œä½†Double Descentè¯´æ˜åœ¨è¶…å¤§æ¨¡å‹ä¸‹ï¼Œæ³›åŒ–èƒ½åŠ›åè€Œä¼šå›å‡ã€‚\nLLMs as Formal Machines LLMå¾®è°ƒ Evaluating Generation and Machine Translation Ethics Evaluation of LLM and Alignment QA and RAG Tutorials Language Models Softmax Function What is the purpose of Softmax function? The softmax converts an arbitrary vector of |v| dimensions into a valid categorical probability distribution over |v| possible outcomes. In particular it ensures that all individual elements (probabilities) are non-negative and sum to one. What is the purpose of the expression in the numerator? The numerator ensures that all values are positive. Note that this is stronger than needed: the axioms of probability simply require all values to be non-negative. But exponentiation is only zero in the (negative) limit. What is the purpose of the expression in the denominator? The denominator normalises the distribution so that all individual probabilities sum to one. Now consider how a neural language model with a softmax output layer compares with a classic n-gram language model. Typically, we use techniques like smoothing or backoff in conjunction with n-gram models. Does this problem arise in the neural model? Why or why not? Noâ€”softmax ensures that the model will always return a non-zero probability for any n-gram. Feedforward Language Models In feedforward language model, the probability $P(w_i\\mid w_{i-n+1}, \u0026hellip;, w_{i-1}) = \\text{softmax}(Vh_2 + b_2)$, where $h_2 = \\text{tanh}(Wh_1 + b_1)$, $h_1 = \\text{concatenate}(Cw_{i-n+1}, \u0026hellip;, Cw_{i-1})$, $w_i = \\text{onehot}(w_i)$ for all i. Now consider the number of parameters required to represent this model. This number is determined by the size of the vocabulary (given to you by the data), the order $n$, and the dimension of the two hidden layers, $h_1$ and $h_2$, which we will denote $d_1$ and $d_2$, respectively (Note that the first dimension must be divisible by n âˆ’ 1, but you can ignore this detail in your calculations). Dimensions $d_1$ and $d_2$ are modeling choices, though the practical consideration is how they impact the modelâ€™s accuracy. How to express the number of model parameters in terms of $|V|, n, d_1$ and $d_2$? For $V$: $d_2|V|$ For $W$: $d_1d_2$ because $d_1$ is predefined, and will be equal to $(n-1) * \\text{embedding}$ For $C$: $|V|d_1/(n-1)$ because $|\\text{embedding}| = \\frac{d_1}{n-1}$ For $b_1$: $d_2$ For the complete model, add up the aboveL $(1+\\frac{d_1}{n-1} + d_2){V} + d_1d_2 + d_2$ An effective size for the hidden dimension of a neural NLP model is often in the hundreds. For n from 2 to 5, how many parameters would your model have if $\\frac{d_1}{n-1} = d_2 = 100$, what if $\\frac{d_1}{n-1} = d_2 = 1000$ The key here is that $(1 + \\frac{d_1}{n-1} + d_2)|V|$ dominates, and this is determined by the mapping between the one-hot vocabulary vectors and the hidden dimensions. A reasonable guess for |V| in most neural network language models is 20000 and $\\frac{d_1}{n-1} = d_2 = 100$ should give parameters of about 4M parameters. If $\\frac{d_1}{n-1} = d_2 = 1000$ then you have about 40M parameters. However if we try to model an open vocabulary in this model we will struggle to fit this in memory on a GPU whose memory is generally far smaller than a CPU machine. What do you conclude about the relative memory efficiency of classic n-gram and feedforward neural language models? If you increased n even further, what would happen? The number of parameters in the n-gram model is highly sensitive to changes in n, while the number of parameters in the neural model is almost unchanged. Hence, the feedforward model can be easily extended to larger n, which might be advantageous. How would you expect the number of parameters in an RNN model to scale with $n$ and $|V|$ An RNN scales in the same way as the feedforward model: the dominant factor is the vocabulary size. Itâ€™s entirely insensitive to n since it (theoretically) models $n = \\infty$ Think of any strategies to substantially reduce the number of parameters? For RNN models, the key to reducing the number of parameters is to reduce vocabulary size. This can be done with subword modeling. Notice that this is inappropriate for the n-gram model, since it would be conditioning on less information! Note that the feedforward model has a similar limitation, though it is easier to increase the order $n$ of the feedforward model. Model Design References \u0026lsquo;Transformers from scratch\u0026rsquo; Available: https://peterbloem.nl/blog/transformers\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nTu, Zhaopeng, et al. \u0026ldquo;Neural machine translation with reconstruction.\u0026rdquo; Proceedings of the AAAI Conference on Artificial Intelligence. Vol. 31. No. 1. 2017.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nKoehn, Philipp, and Rebecca Knowles. \u0026ldquo;Six challenges for neural machine translation.\u0026rdquo; arXiv preprint arXiv:1706.03872 (2017).\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nHoltzman, Ari, et al. \u0026ldquo;The curious case of neural text degeneration.\u0026rdquo; arXiv preprint arXiv:1904.09751 (2019).\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nVinyals, Oriol, et al. \u0026ldquo;Grammar as a foreign language.\u0026rdquo; Advances in neural information processing systems 28 (2015).\u0026#160;\u0026#x21a9;\u0026#xfe0e;\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nCao, Steven, Nikita Kitaev, and Dan Klein. \u0026ldquo;Unsupervised parsing via constituency tests.\u0026rdquo; arXiv preprint arXiv:2010.03146 (2020).\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nKaplan, Jared, et al. \u0026ldquo;Scaling laws for neural language models.\u0026rdquo; arXiv preprint arXiv:2001.08361 (2020).\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nHoffmann, Jordan, et al. \u0026ldquo;Training compute-optimal large language models.\u0026rdquo; arXiv preprint arXiv:2203.15556 (2022).\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://martinspace.top/zh/nluplus/","summary":"é€’å½’ç¥ç»ç½‘ç»œ ç®€å•çš„ç¥ç»ç½‘ç»œç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šè¾“å…¥ï¼Œéšè—å±‚ï¼Œè¾“å‡º æ·±åº¦ç¥ç»ç½‘ç»œï¼ˆDNNï¼‰ä¸€èˆ¬æ˜¯å¢åŠ éšè—å±‚çš„æ•°é‡ã€‚ é€’å½’ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰æ›´åŠ å…³æ³¨çš„æ˜¯éš","title":"ä»RNNåˆ°Transformers"},{"content":"","permalink":"https://martinspace.top/zh/uq-cp/","summary":"","title":"å…±å½¢é¢„æµ‹ç†è®ºç ”ç©¶"},{"content":"å¤šè‡‚è€è™æœºé—®é¢˜(MAB) ç¬¦å·\u0026amp;é—®é¢˜å®šä¹‰ å¤§å†™æ–œä½“è¡¨ç¤ºéšæœºå˜é‡ï¼Œä¾‹å¦‚$A, R, A_t, R_t$ å°å†™å­—æ¯è¡¨ç¤ºè¿™äº›éšæœºå˜é‡çš„å®ç°ï¼Œä¾‹å¦‚$a, r, a_t, r_t, Pr${$A_t=a_t$} èŠ±ä½“ï¼ŒåŒºé—´ç­‰è¡¨ç¤ºé›†åˆï¼Œä¾‹å¦‚$\\mathcal{A}, [0, 1], \\mathbb{N}$ Given: a set of k actions, $\\mathcal{A}$, number of rounds T. Repeat for t in T rounds:\nAlgorithm selects arm $A_t \\in \\mathcal{A}$ Algorithm observes reward $R_t \\in [0, 1]$ Goal: maximise expected total reward. é¢„æœŸçš„å¥–åŠ±è¢«ç§°ä¸ºValueï¼š$q_*(a) = \\mathbb{E}[R_t \\mid A_t = a]$\né—®é¢˜æ ¸å¿ƒ(Explore-exploit dilemma) ç”±äºå„ä¸ªè€è™æœºçš„å¥–åŠ±åˆ†å¸ƒæœªçŸ¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ¢ç´¢å’Œåˆ©ç”¨ä¹‹é—´åšå‡ºæƒè¡¡ï¼Œæ¥æœ€å¤§åŒ–é•¿æœŸå¥–åŠ±ã€‚\næ¢ç´¢ï¼ˆExplorationï¼‰ å’Œ åˆ©ç”¨ï¼ˆExploitationï¼‰ ä¹‹é—´çš„æƒè¡¡æ˜¯ MAB é—®é¢˜çš„æ ¸å¿ƒï¼š\nExploration: é€‰æ‹©å½“å‰ä¿¡æ¯ä¸è¶³çš„é€‰é¡¹ï¼Œä»¥è·å¾—å…³äºå¥–åŠ±åˆ†å¸ƒçš„æ›´å¤šçŸ¥è¯†ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæŸä¸ªè€è™æœºçš„å¥–åŠ±ä¸ç¡®å®šï¼Œä½ å¯èƒ½ä¼šå°è¯•æ‹‰å–å®ƒï¼Œä»¥æ”¶é›†æ›´å¤šæ•°æ®ã€‚ Exploitation: é€‰æ‹©å½“å‰ä¼°è®¡å¥–åŠ±æœ€é«˜çš„é€‰é¡¹ï¼Œä»¥æœ€å¤§åŒ–å³æ—¶æ”¶ç›Šã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å·²ç»çŸ¥é“æŸä¸ªè€è™æœºçš„å¹³å‡å¥–åŠ±æœ€é«˜ï¼Œä½ ä¼šæ›´å€¾å‘äºæŒç»­æ‹‰å–å®ƒã€‚ è¿™ç§æƒè¡¡çš„æ ¸å¿ƒéš¾ç‚¹åœ¨äºï¼š\nè¿‡åº¦æ¢ç´¢ï¼ˆè¿‡å¤šå°è¯•æœªçŸ¥é€‰é¡¹ï¼‰å¯èƒ½å¯¼è‡´è¾ƒä½çš„çŸ­æœŸæ”¶ç›Šã€‚ è¿‡åº¦åˆ©ç”¨ï¼ˆè¿‡æ—©é”å®šæŸä¸ªé€‰é¡¹ï¼‰å¯èƒ½å¯¼è‡´é”™å¤±æ›´ä¼˜çš„é•¿æœŸæ”¶ç›Šã€‚ é—®é¢˜ç®—æ³• Action-Value Methods æˆ‘ä»¬å¯ä»¥ä¼°è®¡æŸä¸ªåŠ¨ä½œ$a$æ‰€è·å¾—å¥–åŠ±çš„æ ·æœ¬å‡å€¼ã€‚ï¼Œå…·ä½“å‡½æ•°è¡¨ç¤ºä¸ºï¼š $$ Q_t(a) = \\frac{\\text{Sum of rewards when taken a so far}}{\\text{Number of times taken a so far}} $$ $$ Q_t(a) = \\frac{1}{N_t(a)} \\sum^{t-1}_{\\tau=1}R _ {\\tau=1} \\cdot \\mathbb{1} _ {A_t=a} $$ å…¶ä¸­\n$N_t(a)$ æ˜¯åˆ°å½“å‰æ—¶é—´ $t$ ä¸ºæ­¢ï¼ŒåŠ¨ä½œ $a$ è¢«é€‰æ‹©çš„æ¬¡æ•°ã€‚ $R_{\\tau}$ æ˜¯ç¬¬ $\\tau$ æ¬¡æ‰§è¡ŒåŠ¨ä½œçš„å¥–åŠ±ã€‚ $\\mathbb{1} _ {A_{\\tau} = a}$ æ˜¯ä¸€ä¸ªæŒ‡ç¤ºå‡½æ•°ï¼Œå½“ $\\tau$ æ—¶åˆ»é€‰æ‹©äº†åŠ¨ä½œ $a$ æ—¶ï¼Œå®ƒçš„å€¼ä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚ å¦‚æœä¸€ä¸ªåŠ¨ä½œè¢«é€‰å–æ— ç©·æ¬¡ï¼Œé‚£ä¹ˆå®ƒçš„æ ·æœ¬å‡å€¼ä¼šæ”¶æ•›åˆ°çœŸå®çš„æœŸæœ›å¥–åŠ±ï¼Œå³ï¼š $$ \\lim_{N_t(a) \\to \\infty} Q_t(a) = q_*(a) $$\n$\\epsilon$- Greedy Action Selection æ ¹æ®ä¸Šé¢çš„å…¬å¼ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠexploitè¡¨ç¤ºä¸º $$ A_t = A_t^* = \\mathop{\\arg\\max}\\limits_{a} Q_t(a) $$ exploration(éšæœºé€‰æ‹©action)è¡¨ç¤ºä¸º $$ A_t\\sim\\text{Unif}(\\mathcal{A}) $$\ndef epsilon_greedy(Q, epsilon, actions): if np.random.rand() \u0026lt; epsilon: # ä»¥æ¦‚ç‡ epsilon è¿›è¡Œæ¢ç´¢ return np.random.choice(actions) else: # ä»¥æ¦‚ç‡ (1 - epsilon) é€‰æ‹©å½“å‰æœ€ä¼˜åŠ¨ä½œ return np.argmax(Q) self.execute(A_t) self.observe(R_t) self.update(N_t_a, Q_t_a) å¦‚ä½•åœ¨é€’å¢çš„åŒæ—¶é¿å…é‡å¤è®¡ç®—ï¼Ÿ $$ Q_n = \\frac{R_1 + \u0026hellip; + R_{n-1}}{n-1} $$ $$ Q_{n+1} = Q_n + \\frac{1}{n}[R_n - Q_n] $$ è¿™ä¹Ÿæ˜¯å¼ºåŒ–å­¦ä¹ ä¸­update rulesçš„æ ‡å‡†å½¢å¼ $$ \\text{NewEstimate \u0026lt;â€” OldEstimate + StepSize[Target - OldEstimate]} $$\nNon-Stationary Problem å‡è®¾true action valueä¼šéšæ—¶é—´è€Œå˜åŒ–ï¼Œè¿™æ˜¯å¼ºåŒ–å­¦ä¹ ä¸­ç»å¸¸é‡åˆ°çš„non-stationary problemï¼Œè¿™ä¸ªæ—¶å€™å†ç”¨sample averageå°±ä¸åˆé€‚äº†ï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªstep-size parameter $\\alpha\\in[0, 1]$æ¥è·Ÿè¸ªaction valueï¼Œé‚£ä¹ˆæ›´æ–°å‡½æ•°å˜ä¸º $$ Q_{n+1} = Q_n + \\alpha[R_n - Q_n] $$\nStochastic Approximation Convergence Conditions éšæœºé€¼è¿‘ï¼ˆStochastic Approximation, SAï¼‰ æ˜¯ä¸€ç§ç”¨äºåœ¨å™ªå£°ç¯å¢ƒä¸­è¿­ä»£é€¼è¿‘æœ€ä¼˜è§£çš„æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•å¸¸ç”¨äºæœºå™¨å­¦ä¹ ã€å¼ºåŒ–å­¦ä¹ ï¼ˆå¦‚ Q-learningï¼‰ã€ä¼˜åŒ–ç®—æ³•ï¼ˆå¦‚éšæœºæ¢¯åº¦ä¸‹é™ï¼‰ç­‰ã€‚\nåœ¨å¼ºåŒ–å­¦ä¹ ä¸­ï¼Œå€¼å‡½æ•°æ›´æ–° é‡‡ç”¨éšæœºé€¼è¿‘çš„æ–¹å¼ï¼Œä¾‹å¦‚ï¼š $$ Q_{t+1}(s, a) = Q_t(s, a) + \\alpha_t [R_t + \\gamma \\max_{a\u0026rsquo;} Q_t(s\u0026rsquo;, a\u0026rsquo;) - Q_t(s, a)] $$ å…¶ä¸­ $\\alpha_t$ æ˜¯å­¦ä¹ ç‡ï¼Œç›®æ ‡æ˜¯è®© $Q_t(s,a)$ æ”¶æ•›åˆ°æœ€ä¼˜å€¼ $Q^*(s,a)$ã€‚\nä¸ºäº†ä¿è¯ éšæœºé€¼è¿‘ç®—æ³• èƒ½å¤Ÿæ”¶æ•›ï¼Œå¿…é¡»æ»¡è¶³æ”¶æ•›æ¡ä»¶ï¼ˆConvergence Conditionsï¼‰:\nå­¦ä¹ ç‡æ»¡è¶³ Robbins-Monro æ¡ä»¶ $$ \\sum_{t=1}^{\\infty} \\alpha_t = \\infty, \\quad \\sum_{t=1}^{\\infty} \\alpha_t^2 \u0026lt; \\infty $$\nç¬¬ä¸€é¡¹ $ \\sum \\alpha_t = \\infty $ ç¡®ä¿ç®—æ³•åœ¨é•¿æœŸå†…ç»§ç»­å­¦ä¹ ï¼Œå¦åˆ™ç®—æ³•å¯èƒ½è¿‡æ—©åœæ­¢æ›´æ–°ã€‚ ç¬¬äºŒé¡¹ $ \\sum \\alpha_t^2 \u0026lt; \\infty $ ç¡®ä¿å­¦ä¹ ç‡æœ€ç»ˆè¶³å¤Ÿå°ï¼Œå¦åˆ™æ”¶æ•›ä¼šå—å™ªå£°å½±å“ã€‚ ç¤ºä¾‹ï¼š\næ»¡è¶³æ¡ä»¶çš„å­¦ä¹ ç‡ï¼š $ \\alpha_t = \\frac{1}{t} $ã€$ \\alpha_t = \\frac{1}{\\sqrt{t}} $ ä¸æ»¡è¶³æ¡ä»¶çš„å­¦ä¹ ç‡ï¼š å›ºå®šçš„ $ \\alpha_t = 0.1 $ï¼ˆå› ä¸ºæ±‚å’Œä¸å‘æ•£ï¼‰ Upper Confidence Bound (UCB) ç›¸æ¯”äº $\\epsilon$-Greedy ç®—æ³•çš„éšæœºæ¢ç´¢ç­–ç•¥ï¼ŒUCB é€šè¿‡æ„é€ ä¸€ä¸ªä¸Šç½®ä¿¡ç•Œï¼ˆUpper Confidence Boundï¼‰æ¥è¿›è¡Œæ¢ç´¢ï¼Œä»è€Œæ›´å¿«åœ°æ”¶æ•›åˆ°æœ€ä¼˜è§£ã€‚\nUCB é‡‡ç”¨ ç½®ä¿¡åŒºé—´ï¼ˆconfidence boundï¼‰ æ¥å†³å®šæ˜¯å¦æ¢ç´¢æŸä¸ªåŠ¨ä½œï¼š\nåˆ©ç”¨ï¼ˆExploitationï¼‰ï¼š é€‰æ‹©å†å²ä¸Šå¹³å‡å¥–åŠ±æœ€é«˜çš„åŠ¨ä½œï¼ˆå³å½“å‰æœ€ä¼˜åŠ¨ä½œï¼‰ã€‚ æ¢ç´¢ï¼ˆExplorationï¼‰ï¼š é€‰æ‹©é‚£äº›å°è¯•æ¬¡æ•°è¾ƒå°‘ã€ä¸ç¡®å®šæ€§è¾ƒå¤§çš„åŠ¨ä½œã€‚ å…¬å¼ï¼š $$ A_t = \\arg\\max_{a} \\left[ Q_t(a) + c \\sqrt{\\frac{\\ln t}{N_t(a)}} \\right] $$ å…¶ä¸­ï¼š\n$ Q_t(a) $ æ˜¯åŠ¨ä½œ $ a $ åœ¨æ—¶é—´ $ t $ æ—¶åˆ»çš„å¹³å‡å¥–åŠ±ï¼ˆå†å²ç»éªŒï¼‰ã€‚ $ N_t(a) $ æ˜¯åŠ¨ä½œ $ a $ è¢«é€‰æ‹©çš„æ¬¡æ•°ã€‚ $ t $ æ˜¯å½“å‰æ—¶é—´æ­¥ï¼ˆå½“å‰å®éªŒçš„æ€»æ¬¡æ•°ï¼‰ã€‚ $ c $ æ˜¯æ¢ç´¢å‚æ•°ï¼Œæ§åˆ¶æ¢ç´¢ç¨‹åº¦ï¼ˆé€šå¸¸ $ c $ å– $\\sqrt{2}$ï¼‰ã€‚ $ \\ln t $ æ˜¯å¯¹æ•°é¡¹ï¼Œä½¿å¾—æ¢ç´¢éšæ—¶é—´å‡å°‘ã€‚ è§£é‡Šï¼š\n$ Q_t(a) $ ä»£è¡¨ åˆ©ç”¨ï¼ˆExploitationï¼‰ï¼šå€¾å‘äºé€‰æ‹©å†å²ä¸Šè¡¨ç°æœ€å¥½çš„åŠ¨ä½œã€‚ $ \\sqrt{\\frac{\\ln t}{N_t(a)}} $ ä»£è¡¨ æ¢ç´¢ï¼ˆExplorationï¼‰ï¼šå½“æŸä¸ªåŠ¨ä½œé€‰æ‹©æ¬¡æ•° ( N_t(a) ) å¾ˆå°æ—¶ï¼Œè¯¥é¡¹è¾ƒå¤§ï¼Œé¼“åŠ±æ¢ç´¢ã€‚ import numpy as np def UCB(Q, N, t, c=1.0): ucb_values = Q + c * np.sqrt(np.log(t) / (N + 1e-5)) # é¿å…é™¤é›¶é”™è¯¯ return np.argmax(ucb_values) # é€‰æ‹© UCB å€¼æœ€é«˜çš„åŠ¨ä½œ å…¶ä¸­ï¼š\nQï¼šå­˜å‚¨æ¯ä¸ªåŠ¨ä½œçš„å¹³å‡å¥–åŠ±ã€‚ Nï¼šå­˜å‚¨æ¯ä¸ªåŠ¨ä½œçš„é€‰æ‹©æ¬¡æ•°ã€‚ tï¼šå½“å‰æ—¶é—´æ­¥æ•°ï¼ˆæ€»å®éªŒæ¬¡æ•°ï¼‰ã€‚ cï¼šæ¢ç´¢å‚æ•°ï¼Œæ§åˆ¶æ¢ç´¢å¼ºåº¦ã€‚ é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹(MDPs) ç†è®ºæ¡†æ¶ é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹åŒ…æ‹¬çŠ¶æ€ç©ºé—´$\\mathcal{S}$ï¼ŒåŠ¨ä½œç©ºé—´$\\mathcal{A}$ï¼Œå¥–åŠ±ç©ºé—´$\\mathcal{R}$ã€‚MDP is finite if $\\mathcal{S}$, $\\mathcal{A}$, $\\mathcal{R}$ is finite\nMarkov property: Future state and reward are independent of past states and actions, given the current state and action:\n$Pr${$S_{t+1},R_{t+1} | S_t,A_t,S_{tâˆ’1},A_{tâˆ’1},\u0026hellip;,S_0,A_0$}$ = Pr${$S_{t+1},R_{t+1} | S_t,A_t$}\nçŠ¶æ€$S_t$æ˜¯äº¤äº’å†å²çš„å……åˆ†æ€»ç»“ã€‚è®¾è®¡compact Markov statesæ˜¯RLä¸­çš„ä¸€é¡¹å·¥ç¨‹å·¥ä½œã€‚\nä»¥recycling robotä¸ºä¾‹ã€‚\nStates high battery level low battery level Actions search for can wait for someone to bring can recharge battery at charging station Rewards: number of cans collected $s$ $a$ $s'$ $p(s\u0026rsquo;\\mid s, a)$ $r(s, a, s\u0026rsquo;)$ high search high $\\alpha$ $r_{\\text{research}}$ high search low $1 - \\alpha$ $r_{\\text{research}}$ low search high $1 - \\beta$ -3 low search low $\\beta$ $r_{\\text{research}}$ high wait high 1 $r_{\\text{wait}}$ high wait low 0 - low wait high 0 - low wait low 1 $r_{\\text{wait}}$ high recharge high 1 0 high recharge low 0 - æ ¸å¿ƒæ•°å­¦æ¦‚å¿µ\u0026amp;å‡½æ•° Policy é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ç”±policyæ§åˆ¶ã€‚\n$\\pi(a\\mid s) = $ prob. of selecting action $a$ when in state $s$\n$\\pi(a\\mid s)$ search wait recharge high 0.9 0.1 0 low 0.2 0.3 0.5 Agentâ€™s goal is to learn a policy that maximises cumulative reward\nReturns Total Return\nFormally, policy should maximise expected return: $$ G_t = R_{t+1} + R_{t+2} + \u0026hellip; + R_{T} = R_{t+1} + G_{t+1} $$ where $T$ is final time step\nAssumes terminating episodes: é€‚ç”¨äºå­˜åœ¨æ˜ç¡®ç»ˆæ­¢æ¡ä»¶çš„ä»»åŠ¡ã€‚ä¾‹å¦‚åœ¨è±¡æ£‹æ¸¸æˆä¸­ï¼Œä¸€ä¸ªç©å®¶è·èƒœå°±ç»ˆæ­¢ã€‚é€šè¿‡è®¾ç½®å…è®¸çš„æ—¶é—´æ­¥æ•°æ¥å¼ºåˆ¶ç»ˆæ­¢\nDiscounted Return\nFor non-terminating (infinite) episodes, can use discount rate $\\gamma \\in [0, 1)$ $$ G_t = R_{t+1} + \\gamma R_{t+2} + \\gamma^2 R_{t+3} + \u0026hellip; = R_{t+1} + \\gamma G_{t+1} $$ $\\gamma$æ˜¯æŠ˜æ‰£å› å­ï¼Œç”¨äºé™ä½è¿œæœŸå¥–åŠ±çš„ä»·å€¼ã€‚\nè¿™é€‚ç”¨äºæ— é™å›åˆä»»åŠ¡ï¼Œä¾‹å¦‚è‚¡ç¥¨äº¤æ˜“ç­–ç•¥ï¼Œæ™ºèƒ½ä½“æŒç»­è¿›è¡Œäº¤æ˜“ï¼Œæ²¡æœ‰å›ºå®šç»“æŸæ—¶é—´ã€‚\nValue Functions Bellman Equation åœ¨å¼ºåŒ–å­¦ä¹ å’Œé©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ä¸­ï¼Œè´å°”æ›¼æ–¹ç¨‹ç”¨äºæè¿°çŠ¶æ€å€¼å‡½æ•°å’ŒåŠ¨ä½œå€¼å‡½æ•°çš„é€’å½’å…³ç³»ã€‚è¿™ä¸¤æ˜¯å¼ºåŒ–å­¦ä¹ ä¸­æ±‚è§£æœ€ä¼˜ç­–ç•¥çš„é‡è¦æ•°å­¦å·¥å…·ã€‚\nState Value Function and the Bellman Equation\næ ¹æ®Markov property (è¿‡å»çš„çŠ¶æ€å’ŒåŠ¨ä½œå¯¹æœªæ¥çš„å½±å“å®Œå…¨ç”±å½“å‰çŠ¶æ€å†³å®š)ï¼Œå¯ä»¥æŠŠçŠ¶æ€ä»·å€¼å‡½æ•°å†™æˆBellman Equationçš„é€’å½’å½¢å¼ã€‚ $$ v_\\pi(s) = \\mathbb{E}_\\pi[G_t \\mid S_t = s] $$\nå°†$G_{t+1}$ç»§ç»­å±•å¼€ï¼Œå¾—åˆ°ï¼š\n$$ v_\\pi(s) = \\sum_a \\pi(a \\mid s)r(s, a) + \\gamma\\sum_{s\u0026rsquo; \\in S} p(s\u0026rsquo;\\mid s, a)\\cdot v_\\pi(s\u0026rsquo;) $$\nå…¶ä¸­$\\sum_a \\pi(a \\mid s)r(s, a)$è¡¨ç¤ºå³æ—¶å¥–åŠ±ï¼Œ$\\gamma$æ˜¯æŠ˜æ‰£å› å­ï¼Œ$\\sum_{s\u0026rsquo; \\in S} p(s\u0026rsquo;\\mid s, a)\\cdot v_\\pi(s\u0026rsquo;)$è¡¨ç¤ºexpected future value\nç›´è§‰ç†è§£ï¼šçœ¼å‰æ”¶ç›Š+æœªæ¥æ”¶ç›Šï¼ˆå¸¦æœ‰æŠ˜æ‰£ç‡æ¥é™ä½å½±å“ï¼‰\nAction Value Function and the Bellman Equation $$ q_\\pi(s, a) = r(s, a) + \\gamma \\sum_{s\u0026rsquo; \\in S} p(s\u0026rsquo; \\mid s, a)\\cdot v_\\pi(s\u0026rsquo;) $$ ç”¨æœŸæœ›ç®€å†™ $$ q_\\pi(s, a) = r(s, a) + \\gamma \\mathbb{E} _ {s\u0026rsquo;}[ v _ \\pi(s\u0026rsquo;) ] $$\nGridWorld Example GridWorldæ˜¯å¼ºåŒ–å­¦ä¹ ä¸­å¸¸è§çš„ç¯å¢ƒä¹‹ä¸€ã€‚å®ƒæ˜¯ä¸€ä¸ªç®€å•çš„ç¦»æ•£çŠ¶æ€ç©ºé—´ç¯å¢ƒï¼Œæ™ºèƒ½ä½“åœ¨å…¶ä¸­ç§»åŠ¨ï¼Œè¯•å›¾æœ€å¤§åŒ–å…¶ç´¯ç§¯å¥–åŠ±ã€‚\nSummary (Main idea) Markov Decision Process: the canonical way to model RL problems Policy: $\\pi$ is a strategy for assigning actions to states. Value: $v_\\pi(s)$ captures expected cumulative discounted reward (Long term view of the quality of a policy) Goal: Find a policy that maximises value. åŠ¨æ€è§„åˆ’ åŠ¨æ€è§„åˆ’æ ¸å¿ƒæ€æƒ³ï¼šuse Bellman Equations to organise search for good policies:\nDP Algo1: Policy Iteration è¿™ä¸ªç®—æ³•åŒ…å«ä¸¤ä¸ªé˜¶æ®µ:\nPolicy evaluation: compute $v_\\pi$ for $\\pi$ Policy improvement: make policy $\\pi$ greedy with respect to $v_\\pi$ å…·ä½“è¡¨ç¤ºå¦‚ä¸‹ï¼ˆè¿™ä¸ªè¿‡ç¨‹ä¼šæ”¶æ•›åˆ°æœ€ä¼˜ç­–ç•¥ï¼‰ $$ \\pi_0 \\xrightarrow{E} v_{\\pi_0} \\xrightarrow{I} \\pi_1 \\xrightarrow{E} v_{\\pi_1} \\xrightarrow{I} \u0026hellip; \\xrightarrow{I} \\pi_* \\xrightarrow{E} v_* $$\nIterative policy evaluation ä¼ªä»£ç å¦‚ä¸‹\nInput: pi, the policy to be evaluated Initialize an array V(s) = 0, for all s Repeat delta \u0026lt;- 0 For each s in S: v \u0026lt;- V(s) V(s) \u0026lt;- State Value Function delta \u0026lt;- max(delta, |v - V(s)|) until delta \u0026lt; theta (a small positive number) Output V \\approx= v_pi Policy Improvement è®¡ç®—åœ¨å½“å‰state value funtion $V(s)$ä¸‹ï¼Œæ¯ä¸ªçŠ¶æ€$s$å¯¹ä¸åŒåŠ¨ä½œ$a$çš„action valueã€‚ç„¶åé€‰æ‹©æœ€ä¼˜åŠ¨ä½œ$\\pi\u0026rsquo;(s)$ï¼Œå¦‚æœè¿™ä¸ä¹‹å‰çš„$\\pi(s)$ä¸åŒï¼Œåˆ™ç­–ç•¥å‘ç”Ÿäº†æ›´æ–°ï¼Œå¹¶ç»§ç»­è¿­ä»£ï¼Œå¦åˆ™åœæ­¢ã€‚\nDP Algo2: Value Iteration ä»¥ç§Ÿè½¦é—®é¢˜ä¸ºä¾‹ã€‚æœ‰ä¸¤ä¸ªè½¦è¾†ç§Ÿèµç‚¹ï¼Œæ ¹æ®åˆ†å¸ƒéšæœºè¯·æ±‚å’Œè¿”å›è½¦è¾†ã€‚çŠ¶æ€ï¼ˆStatesï¼‰è¡¨ç¤ºä¸º(n1, n2)ï¼Œå…¶ä¸­niæ˜¯ä½ç½®içš„æ±½è½¦æ•°é‡ï¼ˆæ¯ä¸ªåœ°æ–¹æœ€å¤š20è¾†ï¼‰ã€‚åŠ¨ä½œï¼ˆActionsï¼‰è¡¨ç¤ºä»ä¸€ä¸ªä½ç½®ç§»åŠ¨åˆ°å¦ä¸€ä¸ªä½ç½®çš„è½¦å­çš„æ•°é‡ã€‚å…¶ä¸­å¦‚æœæ˜¯ä»1ç§»åˆ°2å°±æ˜¯æ­£æ•°ï¼Œä»2ç§»åˆ°1å°±æ˜¯è´Ÿæ•°ï¼Œæœ€å¤š5è¾†ã€‚å¥–åŠ±ï¼ˆRewardsï¼‰è¡¨ç¤ºä¸ºæ¯ä¸ªæ—¶é—´æ­¥ä¸­ï¼Œç§Ÿå‡ºå»ä¸€è¾†è½¦+$10ï¼Œç§»åŠ¨ä¸€è¾†è½¦-$2ã€‚æœ€å$\\gamma$ = 0.9ã€‚\nPolicy iterationä½¿ç”¨Bellman equationä½œä¸ºoperator: $$ v_{k+1}(s) = \\sum_a \\pi(a\\mid s)\\sum_{s\u0026rsquo;, r}p(s\u0026rsquo;, r\\mid s, a) [r+\\gamma v_k(s\u0026rsquo;)] $$ å…¶ä¸­$s\\in S$\nValue iterationä½¿ç”¨Bellman optimality equationä½œä¸ºoperator: $$ v_{k+1}(s) = \\max_a \\sum_{s\u0026rsquo;, r}p(s\u0026rsquo;, r\\mid s, a) [r+\\gamma v_k(s\u0026rsquo;)] $$ å…¶ä¸­$s\\in S$\nValue iterationçš„ä¼ªä»£ç å¦‚ä¸‹ Asynchronous and generalised DP ç›®å‰ä¸ºæ­¢ï¼ŒåŠ¨æ€è§„åˆ’æ–¹æ³•æ‰§è¡Œçš„æ˜¯ç©·ä¸¾ã€‚å¦‚æœçŠ¶æ€ç©ºé—´å¾ˆå¤§ï¼Œpolicy evaluation and improvementå°±ä¸å¯è®¡ç®—äº†ã€‚\nå¼‚æ­¥åŠ¨æ€è§„åˆ’æ–¹æ³•é¿å…äº†æ ‡å‡†åŠ¨æ€è§„åˆ’ä¸­å¿…é¡»åŒæ—¶æ›´æ–°æ‰€æœ‰çŠ¶æ€çš„é™åˆ¶ï¼Œè€Œæ˜¯é€‰æ‹©æ€§åœ°æ›´æ–°æŸäº›çŠ¶æ€ï¼Œä»¥æé«˜è®¡ç®—æ•ˆç‡å’Œæ”¶æ•›é€Ÿåº¦ã€‚\næ”¹è¿›ç‚¹ï¼š\nçŠ¶æ€å¼‚æ­¥æ›´æ–°ï¼šä¸è¦æ±‚æ‰€æœ‰çŠ¶æ€åœ¨åŒä¸€æ—¶é—´æ›´æ–°ï¼Œè€Œæ˜¯æŒ‰éœ€æ›´æ–°ä¸€éƒ¨åˆ†çŠ¶æ€ã€‚ ä¼˜å…ˆçº§æ›´æ–°ï¼šä¼˜å…ˆæ›´æ–°é‚£äº› ä»·å€¼å˜åŒ–è¾ƒå¤§æˆ–ä¸æœ€ç»ˆç­–ç•¥æœ€ç›¸å…³çš„çŠ¶æ€ï¼Œä½¿æœ‰ä»·å€¼çš„ä¿¡æ¯æ›´å¿«ä¼ æ’­ã€‚ åŠ é€Ÿæ”¶æ•›ï¼šå‡å°‘ä¸å¿…è¦çš„è®¡ç®—ï¼Œç‰¹åˆ«é€‚ç”¨äºå¤§è§„æ¨¡é—®é¢˜ï¼Œå¦‚æœºå™¨äººæ§åˆ¶ã€è·¯å¾„è§„åˆ’ã€å¼ºåŒ–å­¦ä¹ ç­‰ã€‚ è’™ç‰¹å¡æ´›æ–¹æ³• Temporal DIfference Learning Planning and Learning Value function approximation Policy Gradient Methods ","permalink":"https://martinspace.top/zh/rl-note/","summary":"å¤šè‡‚è€è™æœºé—®é¢˜(MAB) ç¬¦å·\u0026amp;é—®é¢˜å®šä¹‰ å¤§å†™æ–œä½“è¡¨ç¤ºéšæœºå˜é‡ï¼Œä¾‹å¦‚$A, R, A_t, R_t$ å°å†™å­—æ¯è¡¨ç¤ºè¿™äº›éšæœºå˜é‡çš„å®ç°ï¼Œä¾‹å¦‚$a, r, a_t, r_t, Pr${$A_t=a_t$} èŠ±ä½“ï¼Œ","title":"å¼ºåŒ–å­¦ä¹ "},{"content":" è®°å½•ä¸€äº›åŸºç¡€æ–¹æ³•\næ—¶é—´åºåˆ— å¯è§†åŒ–ä¸‰ç§æ—¶é—´åºåˆ— Brownian motion (stochastic process) Lorenz attractor (chaotic system) Lotka-Volterra system (deterministic system of differential equations) éšæœºè¿‡ç¨‹æ˜¯ä¸€ç§éç¡®å®šæ€§çš„è¿‡ç¨‹ï¼Œå³å…¶æœªæ¥çŠ¶æ€ä¾èµ–äºæ¦‚ç‡åˆ†å¸ƒï¼Œæ— æ³•é€šè¿‡ç¡®å®šçš„æ•°å­¦å…¬å¼ç²¾ç¡®é¢„æµ‹ã€‚å¸ƒæœ—è¿åŠ¨ï¼ˆBrownian Motionï¼‰æ˜¯ä¸€ç§å…¸å‹çš„éšæœºè¿‡ç¨‹ï¼Œå¸¸è§äºé‡‘èå¸‚åœºã€åˆ†å­æ‰©æ•£ç­‰é¢†åŸŸã€‚ æ··æ²Œç³»ç»Ÿæ˜¯ä¸€ç±»ç¡®å®šæ€§ä½†ä¸å¯é¢„æµ‹çš„ç³»ç»Ÿï¼Œå³å°½ç®¡ç³»ç»Ÿæ˜¯ç”±ç¡®å®šæ€§çš„æ–¹ç¨‹æè¿°çš„ï¼Œä½†å¯¹åˆå§‹æ¡ä»¶æå…¶æ•æ„Ÿï¼Œå¯¼è‡´é•¿æœŸè¡Œä¸ºéš¾ä»¥é¢„æµ‹ã€‚æ´›ä¼¦å…¹ç³»ç»Ÿï¼ˆLorenz Systemï¼‰æ˜¯ä¸€ä¸ªç»å…¸çš„æ··æ²Œç³»ç»Ÿï¼Œæœ€æ—©ç”± Edward Lorenz ç ”ç©¶æ°”è±¡ç°è±¡æ—¶æå‡ºã€‚å…¶ç‰¹å¾åŒ…æ‹¬ï¼š ç”±ç¡®å®šæ€§æ–¹ç¨‹æ§åˆ¶ï¼ˆå¦‚å¾®åˆ†æ–¹ç¨‹ï¼‰ã€‚ å¯¹åˆå§‹æ¡ä»¶æå…¶æ•æ„Ÿï¼ˆâ€œè´è¶æ•ˆåº”â€ï¼‰ã€‚ å…·æœ‰æŸç§ç»“æ„ï¼ˆå¦‚å¸å¼•å­ï¼‰ï¼Œä½†é•¿æœŸè¡Œä¸ºæ˜¯ä¸å¯é¢„æµ‹çš„ã€‚ ç¡®å®šæ€§ç³»ç»Ÿæ˜¯å®Œå…¨ç”±æ•°å­¦è§„åˆ™æˆ–æ–¹ç¨‹æ‰€æ§åˆ¶çš„ç³»ç»Ÿï¼Œå³ å¦‚æœåˆå§‹æ¡ä»¶ç›¸åŒï¼Œæ¯æ¬¡è¿è¡Œéƒ½ä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœã€‚æ´›ç‰¹å¡-æ²ƒå°”æ³°æ‹‰ï¼ˆLotka-Volterraï¼‰æ–¹ç¨‹æè¿°äº†æ•é£Ÿè€…ï¼ˆå¦‚ç‹¼ï¼‰å’Œè¢«æ•é£Ÿè€…ï¼ˆå¦‚å…”å­ï¼‰ç§ç¾¤çš„åŠ¨æ€å˜åŒ–ã€‚è¿™ç±»ç³»ç»Ÿçš„ç‰¹å¾åŒ…æ‹¬ï¼š æœªæ¥çŠ¶æ€ç”±å½“å‰çŠ¶æ€å”¯ä¸€å†³å®šã€‚ æ²¡æœ‰éšæœºæ€§ï¼Œç³»ç»Ÿæ¼”åŒ–å®Œå…¨å¯é¢„æµ‹ã€‚ åœ¨ç”Ÿç‰©å­¦ã€ç‰©ç†å­¦ã€åŒ–å­¦ç­‰é¢†åŸŸæœ‰å¹¿æ³›åº”ç”¨ã€‚ æ•°æ®å¡«å……æŠ€æœ¯ è¿™ä¸»è¦ç”¨äºå¤„ç†æ—¶é—´åºåˆ—ä¸Šçš„ç¼ºå¤±å€¼ï¼Œä¸»è¦æœ‰ä¸‰ç§æ–¹æ³•\nForward Fill: ç”¨å‰ä¸€ä¸ªå·²çŸ¥çš„å€¼å¡«å……å½“å‰ç¼ºå¤±çš„å€¼ã€‚ Average of Neighbors: ç”¨ç¼ºå¤±å€¼ç›¸é‚»çš„ä¸¤ä¸ªå·²çŸ¥å€¼çš„å¹³å‡å€¼è¿›è¡Œå¡«å……ï¼Œå¸¸ç”¨äºå¹³ç¨³æ•°æ®ã€‚ Linear Interpolation: å‡è®¾ç¼ºå¤±å€¼å¯ä»¥æ²¿ç€ç›¸é‚»è§‚æµ‹ç‚¹çš„ç›´çº¿å…³ç³»è¿›è¡Œæ’å€¼ã€‚é€‚ç”¨äºè¶‹åŠ¿å¹³ç¨³æˆ–çº¿æ€§å¢é•¿/ä¸‹é™çš„æ•°æ®ã€‚ Preprocessing, scaling \u0026amp; reversing transformations ä¸‹é¢æ˜¯å‡ ç§å¸¸è§çš„transformationï¼š\nDifferencing: Remove trends by looking at changes rather than absolute values. Log-Differencing: Stabilize variance and remove trends, often used when dealing with multiplicative trends. Normalization (Min-Max): Scale data to [0,1]. Standardization (Z-score): Transform data to have mean 0 and std 1. å¤šå…ƒæ—¶åºå…³ç³»å’Œé¢„æµ‹ Granger Casuality Tests ä»€ä¹ˆæ˜¯Granger Casuality tests? Granger å› æœæ£€éªŒæ˜¯ä¸€ç§åŸºäºæ—¶é—´åºåˆ—æ•°æ®çš„å› æœæ¨æ–­æ–¹æ³•ï¼Œåˆ¤æ–­ä¸€ä¸ªæ—¶é—´åºåˆ—æ˜¯å¦â€œå› æœåœ°â€å½±å“å¦ä¸€ä¸ªæ—¶é—´åºåˆ—ã€‚\nä½†æ˜¯Grangerå› æœå¹¶ä¸ç­‰äºçœŸæ­£çš„å› æœå…³ç³»ã€‚ä»–åªè¡¨æ˜æ—¶é—´åºåˆ—ä¸Šçš„å› æœæ€§ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ$X$é¢†å…ˆ$Y$å‘ç”Ÿï¼Œå¹¶ä¸”$X$çš„å†å²æ•°æ®èƒ½æ”¹å–„$Y$çš„é¢„æµ‹ï¼Œé‚£ä¹ˆ$X$ Grangerå› æœåœ°å¯¼è‡´$Y$ï¼Œä½†è¿™ä¸ä¸€å®šæ˜¯å®é™…çš„å› æœå…³ç³»ï¼ˆå¯èƒ½å­˜åœ¨æœªè§‚å¯Ÿåˆ°çš„ç¬¬ä¸‰ä¸ªå˜é‡ï¼‰ã€‚Grangerå› æœçš„ä¼˜ç‚¹æ˜¯æ¯”å•çº¯çš„correlationæ›´å¤æ‚ï¼Œå¹¶ä¸”å¯ä»¥ç»™é¢„æµ‹èƒ½åŠ›æä¾›ä¸€ä¸ªæ£€éªŒï¼ˆé€šå¸¸æ˜¯åŸºäºå›å½’çš„ç»Ÿè®¡æ£€éªŒï¼‰ã€‚ç¼ºç‚¹å°±æ˜¯å®ƒä»ç„¶åœ¨å‡è®¾çº¿æ€§å…³ç³»ï¼Œè€Œä¸”Grangerå› æœå¹¶ä¸ä»£è¡¨çœŸå®äº‹ä»¶ä¸­ä¸€å®šæ˜¯å› æœå…³ç³»ã€‚\nTransfer Entropy Transfer Entropyï¼ˆä¼ é€’ç†µï¼‰ æ˜¯ä¸€ç§ç”¨äºé‡åŒ–æ—¶é—´åºåˆ—ä¹‹é—´ä¿¡æ¯æµåŠ¨çš„éçº¿æ€§å› æœæ¨æ–­æ–¹æ³•ï¼Œå¸¸ç”¨äºæ£€æµ‹æ—¶é—´åºåˆ—å˜é‡ä¹‹é—´çš„å› æœå…³ç³»ã€‚\næ ¸å¿ƒæ¦‚å¿µ\nä¿¡æ¯è®ºåŸºç¡€ï¼šTransfer Entropy åŸºäº é¦™å†œä¿¡æ¯ç†µ å’Œ æ¡ä»¶æ¦‚ç‡ï¼Œè¡¡é‡ä»ä¸€ä¸ªæ—¶é—´åºåˆ—åˆ°å¦ä¸€ä¸ªæ—¶é—´åºåˆ—çš„ä¿¡æ¯ä¼ é€’é‡ã€‚ éå¯¹ç§°æ€§ï¼šTransfer Entropy æ˜¯æœ‰æ–¹å‘çš„ï¼Œä¿¡æ¯ä¼ é€’å¯ä»¥æ˜¯ï¼š X â†’ Yï¼ˆX å½±å“ Yï¼‰ ä½† Y â†’ X ä¸ä¸€å®šæˆç«‹ éçº¿æ€§ï¼šå¯ä»¥æ•æ‰å¤æ‚çš„éçº¿æ€§å› æœå…³ç³»ï¼Œç›¸æ¯”äº Granger å› æœæ£€éªŒï¼ˆåŸºäºçº¿æ€§å›å½’ï¼‰ï¼ŒTransfer Entropy æ›´åŠ çµæ´»ã€‚ æ•°å­¦åŸç†\nå‡è®¾æœ‰ä¸¤ä¸ªæ—¶é—´åºåˆ— $X$ å’Œ $Y$ï¼š $X_t$ï¼šæ—¶é—´ $t$ æ—¶åˆ»çš„ $X$ $Y_t$ï¼šæ—¶é—´ $t$ æ—¶åˆ»çš„ $Y$ Transfer Entropy $T_{X \\to Y}$ å®šä¹‰ä¸ºï¼š $ T_{X \\to Y} = \\sum p(y_{t+1}, y_t^{(k)}, x_t^{(l)}) \\log \\frac{p(y_{t+1} \\mid y_t^{(k)}, x_t^{(l)})}{p(y_{t+1} \\mid y_t^{(k)})} $ $y_t^{(k)}$ï¼šè¡¨ç¤º $Y$ åœ¨è¿‡å» $k$ ä¸ªæ—¶é—´æ­¥çš„å†å²ä¿¡æ¯ã€‚ $x_t^{(l)}$ï¼šè¡¨ç¤º $X$ åœ¨è¿‡å» $l$ ä¸ªæ—¶é—´æ­¥çš„å†å²ä¿¡æ¯ã€‚ æ ¸å¿ƒï¼šå¦‚æœåœ¨å·²çŸ¥ $Y$ è‡ªèº«å†å²çš„åŸºç¡€ä¸Šï¼ŒåŠ å…¥ $X$ çš„å†å²ä¿¡æ¯èƒ½æé«˜ $Y$ çš„æœªæ¥é¢„æµ‹èƒ½åŠ›ï¼Œé‚£ä¹ˆ $X$ å‘ $Y$ ä¼ é€’äº†ä¿¡æ¯ï¼ŒTransfer Entropy å°±æ˜¯è¡¡é‡è¿™ä¸ªâ€œå¢é‡â€çš„é‡ã€‚ Transfer Entropy ä¸ Granger Causality çš„åŒºåˆ«\nç‰¹æ€§ Granger Causality Transfer Entropy å‡è®¾ å‡è®¾å˜é‡ä¹‹é—´æ˜¯çº¿æ€§å…³ç³» æ— å‡è®¾ï¼Œå¯ä»¥æ£€æµ‹éçº¿æ€§å› æœ æ–¹æ³• åŸºäºçº¿æ€§å›å½’è¿›è¡Œé¢„æµ‹ åŸºäºä¿¡æ¯è®ºå’Œæ¦‚ç‡åˆ†å¸ƒ ç»“æœ è¾“å‡ºp å€¼ï¼Œåˆ¤æ–­å› æœæ€§ è¾“å‡ºä¿¡æ¯ä¼ é€’é‡ï¼Œæ•°å€¼è¶Šå¤§è¡¨ç¤ºå› æœæ€§è¶Šå¼º å¯¹ç§°æ€§ å¯èƒ½å­˜åœ¨å¯¹ç§°æ€§ï¼ˆä½†ä¸æ€»æ˜¯ï¼‰ éå¯¹ç§°ï¼Œèƒ½é‡åŒ–æ–¹å‘æ€§ åº”ç”¨åœºæ™¯ ç»æµã€é‡‘èã€æ—¶é—´åºåˆ—åˆ†æ ç¥ç»ç§‘å­¦ã€å¤æ‚ç³»ç»Ÿã€æ°”å€™å˜åŒ–åˆ†æ Transfer Entropy çš„ä¼˜åŠ¿\næ•æ‰éçº¿æ€§å…³ç³»ï¼šåœ¨å¤æ‚ç³»ç»Ÿä¸­ï¼Œå˜é‡ä¹‹é—´å¾€å¾€å­˜åœ¨éçº¿æ€§å…³ç³»ï¼ŒTransfer Entropy èƒ½æ£€æµ‹è¿™äº›å…³ç³»ã€‚ é€‚ç”¨äºéå¹³ç¨³æ—¶é—´åºåˆ—ï¼šæ—¶é—´åºåˆ—æ•°æ®å¸¸å¸¸æ˜¯éå¹³ç¨³çš„ï¼ŒTransfer Entropy åœ¨å¤„ç†è¿™äº›æ•°æ®æ—¶æ›´çµæ´»ã€‚ åº¦é‡å› æœå¼ºåº¦ï¼šTransfer Entropy ä¸ä»…åˆ¤æ–­å› æœæ–¹å‘ï¼Œè¿˜å¯ä»¥é‡åŒ–å› æœå¼ºåº¦ï¼Œæ•°å€¼è¶Šå¤§è¡¨ç¤ºä¿¡æ¯æµåŠ¨è¶Šå¼ºã€‚ éå¯¹ç§°æ€§ï¼šèƒ½åŒºåˆ† X â†’ Y å’Œ Y â†’ X ä¹‹é—´çš„ä¿¡æ¯æµåŠ¨ï¼Œé¿å…äº†å› æœâ€œè¯¯åˆ¤â€ã€‚ Transfer Entropy çš„åº”ç”¨\nç¥ç»ç§‘å­¦ï¼šåˆ†æè„‘åŒºä¹‹é—´çš„ä¿¡æ¯ä¼ é€’ï¼Œç†è§£ç¥ç»å…ƒçš„ç›¸äº’ä½œç”¨ã€‚ é‡‘èå¸‚åœºï¼šåˆ†æä¸åŒè‚¡ç¥¨æˆ–å¸‚åœºæŒ‡æ•°ä¹‹é—´çš„ä¿¡æ¯æµåŠ¨ï¼Œæ£€æµ‹å¸‚åœºçš„é¢†å¯¼æ•ˆåº”ã€‚ æ°”å€™ç§‘å­¦ï¼šç ”ç©¶æ°”å€™ç³»ç»Ÿä¸­ä¸åŒæ°”å€™æŒ‡æ•°ï¼ˆå¦‚ ENSOã€NAOï¼‰ä¹‹é—´çš„ä¿¡æ¯ä¼ é€’ã€‚ ç”Ÿæ€å­¦ï¼šåˆ†æç”Ÿæ€ç³»ç»Ÿä¸­ç‰©ç§ä¹‹é—´çš„ç›¸äº’ä½œç”¨ï¼Œå¦‚æ•é£Ÿè€…å’ŒçŒç‰©ä¹‹é—´çš„ä¿¡æ¯æµåŠ¨ã€‚ Linear Regression for Multivariate Forecasting VAR Model for Multivariate Forecasting Vector Auto-Regression æ¨¡å‹æ•æ‰å¤šä¸ªå˜é‡ä¹‹é—´çš„çº¿æ€§ç›¸äº’ä¾å­˜å…³ç³»ã€‚VAR æ¨¡å‹ä¸­çš„æ¯ä¸ªå˜é‡éƒ½æ˜¯ç³»ç»Ÿä¸­æ‰€æœ‰å˜é‡è¿‡å»å€¼çš„çº¿æ€§å‡½æ•°ã€‚VARä¸ä»…å¯ä»¥åŒæ—¶æ¨¡æ‹Ÿå¤šä¸ªæ—¶é—´åºåˆ—ï¼Œè€Œä¸”å¯ä»¥æ•æ‰åé¦ˆå›è·¯ï¼Œä¾‹å¦‚å„å°”å°¼è¯º/å—æ–¹æ¶›åŠ¨å¦‚ä½•ä¾èµ–äºå¤§æ°”ç¯æµï¼Œå¤§æ°”ç¯æµåˆå¦‚ä½•ä¾èµ–äºå„å°”å°¼è¯º/å—æ–¹æ¶›åŠ¨ç­‰ã€‚ä½†æ˜¯å®ƒä»ç„¶å‡è®¾é—®é¢˜æ˜¯çº¿æ€§çš„ï¼Œè€Œä¸”éœ€è¦é™æ€æˆ–éé™æ€å·®åˆ†ã€‚è¿˜éœ€è¦ä¼°è®¡å¾ˆå¤šå‚æ•°ï¼Œç¨æœ‰ä¸æ…å°±ä¼šå¯¼è‡´è¿‡åº¦æ‹Ÿåˆã€‚\nAdvanced Forecasting Methods MLP Regression Gradient Boosting Regression KalmanForecaster LSTM ","permalink":"https://martinspace.top/zh/data-analysis/","summary":"è®°å½•ä¸€äº›åŸºç¡€æ–¹æ³• æ—¶é—´åºåˆ— å¯è§†åŒ–ä¸‰ç§æ—¶é—´åºåˆ— Brownian motion (stochastic process) Lorenz attractor (chaotic system) Lotka-Volterra system (deterministic system of differential equations) éšæœºè¿‡ç¨‹æ˜¯ä¸€ç§éç¡®å®šæ€§çš„è¿‡ç¨‹ï¼Œå³å…¶æœªæ¥çŠ¶æ€ä¾èµ–äºæ¦‚ç‡åˆ†å¸ƒï¼Œæ— æ³•é€šè¿‡ç¡®","title":"æ—¶åºåˆ†æ/é¢„æµ‹"},{"content":"åšäº†ä¸€äº›åˆæ­¥çš„è°ƒç ”ï¼Œè„‘è¢‹é‡Œç¨æœ‰æƒ³æ³•ã€‚å¾®è°ƒåŠ é€Ÿå¯ä»¥ä»ä¸¤ä¸ªæ–¹é¢å…¥æ‰‹ï¼Œä¸€ä¸ªæ˜¯åŠ é€Ÿè®­ç»ƒè¿‡ç¨‹ï¼Œä¸€ä¸ªæ˜¯åŠ é€Ÿæ¨ç†è¿‡ç¨‹ã€‚çœ‹èµ·æ¥åŠ é€Ÿæ¨ç†è¿‡ç¨‹è¦æ¯”åŠ é€Ÿè®­ç»ƒå—æ¬¢è¿çš„å¤šï¼ˆæˆ–è®¸æ˜¯ä¸ºäº†ç”¨æˆ·ä½“éªŒå§ï¼‰ã€‚è€ŒåŠ é€Ÿè®­ç»ƒï¼ˆä¾‹å¦‚é«˜é€ŸåŠ è½½è®­ç»ƒæ•°æ®ï¼‰çš„å·¥ä½œå´å¯¥å¯¥æ— å‡ ï¼ˆå¯èƒ½æ˜¯huggingfaceçš„datasetså¤ªè¿‡å¼ºå¤§ï¼Ÿä¹Ÿå¯èƒ½æ˜¯æˆ‘æœç´¢æ–‡ç« çš„æ–¹å¼ä¸å¯¹ï¼‰ã€‚\nå¾®è°ƒåœ¨è°ƒä»€ä¹ˆï¼Ÿ å…¨å‚æ•°å¾®è°ƒï¼ˆFPFTï¼‰ï¼š å‚æ•°é«˜æ•ˆå¾®è°ƒï¼ˆPEFTï¼‰: è¿™é‡Œä¸»è¦æŒ‡LoRAã€‚LoRAæ“ä½œæ˜¯åœ¨hidden layerä¸­æ·»åŠ ä¸€äº›å°çŸ©é˜µå±‚ï¼ˆè¿™ä¸¤å±‚çš„è¿æ¥åšçš„æ˜¯åŠ æ³•ï¼‰ã€‚è¾“å…¥ç»è¿‡ä¸€éç¥ç»ç½‘ç»œä¼šäº§ç”Ÿä¸€ä¸ªè¾“å‡ºï¼Œè¿™ä¸ªè¾“å‡ºè¢«ç”¨æ¥å’ŒæœŸæœ›çš„è¾“å‡ºåšæ¯”è¾ƒå¾—å‡ºä¸€ä¸ªæŸå¤±ï¼Œç„¶åå°†è¿™ä¸ªæŸå¤±æ¢¯åº¦ä¸‹é™åå‘ä¼ æ’­å›è¿™ä¸ªç½‘ç»œï¼Œä½†æ˜¯åœ¨è¿™ä¸ªåå‘ä¼ æ’­çš„è¿‡ç¨‹ä¸­ï¼ŒåŸæ¥çš„hidden layerå‚æ•°ä¸ä¼šå†æ›´æ–°ï¼Œæ›´æ–°çš„åªæœ‰åŠ å…¥çš„LoRAå±‚ã€‚åå¤è®­ç»ƒæœ€ç»ˆå¾—åˆ°loRA adapterã€‚ å¾®è°ƒåŠ é€Ÿçš„å‰æ²¿å·¥ä½œï¼ˆFPFTï¼‰ RLHF SFT æ•°æ®åŠ é€Ÿçš„å‰æ²¿å·¥ä½œ DataStreaming å¾®è°ƒåŠ é€Ÿçš„å‰æ²¿å·¥ä½œï¼ˆPEFTï¼‰ Huggingface PEFT -\u0026gt; Punica -\u0026gt; S-LoRA -\u0026gt; dLoRA\ndLoRA dLoRA é€šè¿‡åŠ¨æ€ç®¡ç† LoRA adapterå’Œä¼˜åŒ–æ¨ç†ä»»åŠ¡çš„è°ƒåº¦ç­–ç•¥ï¼Œæ¥æå‡ LLM çš„æ¨ç†æ•ˆç‡ã€‚ä»–ä»¬å‘ç°LoRA adapterçš„æ¨ç†æœåŠ¡ä¸»è¦é¢ä¸´è®¡ç®—èµ„æºåˆ©ç”¨ç‡ä½å’Œè´Ÿè½½ä¸å‡è¡¡ä¸¤ä¸ªæ ¸å¿ƒæŒ‘æˆ˜ã€‚å› æ­¤å¦‚ä½•é«˜æ•ˆç®¡ç†å¤šä¸ªLoRA adapteræˆä¸ºä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ã€‚ dLoRAçš„è´¡çŒ®ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç‚¹ï¼š\nåœ¨worker levelï¼Œä¸ºäº†å‡å°‘ç«¯åˆ°ç«¯çš„å»¶è¿Ÿï¼Œä»–ä»¬æå‡ºäº†ä¸€ç§æŠ€æœ¯ï¼ˆdynamic cross-adapter batching techniqueï¼‰æ¥åŠ¨æ€åˆ‡æ¢mergedå’Œunmergedæ¨¡å¼ åœ¨cluster levelï¼Œä¸ºäº†å‡è¡¡æ•´ä¸ªé›†ç¾¤çš„è´Ÿè½½ï¼Œä»–ä»¬æå‡ºäº†ä¸€ç§æŠ€æœ¯ï¼ˆrequest-adapter co-migration techniqueï¼‰æ¥åŠ¨æ€è¿ç§»requestså’Œadapters ä»€ä¹ˆæ˜¯mergedå’Œunmergedæ¨¡å¼ï¼Ÿ\nMerged Adapters æŒ‡çš„æ˜¯åœ¨æ¨ç†å‰ï¼Œå°†LoRA adapterçš„æƒé‡ç›´æ¥åŠ å›åŸå§‹æ¨¡å‹æƒé‡ï¼Œä½¿å¾—æ¨ç†æ—¶ä¸éœ€è¦é¢å¤–çš„çŸ©é˜µè®¡ç®—ã€‚è¿™æ ·åšçš„ä¼˜ç‚¹åœ¨äºå‡å°‘äº†è®¡ç®—å¼€é”€ï¼Œå› ä¸ºåªéœ€è¦å¯¹åˆå¹¶åçš„æƒé‡ $W_{final}$ è¿›è¡Œä¸€æ¬¡forwardè®¡ç®—ã€‚å¦‚æœæŸä¸ªLoRA adapterçš„è¯·æ±‚å¾ˆå¤šï¼ŒMergedæ¨¡å‹ä¼šæå‡ååé‡ã€‚ä½†æ˜¯è¿™ä¹Ÿé€ æˆåŠ è½½æ¨¡å¼ä¸å¤Ÿçµæ´»ã€‚å› ä¸ºåˆå¹¶åï¼Œå¦‚æœè¦æ¢æˆå¦ä¸€ä¸ª LoRA Adapterï¼Œå¿…é¡»é‡æ–°åŠ è½½æ¨¡å‹æƒé‡ï¼Œå¢åŠ å¼€é”€ã€‚ Unmerged Adapters æŒ‡çš„æ˜¯åœ¨æ¨ç†æ—¶åŠ¨æ€è®¡ç®— LoRA adapterçš„æ›´æ–°ï¼Œè€Œä¸æ˜¯æå‰åˆå¹¶è¿›åŸå§‹æ¨¡å‹ã€‚è¿™æ ·åšé€‚ç”¨äºå¤šLoRA Adapterçš„åœºæ™¯ï¼Œå¯ä»¥åŠ¨æ€åˆ‡æ¢Adapterï¼Œå¤šä¸ªAdapterå…±äº«åŒä¸€ä¸ªåŸºç¡€æ¨¡å‹ï¼Œæ— éœ€é‡æ–°åŠ è½½æ¨¡å‹æƒé‡ã€‚ä½†æ˜¯è¿™ä¼šå¢åŠ è®¡ç®—å¼€é”€ï¼Œå› ä¸ºæ¯æ¬¡æ¨ç†éƒ½è¦é¢å¤–è®¡ç®—adapterçš„æ¨ç†ï¼Œæ¯”merged modeç¨æ…¢ã€‚ Dynamic cross-adapter batching technique: å†³å®šä»€ä¹ˆæ—¶å€™ç”¨merged modeä»€ä¹ˆæ—¶å€™ç”¨unmerged modeçš„ç­–ç•¥ã€‚è¿™ä¸ªç­–ç•¥ä¼šåŠ¨æ€å†³å®šåˆ‡æ¢æ¨¡å¼çš„æ—¶é—´ç‚¹ã€‚å…·ä½“ç®—æ³•å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å¦‚æœæŸä¸ªé€‚é…å™¨çš„è¯·æ±‚æ•°é‡è¶³å¤Ÿå¤šï¼ˆè¶…è¿‡é˜ˆå€¼ $\\alpha_\\text{switch}$ï¼‰ï¼Œå°±åˆå¹¶é€‚é…å™¨ï¼Œæé«˜è®¡ç®—æ•ˆç‡ã€‚å¦‚æœæŸä¸ªé€‚é…å™¨çš„è¯·æ±‚æ•°é‡å˜å°‘ï¼ˆä½äºé˜ˆå€¼ $\\beta_\\text{switch}$ï¼‰ï¼Œå°±å–æ¶ˆåˆå¹¶ï¼Œé¿å…æµªè´¹è®¡ç®—èµ„æºã€‚ å›ºå®šçš„é˜ˆå€¼ä¸å¤Ÿçµæ´»ï¼Œå¦‚æœåˆå¹¶é€‚é…å™¨å¸¦æ¥çš„ååé‡æå‡ä¸æ˜æ˜¾ï¼Œå°±åº”è¯¥é™ä½ $\\alpha_\\text{switch}$ï¼Œè®©æ›´å¤šçš„è¯·æ±‚ä¿æŒ unmerged modeï¼Œæé«˜çµæ´»æ€§ã€‚ å¦‚æœåˆå¹¶é€‚é…å™¨æ˜¾è‘—æé«˜äº†ååé‡ï¼Œåˆ™åº”è¯¥å¢åŠ  $\\alpha_\\text{switch}$ï¼Œè®©æ›´å¤šçš„é€‚é…å™¨è¿›å…¥ merged modeã€‚å…·ä½“ç®—æ³•å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ Request-adapter co-migration technique: æ ¸å¿ƒæ€æƒ³å°±æ˜¯å°†LoRA adapterså’Œè¯·æ±‚ï¼ˆå¤„äºä¸­é—´æ€çš„ï¼‰ä»è¿‡è½½çš„replicasè¿ç§»åˆ°å…¶ä»–replicasä¸Šã€‚\nPossible Improvement Points:\ndLoRA ä½œä¸ºä¸€ä¸ªé’ˆå¯¹ LoRA é€‚é…å™¨æ¨ç†æœåŠ¡ è¿›è¡Œä¼˜åŒ–çš„ç³»ç»Ÿï¼Œç¡®å®åœ¨ååé‡ã€å»¶è¿Ÿå’Œ GPU èµ„æºåˆ©ç”¨ç‡æ–¹é¢å¤§å¹…æå‡äº†æ•ˆç‡ï¼Œä½†å®ƒä»ç„¶æœ‰ä¸€äº›å±€é™æ€§ï¼ˆlimitationsï¼‰ï¼Œå¹¶æœ‰æ½œåœ¨çš„æ”¹è¿›ç©ºé—´ã€‚ä»¥ä¸‹æ˜¯å¯èƒ½çš„é™åˆ¶å’Œæ”¹è¿›æ–¹å‘ï¼š\né€‚é…å™¨åˆ‡æ¢çš„å¼€é”€ dLoRA é‡‡ç”¨äº†åŠ¨æ€è°ƒæ•´Merged modeå’ŒUnmerged modeçš„ç­–ç•¥ï¼Œä½†é€‚é…å™¨çš„é¢‘ç¹åˆ‡æ¢ ä»ç„¶ä¼šå¸¦æ¥è®¡ç®—å¼€é”€ï¼Œå°¤å…¶æ˜¯åœ¨çŸ­æ—¶é—´å†…å¤šä¸ª LoRA Adapterçš„è¯·æ±‚äº¤æ›¿é¢‘ç¹åˆ°è¾¾æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´é¢å¤–çš„é€‚é…å™¨åŠ è½½å’Œè¿ç§»æˆæœ¬ã€‚ ILPï¼ˆæ•´æ•°çº¿æ€§è§„åˆ’ï¼‰ç”¨äºä¼˜åŒ–requests-adapterçš„è¿ç§»ç­–ç•¥ï¼Œä½†æ±‚è§£ ILP æœ¬èº«çš„è®¡ç®—å¼€é”€å¯èƒ½ä¼šæˆä¸ºç“¶é¢ˆï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§è§„æ¨¡åˆ†å¸ƒå¼é›†ç¾¤ä¸­ã€‚æ‰€ä»¥æ½œåœ¨çš„æ”¹è¿›æ–¹å‘ï¼š ä¼˜åŒ–é€‚é…å™¨åˆ‡æ¢ç­–ç•¥ï¼šç›®å‰ dLoRA ä¸»è¦åŸºäºç»éªŒé˜ˆå€¼æ¥å†³å®šä½•æ—¶åˆå¹¶/è§£è€¦ LoRA é€‚é…å™¨ï¼Œè¿™ä¸ªé˜ˆå€¼è™½ç„¶ä¼šè‡ªé€‚åº”è°ƒæ•´ï¼Œä½†æ˜¯å­˜åœ¨æ»åæ€§ï¼Œå¦‚æœè¯·æ±‚é‡æ¿€å¢ï¼Œç³»ç»Ÿéœ€è¦å¤šè½®è¿­ä»£åæ‰èƒ½é€‚åº”ã€‚ å‡å°‘ ILP è®¡ç®—å¼€é”€ï¼šé‡‡ç”¨è¿‘ä¼¼ä¼˜åŒ–ï¼ˆApproximate Optimizationï¼‰æˆ–å¯å‘å¼ç®—æ³•ï¼ˆHeuristic-based Schedulingï¼‰ï¼Œæ›¿ä»£ ILP æ±‚è§£ï¼Œé™ä½è®¡ç®—æˆæœ¬ï¼ŒåŒæ—¶ä¿æŒè¾ƒå¥½çš„è´Ÿè½½å‡è¡¡æ•ˆæœã€‚ S-LoRA S-LoRAæ˜¯ä¸€ç§å¤§è§„æ¨¡éƒ¨ç½²LoRA adaptersçš„æŠ€æœ¯ã€‚ä¸æ¶‰åŠmergedå’Œunmergedæ¨¡å¼ä¹‹é—´çš„è°ƒåº¦ï¼Œå®ƒå°±æ˜¯ç”¨Unmergedæ¨¡å¼ã€‚S-LoRAå…³æ³¨çš„ç‚¹åœ¨å­˜å‚¨æ–¹å¼ã€‚ä»–ä»¬æå‡ºUnified Pagingï¼Œå‹æ¦¨æ˜¾å­˜ï¼Œä½¿å•ä¸ªGPUèƒ½ä¸ºä¸Šåƒä¸ªadapteræœåŠ¡ã€‚\nPunica References [1] Wu, Bingyang, et al. \u0026ldquo;{dLoRA}: Dynamically orchestrating requests and adapters for {LoRA}{LLM} serving.\u0026rdquo; 18th USENIX Symposium on Operating Systems Design and Implementation (OSDI 24). 2024.\n[2] Sheng, Ying, et al. \u0026ldquo;S-lora: Serving thousands of concurrent lora adapters.\u0026rdquo; arXiv preprint arXiv:2311.03285 (2023).\n","permalink":"https://martinspace.top/zh/mlsys-ft/","summary":"åšäº†ä¸€äº›åˆæ­¥çš„è°ƒç ”ï¼Œè„‘è¢‹é‡Œç¨æœ‰æƒ³æ³•ã€‚å¾®è°ƒåŠ é€Ÿå¯ä»¥ä»ä¸¤ä¸ªæ–¹é¢å…¥æ‰‹ï¼Œä¸€ä¸ªæ˜¯åŠ é€Ÿè®­ç»ƒè¿‡ç¨‹ï¼Œä¸€ä¸ªæ˜¯åŠ é€Ÿæ¨ç†è¿‡ç¨‹ã€‚çœ‹èµ·æ¥åŠ é€Ÿæ¨ç†è¿‡ç¨‹è¦æ¯”åŠ é€Ÿè®­ç»ƒå—æ¬¢è¿","title":"å¾®è°ƒåŠ é€Ÿç ”ç©¶"},{"content":" æœºå™¨æ˜¯2021å¹´M1çš„MacBook Proï¼Œæ–—èƒ†ä¸€è¯•ã€‚\nå¼•è¨€ masteråˆ†æ”¯çš„commitè®°å½•ï¼š2075a66\nåˆ†åˆ«éƒ¨ç½²äº†Llama-2-7B-Chatï¼ŒLlama-2-13B-Chat, Llama-2-70B-Chatä¸‰æ¬¾å¤§æ¨¡å‹ï¼Œéƒ¨ç½²æ–¹å¼å®Œå…¨ä¸€è‡´ï¼Œæˆ‘æ‹¿7Bæ¨¡å‹ä¸¾ä¾‹ã€‚\nPS: 2-bité‡åŒ–çš„7Bå’Œ13Bæ¨¡å‹æœ¬åœ°å®Œå…¨å¯ä»¥å¸¦åŠ¨ï¼Œæ¯«æ— å‹åŠ›ã€‚ä½†ä¹Ÿæ˜¯å› ä¸ºæŸå¤±äº†å¤ªå¤šç²¾åº¦å¯¼è‡´ç»“æœä¸€èˆ¬ã€‚ ç”±äºå†…å­˜é™åˆ¶ï¼Œæˆ‘åœ¨æœ¬åœ°æ— æ³•ä¸‹è½½70Bçš„æ¨¡å‹ï¼Œç´¢æ€§è½¬æˆ˜åˆ°å­¦æ ¡çš„è¶…çº§è®¡ç®—ä¸­å¿ƒğŸ˜ã€‚\nå‰ç½®çŸ¥è¯† ä¸ºé™ä½æœ¬æ–‡é˜…è¯»é—¨æ§›ï¼Œæˆ‘å°†å…ˆä»‹ç»ä¸€äº›å¿…å¤‡çš„åŸºç¡€çŸ¥è¯†ã€‚\né‡åŒ– ä¼—æ‰€å‘¨çŸ¥ï¼Œå¤§æ¨¡å‹æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå·¨å¤§çš„çŸ©é˜µè®¡ç®—ï¼Œè®¡ç®—çš„æ¯ä¸€ä¸ªæ•°å­—éƒ½æ˜¯æµ®ç‚¹æ•°ã€‚å¤§å…¬å¸çš„LLMæ¨ç†è®¡ç®—ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨float32ï¼Œç¡®ä¿ç²¾åº¦è¶³å¤Ÿé«˜ï¼Œä»è€Œä¿è¯å‡†ç¡®ç‡ã€‚ä½†æ˜¯float32çš„å”¯ä¸€ç¼ºç‚¹å°±æ˜¯éœ€è¦å¤§é‡çš„è®¡ç®—èµ„æºï¼ˆçº¦ç­‰äºé©¬å†…ï¼‰ï¼Œ æ™®é€šäººéœ€è¦çš„å¤§æ¨¡å‹æ ¹æœ¬ä¹Ÿä¸éœ€è¦è¿™ä¹ˆé«˜çš„ç²¾åº¦/å‡†ç¡®ç‡ã€‚æ‰€ä»¥é‡åŒ–æŠ€æœ¯åº”è¿è€Œç”Ÿï¼Œæœ€å¸¸è§çš„ä¸¤ç§ï¼Œå³float32 -\u0026gt; float16å’Œfloat32 -\u0026gt; int8ã€‚ æˆ‘ä»¬å¯ä»¥ä»huggingfaceç›´æ¥ä¸‹è½½é‡åŒ–å¥½çš„å¤§æ¨¡å‹ï¼ˆå„ç§é‡åŒ–ä½æ•°éƒ½æœ‰ï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œä¸è¿‡å¤šå™è¿°é‡åŒ–çš„åŸç†ï¼Œæƒ³è¦å…·ä½“äº†è§£å¯ä»¥é˜…è¯»æ–‡æ¡£ã€‚ éƒ¨ç½²æ­¥éª¤ é¦–å…ˆå…‹éš†ä»“åº“ï¼Œè¿›å…¥ç›®å½•å¹¶ç¼–è¯‘é¡¹ç›®\n$ git clone https://github.com/ggerganov/llama.cpp $ cd llama.cpp $ make ç¼–è¯‘å¥½é¡¹ç›®ä¹‹åï¼Œæˆ‘ä»¬ä¸»è¦å…³æ³¨./exampleså’Œ./modelsè¿™ä¸¤ä¸ªç›®å½•\n./examples: è¿™ä¸ªç›®å½•ä¸‹ä¸»è¦æ˜¯ä¸€äº›ä½¿ç”¨ç¤ºä¾‹ã€‚ ./models: è¿™ä¸ªç›®å½•ä¸‹ä¸»è¦ç”¨æ¥å­˜æ”¾æˆ‘ä»¬ä¸‹è½½çš„æ¨¡å‹ ","permalink":"https://martinspace.top/zh/llamacpp-tutorial/","summary":"æœºå™¨æ˜¯2021å¹´M1çš„MacBook Proï¼Œæ–—èƒ†ä¸€è¯•ã€‚ å¼•è¨€ masteråˆ†æ”¯çš„commitè®°å½•ï¼š2075a66 åˆ†åˆ«éƒ¨ç½²äº†Llama-2-7B-","title":"Llama.cppæœ¬åœ°CPUéƒ¨ç½²å¤§æ¨¡å‹"},{"content":"Nice \u003c!DOCTYPE html\u003e London Paris \u003c!DOCTYPE html\u003e London ","permalink":"https://martinspace.top/zh/france/","summary":"Nice \u003c!DOCTYPE html\u003e London Paris \u003c!DOCTYPE html\u003e London","title":"æ³•å›½"},{"content":"Intelligent Agents Agents are objects with attitude, which are autonomous, smart, active.\nProperties in Environment (ç¯å¢ƒæ€§è´¨æè¿°) Fully observable / partially observable Deterministic / non-deterministic Static / dynamic Discrete / continuous Episodic / non-episodic Real time Social ability (ç¤¾äº¤èƒ½åŠ›) The ability to interact with other agents via cooperation, coordination, and negotiation.\nAbstract Architectures for Agents (ä»£ç†çš„æŠ½è±¡æ¶æ„) è¡¨ç¤ºæ–¹æ³•\nState: $E = \\{e, e\u0026rsquo;, \u0026hellip; \\}$ Actions: $Ac = \\{\\alpha, \\alpha\u0026rsquo;, \u0026hellip; \\}$ Run: $r: e_0\\xrightarrow{\\alpha_0}e_1\\xrightarrow{\\alpha_1}\u0026hellip;\\xrightarrow{\\alpha_{u-1}}e_u$ $R$: æœ‰é™åºåˆ—ï¼ŒåŒ…å«æ‰€æœ‰å¯èƒ½çš„æƒ…å†µ $R^{Ac}$: æ‰€æœ‰ä»¥actionç»“å°¾çš„åºåˆ— $R^E$: æ‰€æœ‰ä»¥environmentç»“å°¾çš„åºåˆ— State transformer function $$\\tau: R^{Ac} \\rightarrow 2^E$$ è¡¨ç¤ºä¸€ä¸ªä»£ç†åŠ¨ä½œåœ¨ç¯å¢ƒä¸Šçš„ä½œç”¨ã€‚\nå¦‚æœ$\\tau(r) = \\emptyset$ï¼Œé‚£ä¹ˆå¯¹äº$r$æ¥è¯´æ²¡æœ‰åç»§çŠ¶æ€ï¼Œå¯ä»¥å®šä¹‰ä¸ºè¿è¡Œç»“æŸ\nEnvironment definition: $Env = \u0026lt;E, e_0, \\tau\u0026gt;$\n$E$æ˜¯ä¸€ç»„çŠ¶æ€ $e_0$æ˜¯åˆå§‹çŠ¶æ€ $\\tau$æ˜¯çŠ¶æ€è½¬ç§»å‡½æ•° Agent æŠŠä¸€ä¸ªagentå»ºæ¨¡æˆä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ˜ å°„runs(å‡è®¾è¿™äº›åºåˆ—ä»¥stateç»“å°¾)åˆ°actionsã€‚ $$Ag: R^E \\rightarrow Ac$$\nSystems ç³»ç»Ÿå¯ä»¥è¡¨ç¤ºä¸º$R(Ag, Env)$ï¼Œæ„æ€æ˜¯ä»£ç†$Ag$åœ¨ç¯å¢ƒ$Env$ä¸Šçš„ä¸€äº›åˆ—runs\nPurely Reactive Agents\nä»–ä»¬ä¸æ ¹æ®å†å²åšå†³å®š ä»–ä»¬åšçš„å†³å®šå…¨éƒ¨æ ¹æ®ç°åœ¨çš„æƒ…å†µ $$Ag: E\\rightarrow Ac$$ æ¸©æ§å™¨å°±æ˜¯ä¸€ä¸ªpurely reactive agentsï¼Œå½“e = temperature, $Ag(e) =$ offï¼Œå¦åˆ™ï¼Œ$Ag(e) =$ onã€‚\nUtilities Agentåœ¨ç‰¹å®šç¯å¢ƒä¸­ç›®æ ‡æ»¡æ„åº¦çš„é‡åŒ–è¡¡é‡æŒ‡æ ‡ã€‚\næœŸæœ›æ•ˆç”¨ï¼ˆExpected Utilityï¼‰çš„è®¡ç®—åœ¨å¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼ˆMASï¼‰å’Œå†³ç­–ç†è®ºä¸­æœ‰å¤šç§ç”¨é€”ï¼Œä¸»è¦ç”¨äºè¯„ä¼°ã€ä¼˜åŒ–å’ŒæŒ‡å¯¼æ™ºèƒ½ä½“çš„è¡Œä¸ºä¸ç­–ç•¥ã€‚ Expected Utilityè®¡ç®—å…¬å¼å¦‚ä¸‹ $$EU(Ag, Env) = \\sum_{r\\in R(Ag, Env)} u(r)P(r|Ag, Env)$$\nDeductive Reasoning Agents Symbolic Reasoning Agents å»ºç«‹agentsçš„ä¸€ä¸ªç»å…¸æ–¹æ³•å°±æ˜¯æŠŠä»–ä»¬çœ‹ä½œä¸€ç§ç‰¹åˆ«çš„çŸ¥è¯†åº“ç³»ç»Ÿï¼Œå¹¶ä¸”æŠŠç›¸å…³çš„æ–¹æ³•åº”ç”¨åˆ°è¿™ä¸ªç³»ç»Ÿä¸­ã€‚è¿™ç±»èŒƒç•´å°±å±äºsymbolic AIã€‚\nAgents as Theorem Provers Agent-Oriented Programming ","permalink":"https://martinspace.top/zh/comp310/","summary":"Intelligent Agents Agents are objects with attitude, which are autonomous, smart, active. Properties in Environment (ç¯å¢ƒæ€§è´¨æè¿°) Fully observable / partially observable Deterministic / non-deterministic Static / dynamic Discrete / continuous Episodic / non-episodic Real time Social ability (ç¤¾äº¤èƒ½åŠ›) The ability to interact with other agents via cooperation, coordination, and negotiation. Abstract Architectures for Agents (ä»£ç†çš„","title":"å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ(COMP310)"},{"content":"Hurghada \u003c!DOCTYPE html\u003e London Cairo \u003c!DOCTYPE html\u003e London ","permalink":"https://martinspace.top/zh/egypt/","summary":"Hurghada \u003c!DOCTYPE html\u003e London Cairo \u003c!DOCTYPE html\u003e London","title":"åŸƒåŠ"},{"content":"è™šæ‹Ÿæœº å€ŸåŠ©è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œç”¨æˆ·èƒ½ä»¥å•ä¸ªç‰©ç†ç¡¬ä»¶ç³»ç»Ÿä¸ºåŸºç¡€åˆ›å»ºå¤šä¸ªæ¨¡æ‹Ÿç¯å¢ƒæˆ–ä¸“ç”¨èµ„æºã€‚\u0026ldquo;Hypervisor\u0026rdquo; ï¼ˆè™šæ‹Ÿæœºç›‘æ§ç¨‹åºï¼‰çš„è½¯ä»¶å¯ç›´æ¥è¿æ¥åˆ°ç¡¬ä»¶ï¼Œä»è€Œå°†ä¸€ä¸ªç³»ç»Ÿåˆ’åˆ†ä¸ºä¸åŒçš„ã€å•ç‹¬å®‰å…¨ç¯å¢ƒï¼Œå³è™šæ‹Ÿæœºï¼ˆVMï¼‰ã€‚\nType 1 \u0026amp; Type 2 è™šæ‹Ÿæœºç›‘æ§ç¨‹åº ç¬¬ 1 ç±»è™šæ‹Ÿæœºç›‘æ§å™¨ä½äºè£¸æœºæœåŠ¡å™¨ä¹‹ä¸Šï¼Œå¯ä»¥ç›´æ¥è®¿é—®ç¡¬ä»¶èµ„æºã€‚å› æ­¤ï¼Œç¬¬ 1 ç±»è™šæ‹Ÿæœºç›‘æ§å™¨ä¹Ÿç§°ä¸ºè£¸æœºè™šæ‹Ÿæœºç›‘æ§å™¨ã€‚\nç›¸æ¯”ä¹‹ä¸‹ï¼Œç¬¬ 2 ç±»è™šæ‹Ÿæœºç›‘æ§å™¨æ˜¯å®‰è£…åœ¨ä¸»æœºæ“ä½œç³»ç»Ÿä¸Šçš„åº”ç”¨ç¨‹åºã€‚æ­¤ç±»è™šæ‹Ÿæœºç›‘æ§å™¨ä¹Ÿç§°ä¸ºæ‰˜ç®¡æˆ–åµŒå…¥å¼è™šæ‹Ÿæœºç›‘æ§å™¨ã€‚\nç¬¬ 1 ç±»è™šæ‹Ÿæœºç›‘æ§å™¨æˆ–è£¸æœºè™šæ‹Ÿæœºç›‘æ§å™¨ç›´æ¥ä¸åº•å±‚è®¡ç®—æœºç¡¬ä»¶äº¤äº’ã€‚è£¸æœºè™šæ‹Ÿæœºç›‘æ§å™¨ç›´æ¥å®‰è£…åœ¨ä¸»æœºçš„ç‰©ç†ç¡¬ä»¶ä¸Šï¼Œè€Œä¸æ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿå®‰è£…ã€‚ ç¬¬ 2 ç±»è™šæ‹Ÿæœºç›‘æ§å™¨æˆ–æ‰˜ç®¡è™šæ‹Ÿæœºç®¡ç†ç›‘æ§å™¨é€šè¿‡ä¸»æœºçš„æ“ä½œç³»ç»Ÿä¸åº•å±‚ä¸»æœºç¡¬ä»¶è¿›è¡Œäº¤äº’ã€‚ç¬¬ 2 ç±»è™šæ‹Ÿæœºç›‘æ§å™¨å®‰è£…åœ¨è®¡ç®—æœºä¸Šï¼Œåœ¨å…¶ä¸­ä½œä¸ºåº”ç”¨ç¨‹åºè¿è¡Œã€‚ Hypervisorå±äºåè°ƒå±‚ï¼ŒåŒæ—¶è¿è¡Œå¤šä¸ªè™šæ‹Ÿæœº JavaScript æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œç®€å•å†™å‡ ä¸ªTutorialçš„ç‚¹\nåŸå‹é“¾(Prototype Chain)ï¼šè¿™ä¸ªæœºåˆ¶çš„å…³é”®ç‚¹åœ¨äºå½“ä½ å°è¯•è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå¦‚æœè¯¥å¯¹è±¡æœ¬èº«æ²¡æœ‰è¿™ä¸ªå±æ€§æˆ–æ–¹æ³•ï¼ŒJavaScriptå¼•æ“å°±ä¼šæ²¿ç€è¿™ä¸ªå¯¹è±¡çš„åŸå‹é“¾å‘ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°è¿™ä¸ªå±æ€§æˆ–æ–¹æ³•æˆ–åˆ°è¾¾åŸå‹é“¾çš„æœ«ç«¯ã€‚object.getPrototypeOf() functionä¹Ÿæ˜¯ä¸€ä¸ªobject undefineå’Œnullæ˜¯ä¸åŒçš„ç±»å‹ï¼Œ undefine === null False undefine == null True å£°æ˜å˜é‡åˆ«ç”¨varã€‚å˜çš„å°±ç”¨letï¼Œä¸å˜å°±ç”¨constï¼Œèˆå¼ƒvar \u0026lt;button class=\u0026#34; bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded transform transition hover:scale-110\u0026#34;\u0026gt; Shop Online \u0026lt;/button\u0026gt; \u0026lt;!-- py-2 px-4 æŒ‡xå’Œyæ–¹å‘ä¸Šçš„paddingå¤§å°--\u0026gt; mapæ–¹æ³• const numbers = [1, 2, 3, 4]; const doubled = numbers.map(num =\u0026gt; num * 2); console.log(doubled); reduceæ–¹æ³• const numbers = [1, 2, 3, 4]; const sum = numbers.reduce((acc, curr) =\u0026gt; acc + curr, 0); console.log(sum); å®¹å™¨ å®¹å™¨æ˜¯è™šæ‹Ÿæœºçš„è½»é‡çº§æ›¿ä»£äº§å“ï¼Œæ˜“äºåˆ›å»ºå’Œç®¡ç†ã€‚ å®¹å™¨å°è£…äº†åº”ç”¨ç¨‹åºåŠå…¶æ‰€éœ€è¦çš„ä¾èµ–ï¼Œä½äºæ“ä½œç³»ç»Ÿçš„å†…æ ¸ä¹‹ä¸Šã€‚ä»åº”ç”¨ç¨‹åºçš„è§’åº¦æ¥çœ‹ï¼Œå®¹å™¨å°±æ˜¯è™šæ‹Ÿæœºï¼Œåªä¸è¿‡â€æ›´è½»â€œã€‚\nDocker Dockeræ˜¯æœ€ä»¤äººç†ŸçŸ¥çš„å®¹å™¨åŒ–æŠ€æœ¯ã€‚\nåœ¨Dockerä¸­ï¼Œå®¹å™¨ç”±é•œåƒåˆ›å»ºï¼Œé•œåƒç”±Dockerfileç¼–å†™\n# æ‹‰ä¸€ä¸ªUbentué•œåƒ $ docker pull ubuntu:latest # è¿è¡Œè¿™ä¸ªå®¹å™¨ $ docker run -it ubuntu:latest /bin/bash å†™ä¸€ä¸ªDockerfileï¼Œåˆ›å»ºdockeré•œåƒğŸ‘‡\n# æŒ‡å®šåŸºç¡€é•œåƒ FROM ubuntu : latest # åˆ›å»ºshellè„šæœ¬å¹¶å°†â€œecho Hello, World!â€å†™å…¥è„šæœ¬ RUN echo \u0026#34; echo Hello , World ! \u0026#34; \u0026gt; / hello - world . sh # ä¸ºæ–‡ä»¶æ·»åŠ æ‰§è¡Œæƒé™ RUN chmod + x / hello - world . sh # æŒ‡å®šå®¹å™¨å¯åŠ¨æ—¶é»˜è®¤æ‰§è¡Œçš„å‘½ä»¤ã€‚ CMD [ \u0026#34; / hello - world . sh \u0026#34; ] è¿è¡ŒDockerğŸ‘‡\n# Build the Docker image $ docker build -t hello - world . # Run the Docker container $ docker run hello - world å¸¸ç”¨Dockerå‘½ä»¤\n# æŸ¥çœ‹é•œåƒ docker images # æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ docker ps # æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬åœæ­¢çš„ docker ps -a # åœæ­¢å®¹å™¨ docker stop [containerId] # åˆ é™¤å®¹å™¨ docker rm [containerId] # åˆ é™¤é•œåƒ docker rmi ubentu:lastest imageï¼ˆé•œåƒï¼‰å’Œcontainerï¼ˆå®¹å™¨ï¼‰çš„åŒºåˆ« æœ€æ ¹æœ¬çš„åŒºåˆ«åœ¨äºå®ƒä»¬æ“ä½œçš„å¯¹è±¡ä¸åŒã€‚docker imageså…³æ³¨çš„æ˜¯Dockeré•œåƒï¼Œè¿™äº›é•œåƒæ˜¯å®¹å™¨çš„æ¨¡æ¿ã€‚è€Œdocker pså…³æ³¨çš„æ˜¯ç”±è¿™äº›é•œåƒåˆ›å»ºçš„å®¹å™¨çš„å®é™…è¿è¡ŒçŠ¶æ€\nDockerå’ŒLinux Kernel å…±äº«Kernelï¼šå®¹å™¨åˆ©ç”¨å®¿ä¸»æœºçš„å†…æ ¸ï¼Œå®ƒä»¬ä¸éœ€è¦åƒè™šæ‹Ÿæœºé‚£æ ·è™šæ‹ŸåŒ–ç¡¬ä»¶å’Œè¿è¡Œè‡ªå·±çš„æ“ä½œç³»ç»Ÿå†…æ ¸ã€‚è¿™æ„å‘³ç€å®¹å™¨éå¸¸è½»é‡ï¼Œå¯åŠ¨å¿«ï¼Œå ç”¨èµ„æºå°‘ã€‚ éš”ç¦»æ€§ï¼šå°½ç®¡å®¹å™¨å…±äº«å®¿ä¸»æœºçš„å†…æ ¸ï¼Œä½†å®ƒä»¬é€šè¿‡Linuxå†…æ ¸çš„ç‰¹æ€§å¦‚cgroupsï¼ˆæ§åˆ¶ç»„ï¼‰å’Œnamespacesï¼ˆå‘½åç©ºé—´ï¼‰æ¥å®ç°è¿›ç¨‹ã€ç½‘ç»œã€æ–‡ä»¶ç³»ç»Ÿç­‰æ–¹é¢çš„éš”ç¦»ã€‚è¿™ä½¿å¾—å®¹å™¨è¡¨ç°å¾—å°±åƒæ˜¯åœ¨ç‹¬ç«‹çš„ç¯å¢ƒä¸­è¿è¡Œä¸€æ ·ã€‚ Kernelä¾èµ–æ€§ï¼šå› ä¸ºå®¹å™¨ç›´æ¥ä¾èµ–äºå®¿ä¸»æœºçš„Linuxå†…æ ¸ï¼Œæ‰€ä»¥å®¹å™¨åŒ–çš„åº”ç”¨å¿…é¡»ä¸å®¿ä¸»æœºçš„å†…æ ¸å…¼å®¹ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¦‚æœä½ éœ€è¦ç‰¹å®šçš„å†…æ ¸ç‰¹æ€§æˆ–ç‰ˆæœ¬ï¼Œä½ çš„å®¿ä¸»æœºå¿…é¡»è¿è¡Œæ”¯æŒè¿™äº›ç‰¹æ€§çš„Linuxå†…æ ¸ã€‚ Linuxå†…æ ¸æ”¯æŒå®¹å™¨åŒ–ä¾èµ–ä»¥ä¸‹ä¸‰ä¸ªåŠŸèƒ½\nNamespaces å‘½åç©ºé—´èƒ½å¤Ÿéš”ç¦»å’Œåˆ†å‰²ç³»ç»Ÿèµ„æºï¼Œä½¿å¾—è¿›ç¨‹åªèƒ½çœ‹åˆ°è‡ªå·±å‘½åç©ºé—´å†…çš„èµ„æºã€‚Linuxæä¾›äº†å¤šç§ç±»å‹çš„å‘½åç©ºé—´ï¼Œæ¯ç§ç±»å‹éƒ½éš”ç¦»ä¸€ç»„ç‰¹å®šçš„ç³»ç»Ÿèµ„æºã€‚ä¾‹å¦‚ï¼ŒPIDï¼ˆè¿›ç¨‹IDï¼‰å‘½åç©ºé—´éš”ç¦»è¿›ç¨‹IDï¼Œä½¿å¾—ä¸åŒå‘½åç©ºé—´ä¸­çš„è¿›ç¨‹å¯ä»¥æœ‰ç›¸åŒçš„PIDï¼Œè€Œç½‘ç»œå‘½åç©ºé—´éš”ç¦»ç½‘ç»œæ¥å£å’Œè·¯ç”±è¡¨ï¼Œç­‰ç­‰ã€‚è¿™æ„å‘³ç€åœ¨ä¸€ä¸ªå®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹å¯ä»¥æœ‰è‡ªå·±çš„ç½‘ç»œæ¥å£å’ŒIPåœ°å€ï¼Œå°±å¥½åƒå®ƒåœ¨è‡ªå·±çš„è™šæ‹Ÿç½‘ç»œä¸­ä¸€æ ·ã€‚ Control groups æ§åˆ¶ç»„å…è®¸å¯¹è¿›ç¨‹ç¾¤ç»„è¿›è¡Œèµ„æºæ§åˆ¶ã€é™åˆ¶ã€åˆ†é…å’Œç›‘è§†ã€‚é€šè¿‡cgroupsï¼Œç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥æŒ‡å®šCPUã€å†…å­˜ã€ç£ç›˜I/Oç­‰èµ„æºçš„é™åˆ¶ï¼Œç¡®ä¿æŸä¸ªå®¹å™¨ä¸ä¼šä½¿ç”¨è¿‡å¤šçš„èµ„æºï¼Œä»è€Œå½±å“åˆ°ç³»ç»Ÿä¸Šå…¶ä»–çš„è¿›ç¨‹æˆ–å®¹å™¨ã€‚ Union File Systems è”åˆæ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒå¯ä»¥å°†å¤šä¸ªä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿâ€œå åŠ â€åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªç»Ÿä¸€çš„æ–‡ä»¶ç³»ç»Ÿè§†å›¾ã€‚è¿™æ„å‘³ç€å¯ä»¥å°†ä¸åŒçš„ç›®å½•å±‚æ¬¡ç»“æ„åˆå¹¶æˆä¸€ä¸ªç›®å½•è§†å›¾ï¼Œå¯¹äºå®¹å™¨è€Œè¨€ï¼Œè¿™ä½¿å¾—å¯ä»¥é€šè¿‡å åŠ ä¸åŒçš„å±‚ï¼ˆæ¯å±‚åŒ…å«æ–‡ä»¶çš„å˜åŒ–ï¼‰æ¥æ„å»ºå®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿã€‚Dockerä¸­çš„é•œåƒå’Œå®¹å™¨å±‚å°±æ˜¯ä½¿ç”¨è”åˆæ–‡ä»¶ç³»ç»ŸæŠ€æœ¯å®ç°çš„ã€‚è¿™ç§æ–¹å¼ä½¿å¾—å®¹å™¨é•œåƒå˜å¾—æ›´åŠ é«˜æ•ˆï¼Œå› ä¸ºå¤šä¸ªå®¹å™¨å¯ä»¥å…±äº«åŒä¸€ä¸ªåŸºç¡€é•œåƒçš„åªè¯»å±‚ï¼Œè€Œæ¯ä¸ªå®¹å™¨çš„å˜åŒ–éƒ½å­˜å‚¨åœ¨è‡ªå·±çš„å¯å†™å±‚ä¸­ã€‚ å®‰å…¨ Vulnerabilities and the Zero-Day Problem é›¶æ—¥é—®é¢˜ï¼ˆZero-day vulnerabilityï¼‰æŒ‡çš„æ˜¯ä¸€ç§å®‰å…¨æ¼æ´ï¼Œè¿™ç§æ¼æ´åœ¨è¢«å‘ç°åè¿˜æ²¡æœ‰å¾—åˆ°ä¿®å¤ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ¼æ´æ¥è¿›è¡Œæ”»å‡»ï¼Œè€Œä¸”è¢«æ”»å‡»çš„ç›®æ ‡å¹¶æ²¡æœ‰æå‰æ„è¯†åˆ°è¿™ä¸ªæ¼æ´çš„å­˜åœ¨ã€‚å› æ­¤ï¼Œæ”»å‡»è€…å¯ä»¥åœ¨æ¼æ´è¢«å…¬å¼€ä¹‹å‰åˆ©ç”¨å®ƒï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆç§°ä¹‹ä¸ºâ€œé›¶æ—¥â€ï¼Œå› ä¸ºæ¼æ´è¢«å‘ç°çš„é‚£ä¸€å¤©å°±è¢«åˆ©ç”¨äº†ã€‚\nä¸»æœºé˜²å¾¡ é€šå¸¸æ¥è®²ï¼Œæˆ‘ä»¬æ— æ³•é˜»æ­¢é›¶æ—¥æ”»å‡»ï¼Œä½†æ˜¯å¯ä»¥é™ä½é›¶æ—¥æ”»å‡»å¸¦æ¥çš„æŸå®³ï¼Œè¿™å°±æ¶‰åŠåˆ°ä¸»æœºé˜²å¾¡(host defences)ã€‚\næœ€å°æƒé™åŸåˆ™ The principle of least privilege (PoLP)ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ä»»ä½•ç”¨æˆ·ã€ç¨‹åºæˆ–ç³»ç»Ÿè¿›ç¨‹åœ¨æ‰§è¡ŒæŸé¡¹æ“ä½œæ—¶ï¼Œåº”è¯¥ä»…å…·æœ‰å®Œæˆè¯¥æ“ä½œæ‰€éœ€çš„æœ€ä½æƒé™æˆ–æœ€å°æƒé™é›†ã€‚æœ€å°æƒé™åŸåˆ™çš„ç›®çš„æ˜¯å‡å°‘å®‰å…¨é£é™©å¹¶æé«˜ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚å®ƒæœ‰åŠ©äºé˜²æ­¢æ¶æ„è½¯ä»¶æ‰©æ•£ï¼Œå‡å°‘ç³»ç»Ÿæ¼æ´çš„æ”»å‡»é¢ï¼Œå¹¶é™åˆ¶å¯¹æ•æ„Ÿæ•°æ®çš„è®¿é—®ï¼Œä»è€Œé™ä½æ•°æ®æ³„éœ²æˆ–æŸåçš„é£é™©ã€‚\næƒé™æå‡ æƒé™æå‡ï¼ˆPrivilege Escalationï¼‰æ˜¯æŒ‡åœ¨è®¡ç®—æœºå®‰å…¨é¢†åŸŸä¸­ï¼Œé€šè¿‡åˆ©ç”¨ç³»ç»Ÿä¸­çš„æ¼æ´ã€é…ç½®é”™è¯¯æˆ–è®¾è®¡ç¼ºé™·ï¼Œæœªæˆæƒçš„ç”¨æˆ·ã€ç¨‹åºæˆ–è¿›ç¨‹è·å¾—äº†æ¯”åŸæœ¬åˆ†é…ç»™å®ƒä»¬çš„æ›´é«˜çš„è®¿é—®æƒé™æˆ–åŠŸèƒ½çš„è¿‡ç¨‹ã€‚\nå‚ç›´æƒé™æå‡ å‚ç›´æƒé™æå‡ï¼Œä¹Ÿç§°ä¸ºææƒï¼Œå‘ç”Ÿåœ¨å½“ä½æƒé™ç”¨æˆ·æˆ–ç¨‹åºè·å–é«˜æƒé™çº§åˆ«ï¼ˆå¦‚ç®¡ç†å‘˜æˆ–rootæƒé™ï¼‰çš„èƒ½åŠ›æ—¶ã€‚è¿™ç§ç±»å‹çš„æƒé™æå‡å…è®¸æ”»å‡»è€…æ‰§è¡Œé€šå¸¸åªæœ‰ç³»ç»Ÿç®¡ç†å‘˜æ‰èƒ½æ‰§è¡Œçš„æ“ä½œï¼Œå¦‚è®¿é—®æ•æ„Ÿæ–‡ä»¶ã€ä¿®æ”¹ç³»ç»Ÿè®¾ç½®æˆ–å®‰è£…æ¶æ„è½¯ä»¶ã€‚ æ°´ç“¶æƒé™æå‡ æ°´å¹³æƒé™æå‡å‘ç”Ÿåœ¨å½“ç”¨æˆ·æˆ–ç¨‹åºä»ä¸€ä¸ªæ™®é€šè´¦æˆ·è·³è½¬åˆ°å¦ä¸€ä¸ªå…·æœ‰ç›¸åŒæƒé™çº§åˆ«çš„è´¦æˆ·æ—¶ã€‚è™½ç„¶æ”»å‡»è€…æ²¡æœ‰è·å–æ›´é«˜çš„æƒé™çº§åˆ«ï¼Œä½†ä»–ä»¬å¯èƒ½èƒ½å¤Ÿè®¿é—®ç‰¹å®šçš„ã€åŸæœ¬ä¸åº”è¯¥è®¿é—®çš„æ•°æ®æˆ–åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ™®é€šç”¨æˆ·é€šè¿‡æ°´å¹³æƒé™æå‡æˆä¸ºå¦ä¸€ä¸ªæ™®é€šç”¨æˆ·ï¼Œå¯èƒ½è®¿é—®åˆ°ç¬¬äºŒä¸ªç”¨æˆ·çš„ç§äººæ–‡ä»¶æˆ–æ•°æ®ã€‚ Sandboxes æ²™ç›’ï¼ˆSandboxï¼‰æ˜¯ä¸€ç§å®‰å…¨æŠ€æœ¯ï¼Œæ—¨åœ¨åœ¨ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒä¸­è¿è¡Œç¨‹åºæˆ–ä»£ç ï¼Œä»¥é˜²æ­¢è¯¥ç¨‹åºæˆ–ä»£ç å¯¹å®¿ä¸»ç³»ç»Ÿé€ æˆæ½œåœ¨çš„æŸå®³æˆ–ä¸å®‰å…¨çš„å½±å“ã€‚æ²™ç›’æä¾›äº†ä¸€ä¸ªä¸¥æ ¼æ§åˆ¶çš„æ‰§è¡Œç¯å¢ƒï¼Œå…¶ä¸­çš„åº”ç”¨ç¨‹åºå¯ä»¥æ‰§è¡Œï¼Œä½†åªèƒ½è®¿é—®æ˜ç¡®å…è®¸çš„èµ„æºå’Œæ“ä½œã€‚\næ²™ç›’çš„ç‰¹ç‚¹\néš”ç¦»æ€§ï¼šæ²™ç›’ç¯å¢ƒä¸å®¿ä¸»ç³»ç»ŸåŠå…¶ä»–æ²™ç›’ç¯å¢ƒéš”ç¦»ï¼Œä»¥é˜²æ­¢ç¨‹åºé—´çš„ç›¸äº’å½±å“å’Œå¯¹å®¿ä¸»ç³»ç»Ÿçš„æ½œåœ¨ç ´åã€‚ èµ„æºæ§åˆ¶ï¼šæ²™ç›’é™åˆ¶äº†è¿è¡Œåœ¨å…¶ä¸­çš„ç¨‹åºæ‰€èƒ½è®¿é—®çš„ç³»ç»Ÿèµ„æºï¼ˆå¦‚æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œã€ç³»ç»Ÿé…ç½®ç­‰ï¼‰ï¼Œå¹¶å¯ä»¥ç›‘æ§å’Œæ§åˆ¶å¯¹è¿™äº›èµ„æºçš„è®¿é—®ã€‚ æ“ä½œé™åˆ¶ï¼šæ²™ç›’é€šå¸¸é™åˆ¶ç¨‹åºæ‰§è¡Œçš„æ“ä½œç±»å‹ï¼Œæ¯”å¦‚ç¦æ­¢ä¿®æ”¹ç³»ç»Ÿè®¾ç½®æˆ–è®¿é—®æ•æ„Ÿæ•°æ®ã€‚ ç›‘æ§ä¸å®¡è®¡ï¼šæ²™ç›’ç¯å¢ƒå¯ä»¥ç›‘æ§ç¨‹åºçš„è¡Œä¸ºï¼Œè®°å½•ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œä¸ºå®‰å…¨åˆ†æå’Œå®¡è®¡æä¾›ä¾æ®ã€‚ è‡ªä¸»è®¿é—®æ§åˆ¶ Discretionary Access Control æ˜¯ä¸€ç§è®¿é—®æ§åˆ¶æ¨¡å‹ï¼Œå®ƒå…è®¸èµ„æºçš„æ‹¥æœ‰è€…æˆ–æ‹¥æœ‰è€…æˆæƒçš„ç”¨æˆ·æ§åˆ¶å¯¹èµ„æºçš„è®¿é—®ã€‚åœ¨DACæ¨¡å‹ä¸­ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„åˆ¤æ–­ï¼ˆå³â€œè‡ªä¸»â€åœ°ï¼‰å†³å®šè°å¯ä»¥è®¿é—®ç‰¹å®šçš„èµ„æºã€‚\nç‰¹ç‚¹\næ‰€æœ‰æƒå’Œæƒé™ï¼šåœ¨DACç³»ç»Ÿä¸­ï¼Œèµ„æºçš„è®¿é—®æƒé™é€šå¸¸åŸºäºèµ„æºçš„æ‰€æœ‰æƒã€‚æ‰€æœ‰è€…æœ‰æƒè®¾ç½®æˆ–æ›´æ”¹å¯¹å…¶èµ„æºçš„è®¿é—®æƒé™ã€‚ çµæ´»æ€§ï¼šDACæä¾›äº†è¾ƒé«˜çš„çµæ´»æ€§ï¼Œå…è®¸ç”¨æˆ·æ ¹æ®éœ€è¦åˆ†äº«å’Œé™åˆ¶èµ„æºçš„è®¿é—®ã€‚è¿™ç§æ¨¡å‹é€‚åˆéœ€è¦é¢‘ç¹æ›´æ”¹æƒé™è®¾ç½®çš„ç¯å¢ƒã€‚ ç”¨æˆ·æ§åˆ¶ï¼šç”¨æˆ·ï¼ˆæˆ–ç”¨æˆ·ç»„ï¼‰å¯ä»¥ç›´æ¥æ§åˆ¶å¯¹å…¶æ‹¥æœ‰çš„èµ„æºçš„è®¿é—®ï¼Œè€Œä¸æ˜¯ç”±ä¸­å¤®æ”¿ç­–æˆ–ç®¡ç†å‘˜å†³å®šã€‚ ä¸€äº›æŒ‡ä»¤ğŸ‘‡\n# æŸ¥çœ‹æ–‡ä»¶æƒé™ $ ls -l filename # æ›´æ”¹æ–‡ä»¶æƒé™ï¼ŒæŠŠæ–‡ä»¶æ”¹æˆå¯è¯»å¯å†™å¯æ‰§è¡Œ $ chmod 755 filename # root useræ‰§è¡Œï¼Œç»™ç®¡ç†å‘˜æƒé™ $ sudo chmod 755 filename åœ¨Linuxä¸­ï¼Œæ–‡ä»¶æƒé™ç”±ä¸‰ä½æ•°ç»„æˆï¼Œå¯è¯»æ˜¯4ï¼Œå¯å†™æ˜¯2ï¼Œå¯æ‰§è¡Œæ˜¯1ã€‚æ‰€ä»¥755æ„æ€\n7: (r+w+x) æœ‰å¯è¯»å¯å†™å¯æ‰§è¡Œçš„æƒé™ã€‚ 5: (r+x) å½“å‰åˆ†ç»„æœ‰å¯è¯»+å¯æ‰§è¡Œçš„æƒé™ï¼Œä½†æ²¡æœ‰å¯å†™çš„æƒé™ã€‚ 5: (r+x) å…¶ä»–äººä¹Ÿæœ‰å¯è¯»+å¯æ‰§è¡Œçš„æƒé™ï¼Œä½†æ²¡æœ‰å¯å†™çš„æƒé™ã€‚ å¼ºè®¿é—®æ§åˆ¶ Mandatory Access Control (MAC)ã€‚å®ƒæ ¹æ®ä¸­å¤®æƒå¨çš„å†³ç­–è€Œä¸æ˜¯ç”¨æˆ·çš„è‡ªä¸»å†³å®šæ¥é™åˆ¶å¯¹ç³»ç»Ÿèµ„æºçš„è®¿é—®ã€‚ä¸è‡ªä¸»è®¿é—®æ§åˆ¶ï¼ˆDiscretionary Access Controlï¼ŒDACï¼‰ç›¸æ¯”ï¼ŒMACæä¾›äº†æ›´ä¸ºä¸¥æ ¼å’Œè¯¦ç»†çš„æ§åˆ¶ï¼Œç¡®ä¿åªæœ‰æˆæƒç”¨æˆ·æ‰èƒ½è®¿é—®ç‰¹å®šçš„ä¿¡æ¯æˆ–èµ„æºã€‚\nç‰¹ç‚¹\nä¸­å¤®ç®¡ç†ï¼šåœ¨MACç­–ç•¥ä¸­ï¼Œè®¿é—®æ§åˆ¶ç­–ç•¥ç”±ç³»ç»Ÿç®¡ç†ï¼Œè€Œä¸æ˜¯ç”±èµ„æºçš„æ‰€æœ‰è€…æˆ–ç”¨æˆ·è®¾ç½®ã€‚è¿™æ„å‘³ç€ç”¨æˆ·ä¸èƒ½æ›´æ”¹ä»–ä»¬ä¸æ‹¥æœ‰çš„æ–‡ä»¶æˆ–èµ„æºçš„è®¿é—®æ§åˆ¶è®¾ç½®ã€‚ å®‰å…¨æ ‡ç­¾ï¼šMACç³»ç»Ÿä½¿ç”¨å®‰å…¨æ ‡ç­¾æ¥æ ‡è¯†ä¸»ä½“ï¼ˆå¦‚ç”¨æˆ·æˆ–è¿›ç¨‹ï¼‰å’Œå®¢ä½“ï¼ˆå¦‚æ–‡ä»¶ã€ç›®å½•æˆ–è®¾å¤‡ï¼‰ã€‚è¿™äº›æ ‡ç­¾åŒ…å«äº†å®‰å…¨çº§åˆ«æˆ–åˆ†ç±»ä¿¡æ¯ï¼Œå¦‚æœºå¯†ã€ç§˜å¯†ç­‰ã€‚ è®¿é—®å†³ç­–ï¼šè®¿é—®æ§åˆ¶å†³ç­–åŸºäºæ¯”è¾ƒä¸»ä½“çš„å®‰å…¨çº§åˆ«ä¸å®¢ä½“çš„å®‰å…¨çº§åˆ«ã€‚åªæœ‰å½“ä¸»ä½“çš„å®‰å…¨çº§åˆ«è¶³ä»¥è®¿é—®å®¢ä½“æ—¶ï¼Œè®¿é—®æ‰ä¼šè¢«å…è®¸ã€‚ ç­–ç•¥å¼ºåˆ¶æ‰§è¡Œï¼šMACå¼ºåˆ¶æ‰§è¡Œé¢„å®šä¹‰çš„å®‰å…¨ç­–ç•¥ï¼Œè¿™äº›ç­–ç•¥æ—¨åœ¨ä¿æŠ¤ä¿¡æ¯ä¸è¢«æœªæˆæƒçš„è®¿é—®ã€æ³„éœ²æˆ–ç¯¡æ”¹ã€‚ åœ¨Red Hat Enterprise Linux, SELinuxä½œä¸ºè§£å†³æ–¹æ¡ˆå®ç°MACã€‚\nSELinux è¿™æ˜¯ä¸€ä¸ªåœ¨Linuxå†…æ ¸ä¸­å®ç°çš„å®‰å…¨æ¡†æ¶\nSELinuxæœ‰ä¸‰ç§æ‰§è¡Œæ¨¡å¼\nenforcing è¿™æ˜¯SELinuxçš„é»˜è®¤æ¨¡å¼ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒSELinuxä¼šå¼ºåˆ¶æ‰§è¡Œå…¶å®‰å…¨ç­–ç•¥ï¼Œé™åˆ¶è¿›ç¨‹è®¿é—®èµ„æºã€‚å¦‚æœä¸€ä¸ªè¿›ç¨‹å°è¯•æ‰§è¡Œä¸€ä¸ªä¸è¢«å…è®¸çš„æ“ä½œï¼ŒSELinuxä¼šé˜»æ­¢è¿™ä¸ªæ“ä½œå¹¶è®°å½•ç›¸åº”çš„è¿è§„ä¿¡æ¯ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœSELinuxçš„ç­–ç•¥ä¸å…è®¸æŸä¸ªæ“ä½œï¼Œé‚£ä¹ˆè¿™ä¸ªæ“ä½œå°±ä¸èƒ½è¢«æ‰§è¡Œï¼Œæ— è®ºæ‰§è¡Œå®ƒçš„ç”¨æˆ·æˆ–è¿›ç¨‹æœ‰å¤šé«˜çš„æƒé™ã€‚ permissive åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒSELinuxåŒæ ·ä¼šæ£€æŸ¥æ‰€æœ‰çš„æ“ä½œï¼Œåˆ¤æ–­å®ƒä»¬æ˜¯å¦è¿åäº†å®‰å…¨ç­–ç•¥ï¼Œä½†å®ƒä¸ä¼šå®é™…é˜»æ­¢ä»»ä½•æ“ä½œã€‚ç›¸åï¼Œå®ƒä¼šè®°å½•æ‰€æœ‰è¢«æ£€æµ‹åˆ°çš„è¿è§„è¡Œä¸ºï¼Œå°±åƒåœ¨å¼ºåˆ¶æ¨¡å¼ä¸‹é‚£æ ·ã€‚è¿™ä¸ªæ¨¡å¼å¯¹äºè°ƒè¯•SELinuxç­–ç•¥éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸ç®¡ç†å‘˜çœ‹åˆ°å“ªäº›æ“ä½œä¼šè¢«é˜»æ­¢ï¼Œè€Œä¸éœ€è¦å®é™…ä¸Šé˜»æ­¢è¿™äº›æ“ä½œï¼Œè¿™æ ·å¯ä»¥åœ¨ä¸å½±å“ç³»ç»Ÿæ­£å¸¸è¿è¡Œçš„æƒ…å†µä¸‹æµ‹è¯•å’Œä¿®æ”¹ç­–ç•¥ã€‚ disabled åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒSELinuxè¢«å®Œå…¨ç¦ç”¨ï¼Œä¸ä¼šæ£€æŸ¥æˆ–é™åˆ¶ä»»ä½•æ“ä½œã€‚è¿™æ„å‘³ç€ç³»ç»Ÿçš„å®‰å…¨å°†å®Œå…¨ä¾èµ–äºä¼ ç»Ÿçš„ç¦»æ•£è®¿é—®æ§åˆ¶ï¼ˆDACï¼‰æœºåˆ¶ï¼Œå¦‚æ–‡ä»¶æƒé™ç­‰ã€‚ç¦ç”¨SELinuxæ¨¡å¼é€šå¸¸ä¸æ¨èï¼Œå› ä¸ºè¿™ä¼šé™ä½ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚ç„¶è€Œï¼Œåœ¨æŸäº›ç‰¹å®šåœºåˆï¼Œæ¯”å¦‚å…¼å®¹æ€§æµ‹è¯•æˆ–è€…åœ¨ç³»ç»Ÿä¸Šè¿è¡Œä¸å…¼å®¹SELinuxçš„è½¯ä»¶æ—¶ï¼Œå¯èƒ½éœ€è¦æš‚æ—¶ç¦ç”¨SELinuxã€‚ Labelling in SELinux\nåœ¨SELinuxï¼ˆSecurity-Enhanced Linuxï¼‰ä¸­ï¼Œæ ‡ç­¾ï¼ˆLabelingï¼‰æ˜¯å®ç°å…¶å®‰å…¨ç­–ç•¥çš„æ ¸å¿ƒæœºåˆ¶ä¹‹ä¸€ã€‚SELinuxé€šè¿‡ä¸ºç³»ç»Ÿä¸­çš„æ¯ä¸ªå¯¹è±¡ï¼ˆå¦‚æ–‡ä»¶ã€è¿›ç¨‹ã€ç”¨æˆ·ç­‰ï¼‰å’Œä¸»ä½“ï¼ˆé€šå¸¸æŒ‡ç”¨æˆ·æˆ–è¿›ç¨‹ï¼‰åˆ†é…å®‰å…¨æ ‡ç­¾æ¥å·¥ä½œã€‚è¿™äº›æ ‡ç­¾ç”¨äºå®šä¹‰å’Œæ§åˆ¶ä¸»ä½“å¯¹å¯¹è±¡çš„è®¿é—®æƒé™ï¼Œä¾æ®çš„æ˜¯å®šä¹‰åœ¨SELinuxç­–ç•¥ä¸­çš„è§„åˆ™ã€‚\nä½œç”¨ï¼šSELinuxé€šè¿‡åŒ¹é…ä¸»ä½“çš„æ ‡ç­¾ä¸å¯¹è±¡çš„æ ‡ç­¾æ¥å†³å®šæ˜¯å¦å…è®¸æŸä¸ªè®¿é—®è¯·æ±‚ã€‚è¿™ç§åŸºäºæ ‡ç­¾çš„è®¿é—®æ§åˆ¶æœºåˆ¶å…è®¸SELinuxå®ç°å¼ºåˆ¶è®¿é—®æ§åˆ¶ï¼ˆMACï¼‰ï¼Œå³ä½¿åœ¨ä¸»ä½“æ‹¥æœ‰è¶³å¤ŸLinuxä¼ ç»Ÿæƒé™ï¼ˆå¦‚rootï¼‰çš„æƒ…å†µä¸‹ï¼Œä¹Ÿèƒ½é™åˆ¶å¯¹æ•æ„Ÿèµ„æºçš„è®¿é—®ã€‚\nSELinuxçš„å®‰å…¨æ ‡ç­¾é€šå¸¸ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ç»„æˆï¼š\nç”¨æˆ·ï¼ˆUserï¼‰ï¼šä¸åŒäºLinuxç³»ç»Ÿçš„ç”¨æˆ·ï¼ŒSELinuxç”¨æˆ·ä»£è¡¨çš„æ˜¯å®‰å…¨ç­–ç•¥ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œç”¨äºæ§åˆ¶è®¿é—®æƒé™ã€‚å®ƒå®šä¹‰äº†ä¸€ç»„å¯ä»¥æ‰§è¡Œçš„è§’è‰²ã€‚ è§’è‰²ï¼ˆRoleï¼‰ï¼šè§’è‰²ç”¨äºå°†æƒé™é›†åˆä¸SELinuxç”¨æˆ·å’Œç±»å‹å…³è”èµ·æ¥ã€‚è¿›ç¨‹å¿…é¡»æ‹¥æœ‰å¯¹åº”çš„è§’è‰²æ‰èƒ½è®¿é—®æŸäº›ç±»å‹çš„å¯¹è±¡ã€‚ ç±»å‹ï¼ˆTypeï¼‰ï¼šä¹Ÿç§°ä¸ºåŸŸï¼ˆDomainï¼‰å¯¹äºè¿›ç¨‹è€Œè¨€ã€‚ç±»å‹æ˜¯SELinuxä¸­æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œå®ƒä¸ºå¯¹è±¡å’Œä¸»ä½“å®šä¹‰äº†å…·ä½“çš„å®‰å…¨ç­–ç•¥ã€‚é€šè¿‡ç±»å‹ï¼ŒSELinuxç­–ç•¥å¯ä»¥éå¸¸ç»†è‡´åœ°æ§åˆ¶å“ªäº›ä¸»ä½“å¯ä»¥è®¿é—®å“ªäº›å¯¹è±¡ã€‚ æ•æ„Ÿåº¦ï¼ˆSensitivityï¼‰/æ¸…æ™°åº¦ï¼ˆClearanceï¼‰ï¼šè¿™äº›æ˜¯ç”¨äºå¤šçº§å®‰å…¨ï¼ˆMLSï¼‰ç­–ç•¥çš„å¯é€‰éƒ¨åˆ†ï¼Œå®ƒä»¬å®šä¹‰äº†æ•°æ®çš„æ•æ„Ÿåº¦çº§åˆ«å’Œä¸»ä½“çš„è®¿é—®çº§åˆ«ã€‚ Tutorial for SELinux SELinuxæ ‡ç­¾åœ¨æ–‡ä»¶ç®¡ç†ç³»ç»Ÿä¸­çš„ä½œç”¨ Every process has a lable, and every file/directory object in the operating system has a label Network ports, devices, and potentially host names also have labels assigned to them Rules are written to control the access of a process label to an object lable The kernel enforces these rules What is the purpose of ls -Z General information about the file, such as permission, owner, size, and modification time. SELinux security context for each file and directory. chcon -t https_sys_content_t /var/www/html/index.html -tæ ‡ç­¾çš„ä½œç”¨å’Œchconçš„ä½œç”¨ chcon is a command to change the security context. like \u0026ldquo;change context\u0026rdquo; -t indicates the type, in this case, the SELinux type is https_sys_content_t SELinuxä¸­enforcingå’Œpermissiveæ¨¡å‹çš„åŒºåˆ« In enforcing mode, SELinux policies are enforced and access violations are logged. In permissive mode, SELinux policies are not enforced but access violations are logged. æ€ä¹ˆæŸ¥çœ‹SELinuxå¸ƒå°”è¿ç®—çš„çŠ¶æ€(ä»¥httpd_can_network_connectä¸ºä¾‹) $ getsebool httpd_can_network_connect $ setsebool httpd_can_network_connect on // æš‚æ—¶æ›´æ”¹ï¼Œé‡å¯åä¸ä¿æŒè¿æ¥ $ setsebool -P httpd_can_network_connect on // Pæ˜¯permanentï¼Œé‡å¯åä¾ç„¶ä¿æŒè¿æ¥ audit2allowæŒ‡ä»¤çš„ä½œç”¨ï¼Œæ€ä¹ˆç”¨å®ƒæ’é™¤è¿åSELinuxç­–ç•¥çš„æ•…éšœ Used to analyse permission issues caused by SELinux. It mainly reads policy violations from SELinux\u0026rsquo;s audit logs and then generates policy rules that allow these behaviours. audit2allow -w -aReads audit logs and generates comprehensible descriptions explaining why certain operations were denied. How do you set selinux to permissive mode for a specific daemon, such as httpd, without affecting the global SELinux mode? ç¡®è®¤daemonçš„ SELinux ç±»å‹ï¼Œps -eZ | grep httpd è®¾å®šdaemonä¸ºpermissiveæ¨¡å¼ï¼Œsudo semanage permissive -a httpd_t éªŒè¯è®¾ç½®ï¼Œsemanage permissive -l é€šè¿‡ä»¥ä¸Šæ­¥éª¤å°±å¯ä»¥å•ç‹¬ä¸º httpd å®ˆæŠ¤è¿›ç¨‹è®¾ç½® SELinux ä¸º permissive æ¨¡å¼ï¼Œè€Œä¸æ”¹å˜ç³»ç»Ÿçš„å…¨å±€ SELinux çŠ¶æ€ã€‚ How do you undo this change è¦æ’¤é”€ä¹‹å‰å°†ç‰¹å®šå®ˆæŠ¤è¿›ç¨‹å¦‚ httpd è®¾ä¸º permissive æ¨¡å¼çš„æ›´æ”¹ï¼Œæ‚¨éœ€è¦å°†å®ƒä» permissive ç±»å‹åˆ—è¡¨ä¸­ç§»é™¤ï¼Œä½¿å…¶é‡æ–°å—åˆ° enforcing æ¨¡å¼çš„æ§åˆ¶ã€‚ ç§»é™¤å®ˆæŠ¤è¿›ç¨‹çš„ permissive ç±»å‹è®¾ç½®ï¼Œsudo semanage permissive -d httpd_t éªŒè¯æ˜¯å¦ç§»é™¤æˆåŠŸï¼Œsemanage permissive -l é‡å¯å®ˆæŠ¤è¿›ç¨‹sudo systemctl restart httpd IPv4åœ°å€æ˜¯192.168.100.14ï¼Œç½‘ç»œæ©ç æ˜¯255.255.255.0ï¼Œæ€ä¹ˆè®¡ç®—network address æŠŠIPv4å’Œç½‘ç»œæ©ç éƒ½è½¬æˆäºŒè¿›åˆ¶ï¼Œandæ“ä½œï¼Œå¾—å‡ºçš„ç»“æœå†è½¬å›åè¿›åˆ¶ï¼Œå¾—å‡ºçš„ç»“æœå°±æ˜¯network address è¿™é‡Œè®¡ç®—å¥½çš„network addressæ˜¯192.168.100.0 ä¸Šé¢æåˆ°çš„è¿™ä¸ªç½‘ç»œèƒ½æ”¯æŒå¤šå°‘ä¸ªä¸»æœºï¼Ÿ æ ¹æ®ç½‘ç»œæ©ç ï¼Œæœ€åä¸€ä¸ªå…«ä½ç»„æ˜¯ä¸ºä¸»æœºåˆ†é…çš„ï¼Œå…¶ä¸­æœ‰8ä¸ª0ï¼Œå¯é…ç½®ä¸»æœºæ•°å°±æ˜¯256ä¸ªï¼Œä½†æ˜¯è¦å‡å»ä¸€ä¸ªç½‘ç»œåœ°å€(192.168.100.0)å’Œä¸€ä¸ªå¹¿æ’­åœ°å€(192.168.100.255)ï¼Œå¯é…ç½®ä¸»æœºæ•°å°±æ˜¯254ä¸ª Ansible Inventory file ä½¿ç”¨Ansibleä¹‹å‰ï¼ŒInventory æ–‡ä»¶æ˜¯ä¸€ä¸ªå®šä¹‰äº†å¯è¢« Ansible ç®¡ç†çš„æ‰€æœ‰ä¸»æœºåŠå…¶ç»„çš„å…³é”®ç»„ä»¶ã€‚è¿™äº›æ–‡ä»¶å¯ä»¥æ˜¯é™æ€çš„æˆ–åŠ¨æ€çš„ï¼Œå…è®¸ Ansible çŸ¥é“å®ƒå¯ä»¥è¿æ¥å“ªäº›æœåŠ¡å™¨ï¼Œä»¥åŠè¿™äº›æœåŠ¡å™¨å¦‚ä½•ç»„ç»‡ã€‚\nleafs: hosts: leaf01: ansible_host: 10.16.10.11 leaf02: ansible_host: 10.16.10.12 spines: hosts: spine01: ansible_host: 10.16.10.13 spine02: ansible_host: 10.16.10.14 æœ‰äº†inventory fileä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ansibleå‘½ä»¤è¡Œå·¥å…·åœ¨ä¸»æœºä¸Šè¿è¡Œinventoryä¸­çš„æŒ‡ä»¤ï¼Œä¾‹å¦‚ä½¿ç”¨pingæ£€æŸ¥inventoryä¸­æ‰€æœ‰ä¸»æœºçš„è¿æ¥ã€‚\nansible -i hosts.ini local -m ping Playbook Playbookèƒ½æè¿°æ¯”å‘½ä»¤è¡Œæ›´å¤æ‚çš„é…ç½®ï¼Œä¾‹å¦‚ï¼š\n--- - name: Ping all hosts hosts: all tasks: - name: Check connectivity ping: loop: \u0026#34;{{ range(1, 4) | list }}\u0026#34; loop_control: label: \u0026#34;Ping number {{ item }}\u0026#34; Playbookçš„ç»“æ„ Playbookç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆ\nPlays: è¿è¡Œä»»åŠ¡çš„åŸºæœ¬å•å…ƒã€‚æ¯ä¸ª Play æŒ‡å®šäº†ç›®æ ‡ä¸»æœºã€éœ€è¦æ‰§è¡Œçš„ Tasksï¼Œä»¥åŠå¯èƒ½çš„ä¸€äº›å˜é‡è®¾ç½®ã€‚ä¸€ä¸ª Playbook å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª Playï¼Œæ¯ä¸ª Play ä¸ºä¸åŒçš„ä¸»æœºæˆ–ä¸»æœºç»„å®šä¹‰æ“ä½œã€‚ Tasks: æ˜¯ Play ä¸­æ‰§è¡Œçš„å…·ä½“æ“ä½œã€‚æ¯ä¸ª Task é€šå¸¸è°ƒç”¨ä¸€ä¸ª Ansible Moduleï¼Œç”¨äºæ‰§è¡Œç‰¹å®šçš„æ“ä½œï¼Œå¦‚å®‰è£…åŒ…ã€ç¼–è¾‘æ–‡ä»¶æˆ–åŒæ­¥ç›®å½•ç­‰ã€‚ Modules: æ˜¯ Ansible çš„åŠŸèƒ½å•å…ƒï¼Œå®ƒä»¬å¯ä»¥ç‹¬ç«‹æ‰§è¡Œæˆ–ç”± Task è°ƒç”¨ã€‚æ¯ä¸ª Module è®¾è®¡ä¸ºå¤„ç†ç‰¹å®šçš„ä»»åŠ¡ï¼Œå¦‚ç®¡ç†ç³»ç»ŸåŒ…ï¼ˆyum, aptï¼‰ã€æ“ä½œæ–‡ä»¶ç³»ç»Ÿï¼ˆfile, copyï¼‰ç­‰ã€‚ Become: æ˜¯ä¸€ç§æƒé™æå‡æœºåˆ¶ï¼Œå…è®¸ç”¨æˆ·ä»»åŠ¡åœ¨ç›®æ ‡ä¸»æœºä¸Šä»¥å…¶ä»–ç”¨æˆ·çš„æƒé™æ‰§è¡Œã€‚è¿™åœ¨éœ€è¦æ‰§è¡Œç®¡ç†å‘˜æƒé™çš„æ“ä½œæ—¶éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ become: yes å¯ä»¥ä½¿ä»»åŠ¡ä»¥ root ç”¨æˆ·æ‰§è¡Œã€‚ When: ä¸€ç§æ¡ä»¶è¯­å¥ï¼Œç”¨äºæ§åˆ¶ Tasks çš„æ‰§è¡Œã€‚åªæœ‰å½“æŒ‡å®šçš„æ¡ä»¶æ»¡è¶³æ—¶ï¼Œç›¸å…³çš„ Task æ‰ä¼šæ‰§è¡Œã€‚ Register: Registerç”¨äºæ•è· Task çš„è¾“å‡ºå¹¶å°†å…¶å­˜å‚¨åˆ°ä¸€ä¸ªå˜é‡ä¸­ã€‚ Loops: å…è®¸åœ¨ Playbook ä¸­é‡å¤æ‰§è¡Œä¸€ä¸ª Task å¤šæ¬¡ï¼Œæ¯æ¬¡å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ•°æ®ã€‚è¿™å¯¹äºæ‰§è¡Œæ‰¹é‡æ“ä½œï¼ˆå¦‚åˆ›å»ºå¤šä¸ªç”¨æˆ·ã€å®‰è£…å¤šä¸ªè½¯ä»¶åŒ…ç­‰ï¼‰éå¸¸æœ‰ç”¨ã€‚ Anything as a service äº‘æœåŠ¡å•†æä¾›å¯¹äº‘çš„ä¸‰çº§è®¿é—®\nInfrastructure as a Service(IaaS): IaaS æ˜¯ä¸€ç§æä¾›è™šæ‹ŸåŒ–çš„è®¡ç®—èµ„æºä½œä¸ºæœåŠ¡çš„æ¨¡å‹ã€‚å®¢æˆ·åœ¨ IaaS ç¯å¢ƒä¸­ç§Ÿç”¨ IT åŸºç¡€è®¾æ–½ï¼Œå¦‚æœåŠ¡å™¨ã€è™šæ‹Ÿæœºï¼ˆVMsï¼‰ã€å­˜å‚¨ã€ç½‘ç»œå’Œæ“ä½œç³»ç»Ÿï¼Œæ¥è‡ªä¸€ä¸ªäº‘æä¾›å•†ã€‚è¿™ç§æœåŠ¡æ¨¡å¼å…è®¸ç”¨æˆ·é€šè¿‡äº’è”ç½‘è¿œç¨‹è®¿é—®è¿™äº›èµ„æºï¼Œè€Œæ— éœ€è´­ä¹°å’Œç»´æŠ¤ç‰©ç†æœåŠ¡å™¨ã€‚ Platform as a Service(PaaS): PaaS æä¾›äº†é™¤äº†åº•å±‚åŸºç¡€è®¾æ–½ä¹‹å¤–ï¼Œè¿˜åŒ…æ‹¬äº†è½¯ä»¶å¼€å‘å·¥å…·ã€åº“ã€æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå’Œæ›´å¤šå¼€å‘è€…å·¥å…·çš„é›†åˆã€‚ç”¨æˆ·å¯ä»¥åœ¨è¿™ä¸ªå¹³å°ä¸Šæ„å»ºã€éƒ¨ç½²å’Œç®¡ç†åº”ç”¨ï¼Œæ— éœ€å…³å¿ƒæ“ä½œç³»ç»Ÿã€è½¯ä»¶æ›´æ–°ã€å­˜å‚¨æˆ–åŸºç¡€è®¾æ–½ã€‚ Software as a Service(SaaS): SaaS æ˜¯ä¸€ç§è½¯ä»¶åˆ†å‘æ¨¡å‹ï¼Œå…¶ä¸­åº”ç”¨è½¯ä»¶è¢«æ‰˜ç®¡åœ¨äº‘ä¸­ï¼Œå¹¶é€šè¿‡äº’è”ç½‘å‘æœ€ç»ˆç”¨æˆ·æä¾›ã€‚ç”¨æˆ·ä¸éœ€è¦å®‰è£…ä»»ä½•è½¯ä»¶ï¼Œåªéœ€é€šè¿‡ç½‘ç»œè®¿é—®è¿™äº›åº”ç”¨ã€‚SaaS æä¾›å•†é€šå¸¸ä¼šæä¾›åº”ç”¨çš„ç»´æŠ¤ã€æ”¯æŒã€å®‰å…¨å’Œæ€§èƒ½æ›´æ–°ã€‚ Everything as Code Infrastructure as Code(IaC): é€šè¿‡ä»£ç æ¥ç®¡ç†å’Œé…ç½®åŸºç¡€è®¾æ–½ï¼ˆå¦‚æœåŠ¡å™¨ã€ç½‘ç»œã€è™šæ‹Ÿæœºç­‰ï¼‰ï¼Œä½¿ç”¨è„šæœ¬æˆ–å£°æ˜æ€§æ–‡ä»¶å®šä¹‰åŸºç¡€è®¾æ–½ï¼Œä»¥ä¾¿å¯ä»¥è‡ªåŠ¨åˆ›å»ºã€éƒ¨ç½²å’Œç®¡ç†åŸºç¡€è®¾æ–½èµ„æºã€‚ Configuration as Code(CaC): ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬æˆ–é…ç½®ç®¡ç†å·¥å…·ï¼ˆå¦‚ Ansibleã€Chefã€Puppetï¼‰æ¥ç®¡ç†å’Œéƒ¨ç½²è½¯ä»¶é…ç½®ã€‚è¿™æ ·åšå¯ä»¥ç¡®ä¿ç³»ç»Ÿé…ç½®çš„ä¸€è‡´æ€§å’Œå¯é‡å¤æ€§ã€‚ Ansible Variables Networking Protocol Stacks åè®®æ˜¯ä¸€ç»„è§„åˆ™å’Œæ ‡å‡†ï¼Œç”¨äºå®šä¹‰æ•°æ®åœ¨ç½‘ç»œä¸­çš„ä¼ è¾“æ–¹å¼ã€‚è¿™äº›è§„åˆ™åŒ…æ‹¬æ•°æ®å¦‚ä½•è¢«æ ¼å¼åŒ–ã€ä¼ è¾“ã€æ¥æ”¶ï¼Œä»¥åŠå¦‚ä½•å¯¹é”™è¯¯è¿›è¡Œå“åº”ã€‚\nç½‘ç»œåè®®æ ˆï¼Œæ˜¯ä¸€ç»„å·¥ä½œåœ¨ä¸åŒå±‚æ¬¡ä¸Šçš„ç½‘ç»œåè®®çš„é›†åˆã€‚æ¯ä¸€å±‚éƒ½æ‰¿æ‹…ç‰¹å®šçš„ç½‘ç»œé€šä¿¡å­ä»»åŠ¡ï¼Œé€šè¿‡å±‚ä¸å±‚ä¹‹é—´å®šä¹‰è‰¯å¥½çš„æ¥å£ç›¸äº’ä½œç”¨ã€‚æ•°æ®åœ¨ä¸€ä¸ªå±‚å¤„ç†åï¼Œä¼šä¼ é€’åˆ°å¦ä¸€ä¸ªå±‚è¿›ä¸€æ­¥å¤„ç†ï¼Œç›´åˆ°å‘é€åˆ°ç½‘ç»œä¸Šï¼Œæ¥æ”¶æ–¹åˆ™æŒ‰ç›¸åé¡ºåºå¤„ç†æ•°æ®ã€‚\nä¸¤ä¸ªä¸»è¦çš„åè®®æ ˆï¼šOSIå’ŒTCP/IPTCP/IP\nOSIæ¨¡å‹ OSIæ¨¡å‹æœ‰7å±‚\nLayer 7: åº”ç”¨å±‚(Application)ï¼Œä¸ºåº”ç”¨è½¯ä»¶æä¾›ç½‘ç»œæœåŠ¡ï¼Œå¦‚ HTTPã€FTPã€‚ Layer 6: è¡¨ç¤ºå±‚(Presentation)ï¼Œæ•°æ®çš„ç¿»è¯‘ã€åŠ å¯†å’Œå‹ç¼©ã€‚ Layer 5: ä¼šè¯å±‚(Session)ï¼Œç®¡ç†ç”¨æˆ·ä¼šè¯å’Œå¯¹è¯ï¼Œä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´ä»¥å¤šæ¬¡æ¥å›ä¼ è¾“çš„å½¢å¼æŒç»­äº¤æ¢ä¿¡æ¯ã€‚ Layer 4: ä¼ è¾“å±‚(Transport)ï¼Œæä¾›ç«¯åˆ°ç«¯çš„é€šä¿¡æœåŠ¡ï¼Œå¦‚ TCP æˆ– UDPã€‚ Layer 3: ç½‘ç»œå±‚(Network)ï¼Œå¤„ç†æ•°æ®åŒ…çš„è·¯ç”±å’Œè½¬å‘ã€‚æ„å»ºå’Œç®¡ç†å¤šèŠ‚ç‚¹ç½‘ç»œã€‚ Layer 2: æ•°æ®é“¾è·¯å±‚(Data Link)ï¼Œå¤„ç†å¸§çš„ä¼ è¾“ï¼Œé”™è¯¯æ£€æµ‹å’Œçº æ­£ã€‚ Layer 1: ç‰©ç†å±‚(Physical)ï¼Œå¤„ç†åŸå§‹çš„æ¯”ç‰¹æµä¼ è¾“ã€‚ TCP/IPæ ˆ ç®€åŒ–äº†OSIæ¨¡å‹\nLayer 4: åº”ç”¨å±‚(Application)ï¼ŒåŒ…å« OSI çš„ä¼šè¯å±‚ã€è¡¨ç¤ºå±‚å’Œåº”ç”¨å±‚çš„åŠŸèƒ½ï¼Œå¤„ç†æ‰€æœ‰é«˜çº§çš„åº”ç”¨åè®®ã€‚ Layer 3: ä¼ è¾“å±‚(Transport)ï¼Œè´Ÿè´£æä¾›ç«¯åˆ°ç«¯çš„é€šä¿¡ï¼Œä¸»è¦ä½¿ç”¨ TCP å’Œ UDPã€‚ Layer 2: äº’è”ç½‘å±‚(Internet)ï¼Œç›¸å½“äº OSI çš„ç½‘ç»œå±‚ï¼Œä¸»è¦ä½¿ç”¨ IP åè®®ã€‚ Layer 1: ç½‘ç»œæ¥å£å±‚(Physical)ï¼Œç­‰åŒäº OSI çš„ç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚ï¼Œå¤„ç†ä¸ç‰©ç†ç½‘ç»œçš„æ¥å£ã€‚ Protocols ä¸¤ä¸ªè¦é€šä¿¡çš„è®¡ç®—æœºå¦‚ä½•æ‰¾åˆ°å½¼æ­¤ï¼Ÿ\né¦–å…ˆä»‹ç»3ç§åœ°å€\nDomain name: https://google.com IP Address: 101.103.101.103 MAC Address: åˆ†é…ç»™ç½‘ç»œæ¥å£æ§åˆ¶å™¨(Network Interface Controller)çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚å®ƒåœ¨ OSI æ¨¡å‹çš„æ•°æ®é“¾è·¯å±‚ï¼ˆç¬¬ 2 å±‚ï¼‰è¿è¡Œï¼Œå…è®¸ç½‘å¡ç›¸äº’é€šä¿¡ã€‚ ä¸‹é¢è¯¦ç»†è¯´æ˜OSIæ¨¡å‹ä¸­é™¤äº†ç‰©ç†å±‚çš„å‰©ä¸‹å…­å±‚\nLayer 2 \u0026amp; Ethernet æ•°æ®é“¾è·¯å±‚ç›´æ¥é€šè¿‡ç½‘ç»œäº¤æ¢æœºè¿›è¡Œé€šä¿¡ï¼Œè€Œæ— éœ€é€šè¿‡è·¯ç”±å™¨ã€‚ ä»¥å¤ªç½‘æ˜¯æ•°æ®é“¾è·¯å±‚ä¸­æœ€å¸¸è§çš„ä¸€ç§æŠ€æœ¯æ ‡å‡†ï¼Œä¹Ÿæ˜¯æœ€æ™®éçš„å±€åŸŸç½‘æŠ€æœ¯ã€‚ æ•°æ®é“¾è·¯å±‚è´Ÿè´£å°†æ¯”ç‰¹ç»„ç»‡åˆ°ä»¥å¤ªç½‘å¸§ä¸­ï¼Œå¹¶ç¡®ä¿åœ¨ç‰©ç†ä»‹è´¨ä¸Šçš„å¯é ä¼ è¾“ã€‚ Ethernet Frameæ„æˆï¼šDestination MAC, Source MAC, Type, Data, CRC Layer 3 \u0026amp; IP IPv4: 192.168.0.1 æ¯ä¸€å—æ•°å­—éƒ½æ˜¯ç”±0-255çš„æ•°å­—ç»„æˆçš„ã€‚ IPv6: 2001:0DB8:ABCD:EF01:2345:6789:ABCD:EF01 ç”±8ä½ç»„æˆï¼Œæ¯ä¸€å—éƒ½æ˜¯ä¸€ä¸ª4ä½16è¿›åˆ¶æ•°æ® Layer 4 \u0026amp; TCP and UDP TCPåˆå«Transport Communication Protocolï¼Œè¿™æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„åè®®ï¼Œæä¾›å¯é çš„ã€æœ‰åºçš„å’Œæ— å·®é”™çš„æ•°æ®ä¼ è¾“æœåŠ¡ã€‚å®ƒé€šè¿‡åºåˆ—å·ã€ç¡®è®¤åº”ç­”ã€é‡ä¼ æœºåˆ¶ã€æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ç­‰æŠ€æœ¯æ¥ä¿è¯æ•°æ®ä¼ è¾“çš„å¯é æ€§å’Œå®Œæ•´æ€§ã€‚ UDPåˆå«User Dataram Protocolï¼ŒUDP ä¸ä¿è¯æ•°æ®åŒ…çš„é¡ºåºã€å®Œæ•´æ€§æˆ–å¯é æ€§ï¼Œä¹Ÿä¸è¿›è¡Œæµé‡æ§åˆ¶æˆ–æ‹¥å¡æ§åˆ¶ã€‚å®ƒä»…ä»…å‘é€æ•°æ®ï¼Œå¹¶å¸Œæœ›å®ƒä»¬èƒ½åˆ°è¾¾ç›®çš„åœ°ï¼Œä½†ä¸ä¿è¯å®ƒä»¬ä¸€å®šä¼šåˆ°è¾¾ã€‚ Layer 6 \u0026amp; TLS(Transport Layer Security) TLSæ˜¯ä¸€ç§åŠ å¯†åè®®ï¼Œåœ¨è®¡ç®—æœºç½‘ç»œä¸­ç”¨æ¥æä¾›é€šä¿¡å®‰å…¨ï¼Œåœ¨è¡¨ç¤ºå±‚æ“ä½œã€‚ä¸»è¦ç”¨äºåœ¨ä¸¤ä¸ªé€šä¿¡åº”ç”¨ä¹‹é—´æä¾›ä¿å¯†æ€§å’Œæ•°æ®å®Œæ•´æ€§çš„å®‰å…¨åè®®ã€‚å®ƒå¹¿æ³›ç”¨äºäº’è”ç½‘é€šä¿¡å’Œåœ¨çº¿æ•°æ®ä¼ è¾“ï¼Œå°¤å…¶æ˜¯åœ¨Webæµè§ˆã€ç”µå­é‚®ä»¶ã€å³æ—¶é€šè®¯å’Œå…¶ä»–æ•°æ®äº¤æ¢çš„åº”ç”¨ä¸­ã€‚ TLS Recordæ˜¯ TLS çš„åº•å±‚åè®®ï¼Œè´Ÿè´£å°è£…ä¸åŒçš„é«˜å±‚åè®®æ•°æ®ã€‚å®ƒä¸ºä¼ è¾“æä¾›ä¸¤ä¸ªåŸºæœ¬æœåŠ¡ï¼šä¿å¯†æ€§å’Œæ•°æ®å®Œæ•´æ€§ã€‚ TLS æ¡æ‰‹åè®®æ˜¯å»ºç«‹ TLS è¿æ¥æ—¶æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œç”¨äºåœ¨ä¸¤ä¸ªé€šä¿¡ç«¯ä¹‹é—´åå•†åŠ å¯†ç®—æ³•ï¼ŒéªŒè¯å¯¹æ–¹èº«ä»½ï¼Œå¹¶äº¤æ¢å¯†é’¥ä¿¡æ¯ã€‚è¿™ä¸€è¿‡ç¨‹å‘ç”Ÿåœ¨å‘é€ä»»ä½•å®é™…åº”ç”¨æ•°æ®ä¹‹å‰ã€‚ Layer 7 \u0026amp; HTTP/HTTPS HTTP ä½¿ç”¨UDP HTTPSï¼ˆæœ€åä¸€ä¸ªSä»£è¡¨Secureï¼‰ ä½¿ç”¨TLSæˆ–SSLã€‚ Hosting åœ¨ç½‘ç»œæ¶æ„ä¸­ï¼ŒProxyæ˜¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå®ƒä½œä¸ºå®¢æˆ·ç«¯å’Œå…¶ä»–æœåŠ¡å™¨ä¹‹é—´çš„ä¸­ä»‹ã€‚æ ¹æ®å…¶é…ç½®å’Œç”¨é€”çš„ä¸åŒï¼Œä»£ç†å¯ä»¥è¢«åˆ†ç±»ä¸ºForward Proxyå’ŒReverse Proxyã€‚\nç®€å•æ¥è®²ï¼ŒForward Proxyè¢«çœ‹ä½œæ˜¯å®¢æˆ·ç«¯ï¼Œä»£è¡¨ç”¨æˆ·å‘æœåŠ¡ç«¯å‘é€è¯·æ±‚ï¼›Reverse Proxyè¢«çœ‹ä½œæ˜¯æœåŠ¡ç«¯ï¼Œå®é™…æ˜¯å°†è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡å™¨ï¼Œå†æŠŠæœåŠ¡å™¨çš„å“åº”è¿”å›ç»™å®¢æˆ·ç«¯ã€‚\nå¦‚ä½•ç”Ÿæˆä¸€ä¸ªself-signed certificate?\n$ openssl req -x509 -nodes -days 365 -newkey rsa:2048 -out selfsigned.crt -keyout private.key -subj \u0026#34;/C=UK/ST=Merseyside/L=Liverpool/O=MyOrg/CN=www.example.com\u0026#34; Storage storage solutionsåˆ†ä¸ºä»¥ä¸‹ä¸‰ç§\nLocal Server Storage: æœ¬åœ°æœåŠ¡å­˜å‚¨æŒ‡çš„æ˜¯æœåŠ¡å™¨ä¸Šçš„ç¡¬ä»¶é©±åŠ¨ï¼Œè¿™æä¾›äº†å¿«é€Ÿçš„è®¿é—®é€Ÿåº¦ã€‚ä½†æ˜¯è¿™ä¸é€‚åˆäº‘åº”ç”¨ï¼Œå› ä¸ºä¸€æ—¦ä¸€ä¸ªæœåŠ¡å™¨å®•æœºï¼Œæˆ‘ä»¬éœ€è¦é‡èµ·ä¸€ä¸ªæ–°çš„ä¸»æœºï¼Œä½†æ˜¯æ–°çš„ä¸»æœºæ— æ³•è®¿é—®è¿™äº›æ•°æ® Network Attached Storage (NAS): NASåœ¨ä¸€ä¸ªRAID(æ•°æ®å­˜å‚¨è™šæ‹ŸåŒ–æŠ€æœ¯)é…ç½®ä¸­æœ‰å¤šä¸ªç¡¬ç›˜é©±åŠ¨ï¼Œä»–ä»¬ä½œä¸ºå…±äº«é©±åŠ¨æ¥è¢«è®¿é—®ã€‚NASçš„ä¸»è¦ç¼ºç‚¹æ˜¯å¦‚æœå•ä¸ªç»„ä»¶å®•æœºï¼Œæ‰€æœ‰æ•°æ®éƒ½æ— æ³•è®¿é—®ã€‚ Storage Area Network (SAN): å­˜å‚¨æ•°æ®çš„è®¡ç®—æœºç½‘ç»œï¼Œç”±å¤šä¸ªç£ç›˜é˜µåˆ—ï¼Œç½‘ç»œäº¤æ¢æœºå’ŒæœåŠ¡å™¨ç»„æˆã€‚è¿™ç§æ–¹å¼å…·å¤‡å®¹é”™ç‡ï¼Œå› ä¸ºæ•°æ®è¢«å¤åˆ¶å­˜å‚¨åœ¨å‡ ä¸ªç£ç›˜é˜µåˆ—ä¸Šï¼Œå¦‚æœæŸä¸ªç£ç›˜å®•æœºï¼Œæ•°æ®ä»ç„¶èƒ½è¢«è®¿é—®ã€‚å®¹æ˜“æ‰©å±•ï¼Œæ·»åŠ é¢å¤–çš„å­˜å‚¨ä¸ä¼šä¸­æ–­SANã€‚ æ•°æ®åº“\nå…³ç³»å‹æ•°æ®åº“ NoSQLæ•°æ®åº“ å›¾æ•°æ®åº“ï¼šæ¯ä¸ªèŠ‚ç‚¹å’Œè¾¹éƒ½èƒ½å­˜å‚¨ä»»æ„æ•°é‡çš„attributesã€‚èŠ‚ç‚¹è¡¨ç¤ºentitiesï¼Œè¾¹è¡¨ç¤ºentitiesä¹‹é—´çš„å…³ç³»ã€‚ Neo4jï¼šè¿™æ˜¯ä¸€æ¬¾éå¸¸æµè¡Œçš„å›¾æ•°æ®åº“ã€‚Neo4jä½¿ç”¨çš„æ£€ç´¢è¯­è¨€å«åšCypherã€‚ CREATE (ee:Person {name: 'Emil', from: 'Sweden', kloutScore: 99}) eeæ˜¯èŠ‚ç‚¹å˜é‡ï¼ŒPersonæ˜¯èŠ‚ç‚¹æ ‡ç­¾ï¼Œ{}åŒ…å«äº†æè¿°èŠ‚ç‚¹çš„æ€§è´¨ MATCH (ee:Person) WHERE ee.name = 'Emil' RETURN ee; Typescript åŸºæœ¬ç±»å‹ anyç±»å‹ä¼šç»•è¿‡ç³»ç»Ÿçš„ç±»å‹æ£€æŸ¥ï¼Œä½†æ˜¯è¿‡åº¦ä½¿ç”¨anyå¯èƒ½ä¼šé€ æˆé”™è¯¯ä»£ç éš¾ä»¥è¿½è¸ªã€‚unknownæ˜¯anyçš„æ›´å®‰å…¨ç‰ˆæœ¬ï¼Œå› ä¸ºæ›´ä¸¥æ ¼ï¼Œunknownç±»å‹æ™ºèƒ½ç”¨äº==, ===, !=, !==ï¼Œé™¤æ­¤ä»¥å¤–éƒ½ä¸å¯ä»¥ï¼Œä¾‹å¦‚ä¸‹é¢ä»£ç å°±ä¼šæŠ¥é”™\nlet a: unknown = 30; let c = a + 10; //è¿™é‡Œä¼šæŠ¥é”™ï¼Œå› ä¸ºunknownç±»å‹ä¸æ”¯æŒ+ boolç±»å‹çš„å‡ ç§å£°æ˜æ–¹å¼\nlet d: boolean = true let e: true = true //è¿™ç§å£°æ˜åï¼Œä»¥ååªèƒ½æ˜¯trueï¼Œä¸èƒ½ä¿®æ”¹ã€‚ numberç±»å‹çš„å‡ ç§å£°æ˜æ–¹å¼\nlet a: number = 10; let b: 26.187 = 26.187; let c: 50 = 40; // Error TS2322: Type \u0026#39;50\u0026#39; is not assignable to type \u0026#39;40\u0026#39; bigintç±»å‹çš„å‡ ç§å£°æ˜æ–¹å¼ï¼Œè¿™é‡Œæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼šnåç¼€è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªbigintç±»å‹çš„æ•°å€¼ï¼Œè€Œä¸æ˜¯æ™®é€šçš„numberç±»å‹ã€‚100nè¡¨ç¤ºæ•°å€¼ä¸€ç™¾ã€‚\nlet a = 1234n; let b: bigint = 100n; let c = 88.5n; //Error TS1353: A bigint literal must be an integer symbolç±»å‹çš„å‡ ç§å£°æ˜æ–¹å¼ã€‚æ¯æ¬¡è°ƒç”¨Symbol()éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ã€å”¯ä¸€çš„symbolã€‚ä½ å¯ä»¥é€‰æ‹©æ€§åœ°ç»™Symbol()å‡½æ•°ä¼ é€’ä¸€ä¸ªæè¿°å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å¹¶ä¸å½±å“ symbol çš„å”¯ä¸€æ€§ã€‚\nlet a: symbol = Symbol(\u0026#39;a\u0026#39;) let sym1 = Symbol(\u0026#34;key1\u0026#34;); let sym2 = Symbol(\u0026#34;key1\u0026#34;); console.log(sym1 === sym2); // è¾“å‡ºï¼šfalse å¯¹è±¡ç±»å‹ let a: object = { b: \u0026#39;x\u0026#39; } console.log(a[\u0026#39;b\u0026#39;]) // è¿™éƒ¨åˆ†å£°æ˜äº†ä¸€ä¸ªå˜é‡cï¼Œå¹¶ä¸”æŒ‡å®šäº†cçš„ç±»å‹ä¸ºä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡çš„ç»“æ„è¢«æ˜ç¡®å®šä¹‰ï¼šå®ƒå¿…é¡»åŒ…å«ä¸€ä¸ªé”®dï¼Œä¸”è¯¥é”®çš„å€¼ç±»å‹ä¸ºstring let c: { d : string } = { d: \u0026#39;y\u0026#39; } console.log(c.d) // ä¸¤ç§å®¹æ˜“ç¢°åˆ°çš„æŠ¥é”™æƒ…å†µ let a: { b: number } a = {} // æŠ¥é”™ï¼Œä¸èƒ½å£°æ˜ä¸€ä¸ªç©ºå¯¹è±¡ a = { b: 1, c: 2 // æŠ¥é”™ï¼Œå£°æ˜çš„æ—¶å€™æ²¡æœ‰cï¼Œæ‰€ä»¥ä¼šåœ¨cè¿™ä¸ªä½ç½®æŠ¥é”™ } é‚£ä¹ˆä¸ç¡®å®šæ˜¯ä¸ªå‚æ•°æ˜¯å¦éœ€è¦ï¼Œæˆ–è€…è°ƒç”¨çš„æ—¶å€™ä¸ä¸€å®šä¼šä¼ å…¥ï¼Œæ€ä¹ˆåšï¼Ÿ\nlet a: { b: number c?: string [key: number]: boolean } a = {b: 1, 10: true} a = {b: 1, c: \u0026#39;d\u0026#39;, 10: true} å£°æ˜çš„æ—¶å€™è¿˜å¯ä»¥å§å˜é‡å†™æˆreadonlyï¼Œè¿™æ„å‘³ç€ä¸€æ—¦åˆå§‹åŒ–åï¼Œå°±æ— æ³•å†æ¬¡ä¿®æ”¹\nlet user: { readonly firstName: string } = { firstName: \u0026#39;abby\u0026#39; } user.firstName = \u0026#39;martin\u0026#39; // æŠ¥é”™ Aliases, Unions, Intersections type Age = number type Person = { name: string, age: Age } type Cat = { name: string, purrs: boolean } type Dog = { name: string, barks: boolean, wags: boolean } type CatOrDog = Cat | Dog type CatAndDog = Cat \u0026amp; Dog let b: CatAndDog = { name: \u0026#39;martin\u0026#39;, barks: false, purrs: false, wags: false, } // bæ˜¯catå’Œdogçš„intersectionï¼Œæ‰€ä»¥è¦æœ‰catå’Œdogçš„å…¨éƒ¨å±æ€§ Array æ•°ç»„çš„ç±»å‹æ£€æŸ¥\nlet f = [\u0026#39;red\u0026#39;] f.push(\u0026#39;blue\u0026#39;) f.push(true) // error let g = [] g.push(1) g.push(\u0026#39;red\u0026#39;) g.push({x: \u0026#34;y\u0026#34;}) // ä»»ä½•ç±»å‹éƒ½èƒ½å­˜å…¥g let h: number[] = [] h.push(1) h.push(\u0026#39;red\u0026#39;) // error, å‰é¢å·²ç»å£°æ˜äº†åªèƒ½å­˜numberç±»å‹ Tuples // rest elements let list : [number, boolean, ...string[]] = [1, false, \u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;] Function ç”¨\u0026hellip;æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°\nfunction sumVariadicSafe(...numbers: number[]): number { return number.reduce((total, n) =\u0026gt; total + n, 0) } sumVariadicSafe(1, 2, 3) // è¾“å‡º6 å‡½æ•°çš„type aliases\ntype log = (message: string, userId?: string) =\u0026gt; void let log: Log = ( message, userId = \u0026#39;Not signed in\u0026#39; ) =\u0026gt; { let time = new Date().toISOString() console.log(time, message, userId) } Generic Types(æ³›å‹) type Filter = { \u0026lt;T\u0026gt;(array: T[], f: (item: T) =\u0026gt; boolean): T[] } let myFilter: Filter = (array, f) =\u0026gt; array.filter(f) // use myFilter function console.log(myFilter([1, 2, 3], _ =\u0026gt; _ \u0026gt; 2)) // output is 3 console.log(myFilter([\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;], _ =\u0026gt; _ !== \u0026#39;b\u0026#39;)) // output is [\u0026#39;a\u0026#39;] let names = [ {firstName: \u0026#39;Beth\u0026#39;}, {firstName: \u0026#39;Caitlin\u0026#39;}, {firstName: \u0026#39;Xian\u0026#39;} ] console.log(myFilter(names, _ =\u0026gt; _.firstName.startsWith(\u0026#39;B\u0026#39;))) // output is [{firstName: \u0026#39;Beth\u0026#39;}] æ³›å‹å®šä¹‰çš„å‡ ç§æ–¹å¼\ntype Filter1 = { \u0026lt;T\u0026gt;(array: T[], f: (item: T) =\u0026gt; boolean): T[] } type Filter2\u0026lt;T\u0026gt; = { (array: T[], f: (item: T) =\u0026gt; boolean): T[] } // ä¸åŒåœ¨äºFilter2ä¼šé™åˆ¶ç±»å‹ mapå‡½æ•°å®šä¹‰å°±æ˜¯ä¸€ä¸ªæ³›å‹å‡½æ•°ï¼ŒæŠŠTç±»å‹çš„æ•°ç»„è½¬æ¢æˆUç±»å‹çš„æ•°ç»„\nfunction map\u0026lt;T, U\u0026gt;(array: T[], f: (item: T) =\u0026gt; U): U[] { let result = [] for (let i = 0; i \u0026lt; array.length; i++){ result[i] = f(array[i]) } return result } Classes ä»¥å›½é™…è±¡æ£‹â™Ÿï¸è¿™ä¸ªæ¸¸æˆä¸ºä¾‹\nclass Game{} class Piece{} class Position{} class King extends Piece{} class Queen extends Piece{} class Bishop extends Piece{} // è±¡ class Knight extends Piece{} // é©¬ class Rook extends Piece{} // è½¦ class Pawn extends Piece{} // å…µ type Color = \u0026#39;Black\u0026#39; | \u0026#39;White\u0026#39; //é»‘ç™½ä¸¤æ–¹ type FileVal = \u0026#39;A\u0026#39;|\u0026#39;B\u0026#39;|\u0026#39;C\u0026#39;|\u0026#39;D\u0026#39;|\u0026#39;E\u0026#39;|\u0026#39;F\u0026#39;|\u0026#39;G\u0026#39;|\u0026#39;H\u0026#39; // 8åˆ— type RankVal = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 // 8è¡Œ class Position { constructor( private file: FileVal, private rank: RankVal, ){} distanceFrom(position: Position) { return { rank: Math.abs(position.rank - this.rank), file: Math.abs(position.file.charCodeAt(0) - this.file.charCodeAt(0)) // å› ä¸ºfileæ˜¯ç”¨å­—æ¯è¡¨ç¤ºçš„ï¼Œæ‰€ä»¥è¦UniCodeç ç›¸å‡ã€‚ } } } class Piece { protected position: Position // protectedç±»å‹å¯ä»¥åœ¨æœ¬ç±»æˆ–å­ç±»ä¸­è¢«è®¿é—® constructor( private readonly color: Color, file: FileVal, rank: RankVal ) { this.position = new Position(file, rank) } } // abstract classï¼Œå¯ä»¥å®ç°æ–¹æ³•æˆ–è€…æŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡ç±»ä¸èƒ½è¢«ç›´æ¥å®ä¾‹åŒ–ï¼Œå­ç±»ï¼ˆéæŠ½è±¡ç±»ï¼‰å¯ä»¥è¢«å®ä¾‹åŒ– abstract class Piece { moveTo(position: Position) { this.position = position } abstract canMoveTo(position: Position): boolean } // æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•ä¸€å®šè¦åœ¨éæŠ½è±¡å­ç±»ä¸­å®ç° class King extends Piece { canMoveTo(position: Position) { let distance = this.position.distanceFrom(position) return distance.rank \u0026lt; 2 \u0026amp;\u0026amp; distance.file \u0026lt; 2 } } // å¯¹äºä¸€ä¸ªç±»ï¼Œå…¶ä¸­çš„staticæ–¹æ³•åªè¢«åˆ›å»ºä¸€æ¬¡ï¼Œè€Œä¸æ˜¯æ¯æ¬¡å®ä¾‹åŒ–å¯¹è±¡éƒ½è¢«åˆ›å»ºä¸€æ¬¡ã€‚ class Game { private pieces = Game.makePieces() private static makePieces() { return [ new King(\u0026#39;White\u0026#39;, \u0026#39;E\u0026#39;, 1), ... ] } } Interfaces æ¥å£æä¾›äº†å¦ä¸€ç§å®šä¹‰å¯¹è±¡çš„æ–¹å¼\ntype Sushi = { calories: number salty: boolean tasty: boolean } // ç­‰ä»·äº interface Sushi { calories: number salty: boolean tasty: boolean } å‰é¢è¯´è¿‡typeå¯ä»¥è¿›è¡Œintersectionæˆ–unionã€‚interfaceä¹Ÿå¯ä»¥åšåˆ°\ntype Food = { calories: number tasty: boolean } type Sushi = Food \u0026amp; {salty: boolean} interface Food { calories: number tasty: boolean } interface Sushi extends Food { salty: boolean } classå¯ä»¥å®ç°æ¥å£ï¼Œä¸¾ä¾‹ï¼š\ninterface Animal { eat(food: string): void sleep(hours: number): void } interface Feline { meow(): void } class Cat implements Animal { eat(food: string) { console.info(\u0026#39;Ate some\u0026#39;, food, \u0026#39;. Mmm!\u0026#39;) } sleep(hours: number) { console.info(\u0026#39;Slept for\u0026#39;, hours, \u0026#39;hours\u0026#39;) } } // ç±»ä¹Ÿå¯ä»¥å®ç°å¤šä¸ªæ¥å£ class Cat implements Animal, Feline { // ... } Kubernetes K8sï¼Œæ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨ç¼–æ’ç³»ç»Ÿï¼Œç”¨äºè‡ªåŠ¨åŒ–è®¡ç®—æœºåº”ç”¨çš„éƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†ã€‚\næœ€æµè¡Œçš„å®¹å™¨ç¼–æ’è½¯ä»¶å°±æ˜¯Kubernetesï¼Œå®ƒåœ¨æ•°æ®ä¸­å¿ƒæœåŠ¡å™¨ä¸Šè¿è¡Œï¼ŒæŠ½è±¡æ‰äº†åº•å±‚ç¡¬ä»¶çš„å¤æ‚æ€§ï¼Œä¸ºè¿è¡Œå®¹å™¨æä¾›äº†ä¸€ä¸ªç®€å•çš„æ¥å£ã€‚æ­£å› å¦‚æ­¤ï¼ŒK8sç»å¸¸è¢«æ¯”ä½œæ•°æ®ä¸­å¿ƒçš„æ“ä½œç³»ç»Ÿã€‚\nKubernetes K8sæœ€åˆä½¿ç”¨Dockerä½œä¸ºä»–çš„å®¹å™¨è¿è¡Œæ—¶ã€‚\nCRI \u0026amp; OCI CRIå…¨ç§°Container Runtime Interfaceï¼ŒOCIå…¨ç§°Open Container Initiative standard\nCRIæ˜¯ä¸€ç§æ’ä»¶æ¥å£ï¼Œå®ƒä½¿Kubernetesèƒ½å¤Ÿä¸å„ç§å®¹å™¨è¿è¡Œæ—¶è¿›è¡Œé€šä¿¡å’Œç®¡ç†ã€‚CRI æä¾›äº†ä¸€ä¸ªæ¸…æ™°çš„ç•Œé¢ï¼Œä½¿å¾—Kuberneteså¯ä»¥æ”¯æŒå¤šç§å®¹å™¨è¿è¡Œæ—¶ï¼Œè€Œä¸éœ€è¦æ¯æ¬¡æ·»åŠ æˆ–æ›´æ–°è¿è¡Œæ—¶éƒ½ä¿®æ”¹Kubernetesçš„æ ¸å¿ƒä»£ç ã€‚è¿™æå¤§åœ°æé«˜äº†Kubernetesçš„æ¨¡å—åŒ–å’Œå¯ç»´æŠ¤æ€§ã€‚\nOCIæ˜¯ä¸€ä¸ªè‡´åŠ›äºåˆ›å»ºå¼€æ”¾çš„å®¹å™¨æ ¼å¼å’Œè¿è¡Œæ—¶æ ‡å‡†çš„é¡¹ç›®ã€‚OCIæˆç«‹çš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯å®¹å™¨çš„å¼€æ”¾æ€§å’Œå¯ç§»æ¤æ€§ï¼Œä½¿å¾—åŸºäºå®¹å™¨çš„æŠ€æœ¯å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒå’Œå¹³å°ä¹‹é—´æ— ç¼è¿è¡Œï¼Œæ— è®ºæ˜¯ç‰©ç†æœåŠ¡å™¨ã€è™šæ‹Ÿæœºã€ç§æœ‰äº‘è¿˜æ˜¯å…¬æœ‰äº‘ã€‚\nå¾®æœåŠ¡å’Œå•ä½“æ¶æ„(Microservices \u0026amp; Monoliths) å•ä½“æ¶æ„æ˜¯ä¸€ç§ä¼ ç»Ÿçš„è½¯ä»¶å¼€å‘æ¨¡å¼ï¼Œå…¶ä¸­åº”ç”¨çš„æ‰€æœ‰åŠŸèƒ½éƒ½è¢«é›†æˆåˆ°ä¸€ä¸ªå•ä¸€çš„ã€ç‹¬ç«‹çš„éƒ¨ç½²å•å…ƒä¸­ã€‚åœ¨è¿™ç§æ¶æ„ä¸­ï¼Œåº”ç”¨çš„å®¢æˆ·ç«¯ç•Œé¢ã€åç«¯é€»è¾‘å’Œæ•°æ®åº“è®¿é—®éƒ½æ„æˆäº†ä¸€ä¸ªç´§å¯†è€¦åˆçš„å•ä¸€ä»£ç åº“ã€‚æ–¹ä¾¿éƒ¨ç½²è¿ç»´ï¼Œä½†æ˜¯æ‰©å±•æ€§é¦–é™\nå¾®æœåŠ¡æ¶æ„æ˜¯ä¸€ç§å°†åº”ç”¨åˆ†è§£ä¸ºä¸€ç»„è¾ƒå°ã€ç‹¬ç«‹æœåŠ¡çš„æ–¹æ³•ï¼Œæ¯ä¸ªæœåŠ¡æ‰§è¡Œåº”ç”¨çš„ä¸€ä¸ªå…·ä½“åŠŸèƒ½ï¼Œå¹¶ä¸”ç‹¬ç«‹éƒ¨ç½²ã€‚æ¯ä¸ªå¾®æœåŠ¡é€šå¸¸å›´ç»•ä¸šåŠ¡èƒ½åŠ›æ„å»ºï¼Œè¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹ä¸­ï¼ŒæœåŠ¡ä¹‹é—´é€šå¸¸é€šè¿‡ç½‘ç»œè°ƒç”¨è¿›è¡Œé€šä¿¡ã€‚çµæ´»å¯æ‰©å±•ï¼Œè€Œä¸”å•ä¸ªæœåŠ¡çš„å¤±è´¥ä¸ä¼šå½±å“æ•´ä¸ªåº”ç”¨ã€‚\nK8sé›†ç¾¤ç”±ä¸€ç»„æœºå™¨ï¼ˆèŠ‚ç‚¹ï¼‰ç»„æˆï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½è¿è¡Œå®¹å™¨åŒ–çš„åº”ç”¨ã€‚èŠ‚ç‚¹æœ‰ä¸¤ç§ç±»å‹ï¼šcontrol planeå’Œworker nodesã€‚control planeè´Ÿè´£ç®¡ç†é›†ç¾¤ï¼Œworker nodesè´Ÿè´£è¿è¡Œå®¹å™¨ã€‚ K8sé›†ç¾¤æ¶æ„å¦‚ä¸‹å›¾æ‰€ç¤º Control Plane Control PlaneåŒ…å«ä»¥ä¸‹ç»„ä»¶\nAPI Serverç›¸å½“äºcontrol planeçš„å‰ç«¯ï¼Œæš´éœ²ä¸€ä¸ªRESTful APIã€‚ç”¨æˆ·ä½¿ç”¨è¿™ä¸ªAPIå’Œé›†ç¾¤äº¤äº’ï¼Œå†…éƒ¨ä¹Ÿç”¨è¿™ä¸ªAPIæ¥å½¼æ­¤é€šä¿¡ã€‚ Cluster Storeæ˜¯ä¸€ä¸ªé”®å€¼å­˜å‚¨ï¼Œç®¡ç†é›†ç¾¤çš„çŠ¶æ€ã€‚K8sä¸­æœ€å¸¸ç”¨çš„Cluster storeå°±æ˜¯etcsï¼Œä¸€ä¸ªé«˜å¯ç”¨é”®å€¼å­˜å‚¨ã€‚ Schedulerè°ƒåº¦ä½œä¸šï¼Œå®ƒä¼šè€ƒè™‘ä¸€ä¸ªä»»åŠ¡çš„èµ„æºéœ€æ±‚ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸Šå¯ç”¨çš„èµ„æºé‡ï¼Œå¦‚æœæ‰¾ä¸åˆ°æ»¡è¶³éœ€æ±‚çš„èŠ‚ç‚¹ï¼Œä»»åŠ¡ä¼šæŒç»­pendingç›´åˆ°æœ‰åˆé€‚çš„èŠ‚ç‚¹å‡ºç°ã€‚pendingçŠ¶æ€çš„ä»»åŠ¡èƒ½è§¦å‘é›†ç¾¤ä¸­èŠ‚ç‚¹æ•°é‡çš„æå‡ã€‚ Controllerså¤„ç†é›†ç¾¤ä¸­çš„ä¾‹è¡Œä»»åŠ¡ï¼Œä¸€äº›ä¸»è¦çš„controller Deployment controller StatefulSet controller ReplicaSet controller Controller Managerç®¡ç†Controllers Worker Nodes Worker nodeså¯ä»¥å¤„ç†å®¹å™¨çš„æ‰§è¡Œã€‚å®ƒåŒ…å«ä»¥ä¸‹ç»„ä»¶\nkubelet: è¿™æ˜¯è¿è¡Œåœ¨æ‰€æœ‰ Kubernetes èŠ‚ç‚¹ä¸Šçš„ä¸»è¦èŠ‚ç‚¹ä»£ç†ã€‚å®ƒè´Ÿè´£å¯åŠ¨ã€åœæ­¢å’Œç®¡ç†å®¹å™¨ï¼ˆé€šè¿‡å®¹å™¨è¿è¡Œæ—¶ï¼‰ã€ç»´æŠ¤å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸã€æ‰§è¡Œå¦‚å¥åº·æ£€æŸ¥ä¹‹ç±»çš„æ“ä½œï¼Œå¹¶ä¸ Kubernetes çš„æ§åˆ¶å¹³é¢é€šä¿¡ï¼Œä»¥æŠ¥å‘ŠèŠ‚ç‚¹ä¸Šçš„èµ„æºä½¿ç”¨æƒ…å†µå’ŒçŠ¶æ€ä¿¡æ¯ã€‚ Container runtimes: è¿™æ˜¯å®é™…è¿è¡Œå®¹å™¨çš„è½¯ä»¶ã€‚Kubernetes æœ¬èº«ä¸ç›´æ¥åˆ›å»ºæˆ–è¿è¡Œå®¹å™¨ï¼Œè€Œæ˜¯ä¾èµ–å®¹å™¨è¿è¡Œæ—¶ã€‚å¸¸è§çš„å®¹å™¨è¿è¡Œæ—¶åŒ…æ‹¬ Dockerã€containerd å’Œ CRI-Oã€‚è¿™äº›è¿è¡Œæ—¶è´Ÿè´£é•œåƒç®¡ç†å’Œå®¹å™¨æ‰§è¡Œã€‚ Apkube Proxy: è¿è¡Œåœ¨æ¯ä¸€ä¸ªworker nodeä¸Šï¼Œç»™èŠ‚ç‚¹æä¾›ç½‘ç»œã€‚ Canary releases Canary releases æ˜¯ä¸€ç§è½¯ä»¶å‘å¸ƒç­–ç•¥ï¼Œç›®çš„æ˜¯é€šè¿‡å°†æ–°ç‰ˆæœ¬è½¯ä»¶æ¨é€åˆ°ä¸€å°éƒ¨åˆ†ç”¨æˆ·ä¸­ï¼Œæ¥æµ‹è¯•å…¶æ€§èƒ½å’Œç¨³å®šæ€§ã€‚è¿™ç§ç­–ç•¥å¯ä»¥å¸®åŠ©å¼€å‘å›¢é˜Ÿè¯†åˆ«å’Œè§£å†³æ½œåœ¨çš„é—®é¢˜ï¼Œè€Œä¸ä¼šå½±å“åˆ°æ‰€æœ‰ç”¨æˆ·ã€‚\nSet up Kubernetes Cluster ç”±äºkubeadmå·¥å…·çš„å­˜åœ¨ï¼ŒKubernetesé›†ç¾¤å¾ˆå®¹æ˜“è®¾ç½®ï¼Œæœ‰ä¸¤ç§æŒ‡ä»¤æ¥åˆå§‹åŒ–\nkubeadm initè¿™ä¸ªå‘½ä»¤åˆå§‹åŒ–Kubernetes control-plane nodeã€‚ kubeadm joinè¿™ä¸ªå‘½ä»¤åˆå§‹åŒ–Kubernetes worker nodeå¹¶æŠŠå®ƒåŠ å…¥é›†ç¾¤ã€‚ ç¦ç”¨Swapå’ŒSELinux åœ¨Linuxä¸­ï¼Œswap spaceï¼ˆäº¤æ¢ç©ºé—´ï¼‰æ˜¯ç¡¬ç›˜ä¸Šçš„ä¸€éƒ¨åˆ†ç©ºé—´ï¼Œç”¨ä½œå½“ç‰©ç†å†…å­˜ï¼ˆRAMï¼‰ä½¿ç”¨å®Œæ—¶çš„å¤‡ç”¨å­˜å‚¨ã€‚å½“ç³»ç»Ÿçš„RAMè¢«å®Œå…¨ä½¿ç”¨æ—¶ï¼Œè¾ƒå°‘ä½¿ç”¨çš„æ•°æ®å¯ä»¥è¢«ä¸´æ—¶è½¬ç§»åˆ°swapç©ºé—´ï¼Œä»è€Œä¸ºéœ€è¦æ›´é¢‘ç¹è®¿é—®çš„æ•°æ®è…¾å‡ºç©ºé—´ã€‚Kubernetesä¸æ”¯æŒäº¤æ¢ç©ºé—´çš„å­˜åœ¨ï¼Œå¦‚æœæ£€æµ‹åˆ°äº¤æ¢å†…å­˜ï¼Œkubeletsä¼šå¤±è´¥ã€‚\nå¦‚ä½•åœ¨masterå’Œworker nodesä¸Šç¦ç”¨SELinux? éœ€è¦ç¼–è¾‘/etcé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹æˆSELINUX=disabled\nrebootå‘½ä»¤ç”¨æ¥é‡æ–°å¯åŠ¨ç³»ç»Ÿä½¿ä¸€äº›æ”¹åŠ¨ç”Ÿæ•ˆã€‚\nReact Next.js Rendering Routing in Next.js ","permalink":"https://martinspace.top/zh/comp315/","summary":"è™šæ‹Ÿæœº å€ŸåŠ©è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œç”¨æˆ·èƒ½ä»¥å•ä¸ªç‰©ç†ç¡¬ä»¶ç³»ç»Ÿä¸ºåŸºç¡€åˆ›å»ºå¤šä¸ªæ¨¡æ‹Ÿç¯å¢ƒæˆ–ä¸“ç”¨èµ„æºã€‚\u0026ldquo;Hypervisor\u0026rdquo; ï¼ˆè™šæ‹Ÿæœºç›‘æ§","title":"äº‘è®¡ç®—(COMP315)"},{"content":"Week1 é«˜æ€§èƒ½è®¡ç®—çš„ç›®æ ‡\nå¯¹äºæœ‰é™çš„æ•°æ®é›†ï¼Œæœ€å°åŒ–è§£å†³æ—¶é—´ å¯¹äºæ— é™çš„æ•°æ®é›†ï¼Œæœ€å¤§åŒ–ååé‡(throughput) æœ‰èƒ½åŠ›è§£å†³ä¸€äº›å¯¹äºå¯ç”¨çš„å†…å­˜æ¥è¯´å¤ªå¤§çš„é—®é¢˜ æœ€å¤§åŒ–èµ„æºåˆ©ç”¨ - CPU/å†…å­˜/ç½‘ç»œ/åŠ é€Ÿå™¨(GPU)/ç”µåŠ› ä¸€äº›å¸¸ç”¨æœ¯è¯­ Parallelism vs Concurrency Parallelism: å¤šä¸ªè¿›ç¨‹åŒæ—¶ä¸”ç‹¬ç«‹æ‰§è¡Œ Concurrency: å¤šä¸ªè¿›ç¨‹åŒæ—¶æ‰§è¡Œä¸”å…±äº«è‡³å°‘ä¸€ç§èµ„æº Processor, Die \u0026amp; Socket Processor: æ‰§è¡Œç¨‹åºæŒ‡ä»¤çš„ç”µè·¯ã€‚è®¡ç®—æœºç³»ç»Ÿä¸­å¯èƒ½æœ‰è®¸å¤šå¤„ç†å™¨ï¼Œä¾‹å¦‚å›¾å½¢å¤„ç†å™¨ã€è§†é¢‘å¤„ç†å™¨ã€‚åœ¨æ²¡æœ‰é™å®šçš„æƒ…å†µä¸‹ï¼Œé€šå¸¸æŒ‡ä¸­å¤®å¤„ç†å™¨ CPU: è®¡ç®—æœºç³»ç»Ÿä¸­ä¸»è¦çš„é€šç”¨å¤„ç†å™¨ï¼ˆä¹‹ä¸€ï¼‰ï¼Œè€Œéç‰¹å®šç”¨é€”ï¼ˆå¦‚è§†é¢‘è§£å‹ç¼©ï¼‰ã€‚ Die: æŒ‡ç¡…æ™¶ç‰‡ï¼ŒåŒ…å«å¤„ç†å™¨ï¼ˆé€šå¸¸æ˜¯ä¸­å¤®å¤„ç†å™¨ï¼‰ä»¥åŠæ¥å£æ‰€éœ€çš„å…¶ä»–ç»„ä»¶ï¼ˆå¦‚å†…å­˜æ§åˆ¶å™¨ï¼‰ã€‚ Socket: å¤„ç†å™¨å’Œè®¡ç®—æœºä¸»æ¿ä¹‹é—´çš„ç‰©ç†æ¥å£ï¼Œå®ƒå®šä¹‰äº†å¤„ç†å™¨ä¸ä¸»æ¿è¿æ¥çš„æ–¹å¼ã€‚ä¸åŒçš„å¤„ç†å™¨å’Œä¸»æ¿å¯èƒ½éœ€è¦ä¸åŒç±»å‹çš„Socketã€‚ Core \u0026amp; Thread Core: æ ¸å¿ƒæ˜¯CPUå†…éƒ¨çš„ä¸€ä¸ªç‰©ç†å¤„ç†å•å…ƒï¼Œèƒ½å¤Ÿç‹¬ç«‹æ‰§è¡Œè®¡ç®—ä»»åŠ¡ã€‚æ¯ä¸ªæ ¸å¿ƒå¯ä»¥ç‹¬ç«‹å¤„ç†æŒ‡ä»¤å’Œæ‰§è¡Œè®¡ç®—æ“ä½œã€‚ Thread: çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè®¡ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚å®ƒæ˜¯ç¨‹åºæ‰§è¡Œæµçš„ä¸€ä¸ªå•ä¸€é¡ºåºï¼Œå¯ä»¥è¢«æ“ä½œç³»ç»Ÿè°ƒåº¦ï¼ˆå¯åŠ¨ã€åœæ­¢ã€æŒ‚èµ·ç­‰ï¼‰ã€‚ æ ¸å¿ƒå’Œçº¿ç¨‹å…±åŒå®šä¹‰äº†å¤„ç†å™¨çš„å¤„ç†èƒ½åŠ› Node æŒ‡ä¸€ä¸ªæœåŠ¡å™¨èŠ‚ç‚¹ï¼ˆä¸€å°è®¡ç®—æœºï¼‰ Cluster/Supercomputer æˆç™¾ä¸Šåƒä¸ªèŠ‚ç‚¹ç»„æˆé›†ç¾¤ Single precision floating-point é€šå¸¸å ç”¨32ä½ï¼ˆ4å­—èŠ‚ï¼‰çš„å­˜å‚¨ç©ºé—´ï¼ŒCè¯­è¨€ä¸­çš„float32ç±»å‹ï¼Œ1ç¬¦å·ä½ï¼Œ8æŒ‡æ•°ä½ï¼Œ23æœ‰æ•ˆæ•°å­—ä½ Double precision floating-point é€šå¸¸å ç”¨64ä½ï¼ˆ8å­—èŠ‚ï¼‰çš„å­˜å‚¨ç©ºé—´ï¼ŒCè¯­è¨€ä¸­çš„float64ç±»å‹ï¼Œ1ç¬¦å·ä½ï¼Œ11æŒ‡æ•°ä½ï¼Œ52æœ‰æ•ˆæ•°å­—ä½ Flop Floating-point operations per second å¦‚ä½•é‡åŒ–/è¯„ä¼°æ€§èƒ½ å…¬å¼å¦‚ä¸‹ğŸ‘‡\n$R_{peak} = 2\\times w_{vec} \\times r_{clock} \\times n_{core} \\times n_{socket}$\nå˜é‡è§£é‡Šï¼š\n$R_{peak} - $å³°å€¼ç†è®ºæ€§èƒ½ $w_{vec} - $å‘é‡å®½åº¦ï¼Œè¡¨ç¤ºæ¯ä¸ªå¤„ç†å™¨æ ¸å¿ƒæ¯ä¸ªæ—¶é’Ÿå‘¨æœŸå†…å¯ä»¥æ‰§è¡Œçš„æµ®ç‚¹è¿ç®—æ•°ã€‚ $r_{clock} - $è¡¨ç¤ºå¤„ç†å™¨æ ¸å¿ƒæ¯ç§’é’Ÿå¯ä»¥æ‰§è¡Œçš„æ—¶é’Ÿå‘¨æœŸæ•°ã€‚ $n_{core} - $è¡¨ç¤ºå•ä¸ªå¤„ç†å™¨ï¼ˆCPUï¼‰æˆ–è®¡ç®—èŠ‚ç‚¹ä¸­çš„æ ¸å¿ƒæ•°é‡ã€‚ $n_{socket} - $è¡¨ç¤ºç³»ç»Ÿä¸­å¤„ç†å™¨ï¼ˆCPUï¼‰çš„æ•°é‡ã€‚ Linpackæ€§èƒ½æµ‹è¯•ï¼šLinpackæ€§èƒ½æµ‹è¯•æ˜¯ä¸€ç§è¡¡é‡è®¡ç®—ç³»ç»Ÿè§£å†³é«˜å¯†åº¦çº¿æ€§ä»£æ•°é—®é¢˜èƒ½åŠ›çš„æµ‹è¯•ã€‚è¿™ä¸ªæµ‹è¯•é€šè¿‡æµ‹é‡ç³»ç»Ÿåœ¨æ‰§è¡Œå¤§è§„æ¨¡åŒç²¾åº¦ï¼ˆ64ä½ï¼‰æµ®ç‚¹ç®—æœ¯çŸ©é˜µè¿ç®—æ—¶çš„æ€§èƒ½æ¥è¯„ä¼°è®¡ç®—æœºçš„é€Ÿåº¦å’Œæ•ˆç‡ã€‚Linpackæµ‹è¯•çš„ä¸€ä¸ªå…¸å‹åº”ç”¨æ˜¯è®¡ç®—ç»™å®šå¤§å°çš„çŸ©é˜µ$A$å’Œå‘é‡$b$ï¼Œæ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„$Ax = b$\nWeek2 Plot programs performance ç”¨\u0026quot;Arithmetic Intensity\u0026quot;ï¼Œè®°ä½œ$I(n)$ï¼Œæ¥è¯„ä¼°æ€§èƒ½ã€‚$I(n) = {W(n)\\over Q(n)}$ã€‚\n$W(n)$:ç¨‹åºæ‰§è¡Œflopsçš„æ¬¡æ•°ï¼Œ$Q(n)$:ä»å†…å­˜ä¼ è¾“åˆ°ç¼“å­˜çš„å­—èŠ‚æ•°ã€‚\nä½Arithmetic Intensityçš„ç¨‹åºå«å†…å­˜å—é™ç¨‹åº é«˜Arithmetic Intensityçš„ç¨‹åºå«è®¡ç®—å—é™ç¨‹åº å¯¹äºå†…å­˜å—é™çš„ç¨‹åºï¼Œå¤„ç†å™¨éœ€è¦èŠ±è´¹æ›´å¤šæ—¶é—´ç­‰å¾…æ“ä½œæ•°ä»å†…å­˜ä¸­ä¼ é€å‡ºæ¥ï¼ˆæ›´å¤šçš„æ—¶é—´èŠ±è´¹åœ¨è®¿é—®å†…å­˜ä¸Šï¼Œè€Œä¸æ˜¯è¿ç®—ä¸Šï¼‰ã€‚ Roofline Model Roofline Modelæ˜¯å¸®åŠ©äº†è§£è½¯ä»¶æ€§èƒ½çš„å¯è§†åŒ–å·¥å…·ã€‚\nRoofline Modelä¸¤ä¸ªç»„æˆéƒ¨åˆ†\nå³°å€¼æ€§èƒ½ï¼ˆ$R_{peak} / R_{max}$ï¼‰ï¼šè¿™æ˜¯è®¡ç®—ç³»ç»Ÿåœ¨ç†æƒ³æƒ…å†µä¸‹å¯ä»¥è¾¾åˆ°çš„æœ€é«˜è®¡ç®—æ€§èƒ½ï¼Œé€šå¸¸ä»¥æ¯ç§’æµ®ç‚¹è¿ç®—æ¬¡æ•°ï¼ˆFLOPSï¼‰æ¥è¡¡é‡ã€‚å³°å€¼æ€§èƒ½ç”±å¤„ç†å™¨çš„ç¡¬ä»¶ç‰¹æ€§å†³å®šï¼Œæ¯”å¦‚æ ¸å¿ƒæ•°é‡ã€æ—¶é’Ÿé¢‘ç‡å’Œå‘é‡åŒ–èƒ½åŠ›ã€‚å›¾ä¸­æ°´å¹³çº¿å°±æ˜¯å³°å€¼æ€§èƒ½ å†…å­˜å¸¦å®½ï¼ˆMemory Bandwidthï¼‰ï¼šè¿™æ˜¯è®¡ç®—ç³»ç»Ÿåœ¨å•ä½æ—¶é—´å†…èƒ½ä»å†…å­˜ä¸­è¯»å†™æ•°æ®çš„æœ€å¤§é€Ÿç‡ï¼Œé€šå¸¸ä»¥æ¯ç§’ä¼ è¾“çš„å­—èŠ‚æ•°ï¼ˆBytes/sï¼‰æ¥è¡¡é‡ã€‚å†…å­˜å¸¦å®½æ˜¯ç”±ç³»ç»Ÿçš„å†…å­˜æ¶æ„å’Œå†…å­˜ç±»å‹å†³å®šçš„ã€‚å¸¦è§’åº¦çš„æ–œçº¿è¡¨ç¤ºå†…å­˜å¸¦å®½ å†¯Â·è¯ºä¼Šæ›¼ Von Neumannæ¶æ„å›¾å¦‚ä¸‹æ‰€ç¤ºğŸ‘‡ ç”±æ§åˆ¶å•å…ƒå’Œç®—æœ¯/é€»è¾‘å•å…ƒç»„æˆçš„CPUã€‚ ç‹¬ç«‹çš„å­˜å‚¨åŒºï¼Œå¯å­˜å‚¨æŒ‡ä»¤å’Œæ•°æ®ã€‚ æŒ‡ä»¤ç”±CPUæ‰§è¡Œï¼Œå› æ­¤å¿…é¡»å°†æŒ‡ä»¤ä»å­˜å‚¨å™¨å¸¦å…¥CPUã€‚ æ•°æ®ä¹Ÿå¿…é¡»ä»å­˜å‚¨å™¨è¿›å…¥CPUæ‰èƒ½æ‰§è¡Œã€‚ CPUåŒ…å«å¯„å­˜å™¨ï¼Œä½œä¸ºä¸´æ—¶å­˜å‚¨çš„åˆ®æ¿ã€‚ The von Neumann bottleneck: æ•°æ®å’ŒæŒ‡ä»¤å…±ç”¨ä¸€æ¡æ€»çº¿ï¼Œå› æ­¤æŒ‡ä»¤è·å–å’Œæ•°æ®æ“ä½œä¸èƒ½åŒæ—¶è¿›è¡Œã€‚ å†¯Â·è¯ºä¼Šæ›¼ç“¶é¢ˆ ä»å†…å­˜ä¸­æŠ“å–å¯¹åº”ç¨‹åºè®¡æ•°å™¨çš„æŒ‡ä»¤ è§£ç æŒ‡ä»¤ ä»å†…å­˜ä¸­æŠ“å–æ•°æ® æ‰§è¡ŒæŒ‡ä»¤ å†™å›ç»“æœ Pipelining Pipeliningçš„åŸºæœ¬æ¦‚å¿µ\næµæ°´çº¿æŠ€æœ¯é€šè¿‡å°†æŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹åˆ†è§£ä¸ºå¤šä¸ªé˜¶æ®µï¼Œå¹¶è®©ä¸åŒçš„æŒ‡ä»¤åœ¨ä¸åŒçš„æ—¶é—´å¹¶è¡Œå¤„ç†è¿™äº›é˜¶æ®µæ¥æé«˜å¤„ç†é€Ÿåº¦ã€‚è¿™å°±å¥½æ¯”æ˜¯åœ¨ç»„è£…çº¿ä¸Šï¼Œæ¯ä¸ªå·¥äººè´Ÿè´£ç»„è£…çº¿ä¸Šçš„ä¸€ä¸ªç‰¹å®šä»»åŠ¡ï¼Œäº§å“å¯ä»¥æ›´å¿«åœ°å®Œæˆï¼Œå› ä¸ºå¤šä¸ªä»»åŠ¡æ˜¯åœ¨åŒæ—¶è¿›è¡Œï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°å®Œæˆã€‚\nåœ¨von neumann cycleä¸­çš„åº”ç”¨\nåœ¨åº”ç”¨æµæ°´çº¿æŠ€æœ¯åï¼Œå¤„ç†å™¨å¯ä»¥åœ¨å®Œæˆå½“å‰æŒ‡ä»¤çš„æŸä¸ªé˜¶æ®µçš„åŒæ—¶ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤çš„å‰ä¸€ä¸ªé˜¶æ®µã€‚ä¾‹å¦‚ï¼Œå½“ç¬¬ä¸€æ¡æŒ‡ä»¤åœ¨æ‰§è¡Œé˜¶æ®µæ—¶ï¼Œç¬¬äºŒæ¡æŒ‡ä»¤å¯ä»¥åŒæ—¶è¿›è¡Œè¯‘ç ï¼Œç¬¬ä¸‰æ¡æŒ‡ä»¤å¯ä»¥è¿›è¡Œå–æŒ‡ã€‚è¿™æ ·ï¼Œè™½ç„¶æ¯æ¡æŒ‡ä»¤çš„æ‰§è¡Œä»ç„¶éœ€è¦ä¸²è¡Œç»è¿‡æ‰€æœ‰é˜¶æ®µï¼Œä½†å¤„ç†å™¨å¯ä»¥åœ¨åŒä¸€æ—¶åˆ»å¤„ç†å¤šæ¡æŒ‡ä»¤çš„ä¸åŒé˜¶æ®µï¼Œä»è€Œå¤§å¤§æé«˜äº†æŒ‡ä»¤çš„ååç‡ã€‚\nå¯¹æŠ—å†¯Â·è¯ºä¼Šæ›¼ç“¶é¢ˆçš„æ–¹æ³• åœ¨èŠ¯ç‰‡ä¸Šæ·»åŠ é«˜é€Ÿç¼“å­˜ï¼ˆcache)ï¼Œä½†é«˜é€Ÿç¼“å­˜ä¹Ÿå­˜åœ¨é—®é¢˜\nä¾‹å¦‚ï¼Œé«˜é€Ÿç¼“å­˜è¶Šå¤§ï¼Œæ•°æ®è®¿é—®é€Ÿåº¦è¶Šæ…¢ã€‚å¯ä»¥é‡‡ç”¨å¤šçº§ç¼“å­˜æ¶æ„ï¼Œé€šè¿‡åœ¨å¤„ç†å™¨å’Œä¸»å†…å­˜ä¹‹é—´å¼•å…¥å¤šä¸ªå±‚çº§çš„ç¼“å­˜ï¼Œæ—¨åœ¨å¹³è¡¡ç¼“å­˜å¤§å°ã€è®¿é—®é€Ÿåº¦å’Œå‘½ä¸­ç‡ä¹‹é—´çš„å…³ç³»ã€‚\né«˜é€Ÿç¼“å­˜åˆ©ç”¨äº†ç¨‹åºçš„ç©ºé—´å±€éƒ¨æ€§ï¼ˆspatial localityï¼‰å’Œæ—¶é—´å±€éƒ¨æ€§ï¼ˆtemporal localityï¼‰ã€‚\næ—¶é—´å±€éƒ¨æ€§æŒ‡çš„æ˜¯åœ¨è¾ƒçŸ­çš„æ—¶é—´å†…ï¼Œè¢«è®¿é—®è¿‡ä¸€æ¬¡çš„æ•°æ®é¡¹å¾ˆå¯èƒ½åœ¨ä¸ä¹…çš„å°†æ¥å†æ¬¡è¢«è®¿é—®çš„ç‰¹æ€§ã€‚è¿™ç§è®¿é—®æ¨¡å¼æ„å‘³ç€ä¸€æ—¦æ•°æ®è¢«åŠ è½½åˆ°ç¼“å­˜ä¸­ï¼Œå®ƒå¾ˆå¯èƒ½å¾ˆå¿«å†æ¬¡è¢«éœ€è¦ï¼Œå› æ­¤ä¿ç•™è¿™äº›æ•°æ®é¡¹åœ¨ç¼“å­˜ä¸­å¯ä»¥å‡å°‘å¯¹è¾ƒæ…¢ä¸»å­˜çš„è®¿é—®æ¬¡æ•°ã€‚ ç©ºé—´å±€éƒ¨æ€§æ˜¯æŒ‡å¦‚æœä¸€ä¸ªæ•°æ®é¡¹è¢«è®¿é—®ï¼Œé‚£ä¹ˆå…¶é™„è¿‘çš„æ•°æ®é¡¹å¾ˆå¿«ä¹Ÿå¯èƒ½è¢«è®¿é—®çš„ç‰¹æ€§ã€‚è¿™ç§æ¨¡å¼åŸºäºæ•°æ®å­˜å‚¨çš„ç‰©ç†ç»“æ„ï¼Œç›¸é‚»çš„æ•°æ®é¡¹é€šå¸¸ä¹Ÿåœ¨å†…å­˜ä¸­ç›¸é‚»å­˜å‚¨ã€‚é«˜é€Ÿç¼“å­˜ç³»ç»Ÿåˆ©ç”¨è¿™ä¸€ç‰¹æ€§é€šè¿‡é¢„å–é™„è¿‘çš„æ•°æ®é¡¹åˆ°ç¼“å­˜ä¸­ï¼Œå³ä½¿è¿™äº›æ•°æ®é¡¹è¿˜æ²¡æœ‰è¢«æ˜¾å¼è¯·æ±‚ã€‚ AMD Bulldozer æœåŠ¡å™¨æ’æ§½çš„å†…å­˜å±‚æ¬¡ç»“æ„ How to gain performance form a single core/socket for (int i = 0; i\u0026lt;1000; i++) { b[i] = a[i]*a[i]; } å¯¹äºä¸Šé¢è¿™ä¸ªç¨‹åºï¼Œåº”è¯¥è¿è¡Œ1000ä¸ªclock cyclesã€‚å‡å¦‚ä¸€ä¸ªclock cycleä¸æ˜¯åšä¸€æ¬¡è¿­ä»£ï¼Œè€Œæ˜¯åš4æ¬¡è¿­ä»£ï¼Œé‚£ä¹ˆæ€»å…±éœ€è¦250ä¸ªclock cyclesã€‚è¿™å°±å«vector processingï¼Œä¹Ÿå«Single Instruction, Multiple Dataï¼ˆSIMDï¼‰ã€‚\nåœ¨å•æ ¸ä¸Šå‹æ¦¨æ›´å¤šæ€§èƒ½ï¼šSMT(simultaneous multithreading)ï¼Œé€šè¿‡åœ¨å•ä¸ªç‰©ç†CPUæ ¸å¿ƒä¸ŠåŒæ—¶æ‰§è¡Œå¤šä¸ªçº¿ç¨‹æ¥æé«˜å¤„ç†å™¨çš„æ•ˆç‡å’Œæ€§èƒ½ã€‚SMTå…è®¸å•ä¸ªæ ¸å¿ƒåƒæ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºå‘ˆç°å‡ºå¤šä¸ªé€»è¾‘æ ¸å¿ƒæˆ–çº¿ç¨‹ï¼Œä½¿å¾—å¤„ç†å™¨å¯ä»¥æ›´æœ‰æ•ˆåœ°åˆ©ç”¨å…¶èµ„æºï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸€ä¸ªçº¿ç¨‹ç­‰å¾…æ•°æ®è®¿é—®æˆ–æ‰§è¡Œé•¿æ—¶é—´æ“ä½œæ—¶ï¼Œå¤„ç†å™¨å¯ä»¥è½¬è€Œæ‰§è¡Œå¦ä¸€ä¸ªçº¿ç¨‹çš„ä»»åŠ¡ã€‚\nWeek3 ç¼–è¯‘å™¨ä¼˜åŒ–çš„å¸¸ç”¨æ–¹æ³• ä¸¤ç§ä¼˜åŒ–æ–¹å¼ï¼š\næ—¶é—´ä¼˜åŒ– ç©ºé—´ä¼˜åŒ– ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨çš„åšä¸€äº›ä¼˜åŒ–ã€‚\nvon Neumann cycleä¸­çš„æ‰§è¡Œé˜¶æ®µä¹Ÿéœ€è¦å¯¹å†…å­˜è¿›è¡Œè¯»å†™ã€‚æ‰€æœ‰çš„ç®—æœ¯æ“ä½œéƒ½éœ€è¦è¯»å†™äº¤æ›¿è¿›è¡Œã€‚ç¼–è¯‘å™¨çš„å·¥ä½œå°±æ˜¯ç»™ç‰¹å®šç¡¬ä»¶ç¡®å®šåˆç†çš„äº¤é”™é¡ºåºã€‚\nè¯»æ•°æ®çš„æ–¹å¼å¯¹æ€§èƒ½è¡¨ç°æ¥è¯´å¾ˆé‡è¦ï¼ˆcacheçš„å­˜åœ¨å°±æ˜¯ä¸ºäº†å‡å°‘å¤„ç†å™¨è®¿é—®ä¸»å­˜çš„æ¬¡æ•°ï¼‰ã€‚\næŠŠå¤šç»´æ•°æ®å­˜å‚¨æˆå•ç»´æ•°æ®çš„ä¸¤ç§æ–¹æ³•\nrow majorï¼ŒC/C++/Javaé€šå¸¸ç”¨row major column majorï¼ŒFortran/Pascalé€šå¸¸ç”¨column major å¸¸ç”¨ä¼˜åŒ–æ–¹æ³•\nInlining float add(int a, int b){ float results = a + b; return result; } int main(NULL){ float a = 3.6; float b = 6.3; float result = add(a, b); } ç¼–è¯‘å™¨ä¼šæŠŠæ‰€æœ‰çš„å‡½æ•°ç”¨inline codeä»£æ›¿ï¼Œæ¶ˆé™¤å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼ŒåŒ…æ‹¬å‹æ ˆã€è·³è½¬å’Œè¿”å›ç­‰æ“ä½œã€‚InliningåğŸ‘‡\nint main(NULL){ float a = 3.6; float b = 6.3; float result = a+b; } ç¼ºç‚¹ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°åœ¨å¤šä¸ªåœ°æ–¹è¢«å†…è”ï¼Œé‚£ä¹ˆå¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°å¯èƒ½ä¼šå¢åŠ ï¼Œè¿™æœ‰æ—¶è¢«ç§°ä¸ºä»£ç è†¨èƒ€ã€‚è€Œä¸”åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœå†…è”å¯¼è‡´ç”Ÿæˆçš„ä»£ç è¿‡å¤§ï¼Œå¯èƒ½ä¼šé™ä½æŒ‡ä»¤ç¼“å­˜çš„æ•ˆç‡ï¼Œåè€Œå‡æ…¢ç¨‹åºçš„è¿è¡Œé€Ÿåº¦ã€‚\nDead code / Dead store Dead code: ç”±äºä¸€äº›æ¡ä»¶ï¼Œè¿™éƒ¨åˆ†ä»£ç æ°¸è¿œæ— æ³•æ‰§è¡Œ Dead store: è®¡ç®—è¿‡ä½†ä»æœªä½¿ç”¨è¿‡çš„å˜é‡ ç¼–è¯‘å™¨æ‰¾åˆ°dead codeå’Œdead storeå¹¶å®‰å…¨åœ°å¿½ç•¥ä»–ä»¬ã€‚ Code hoisting ï¼ˆä»£ç æå‡ï¼‰ for(i = 0; i \u0026lt; N; i++){ x[i] = i * 5 * pi; } æŠŠå¸¸é‡æå‡ºæ¥ï¼Œé˜²æ­¢é‡å¤è®¡ç®—ğŸ‘‡ã€‚!: è¿‡åº¦ä½¿ç”¨å¯èƒ½ä¼šå¯¼è‡´å¯„å­˜å™¨æº¢å‡º\nv = 5 * pi; for(i = 0; i \u0026lt; N; i++){ x[i] = i * v; } Common Sub-expression y = a * log(x) + pow(log(x), 2); ğŸ‘‡\nv = log(x); y = a * v + pow(v, 2); Loop unrolling for(i = 0; i \u0026lt; N; i++){ x[i] = i * 5 * pi; } ğŸ‘‡\nx[1] = 1 * 5 * pi; x[2] = 2 * 5 * pi; x[3] = 3 * 5 * pi; ... x[N] = N * 5 * pi; ä»¥ä¸Šä¼˜åŒ–æ–¹å¼éƒ½æ˜¯åŸºäºæ—¶ç©ºäº¤æ¢ï¼ˆtime-space trade-offï¼‰ã€‚é€šå¸¸æƒ³èŠ‚çœæ‰§è¡Œæ—¶é—´å°±è¦å¢åŠ ä»£ç ä½“é‡ã€‚é€šå¸¸ä¼˜åŒ–ç¨‹åº¦è¶Šé«˜ï¼Œç¼–è¯‘æ—¶é—´è¶Šé•¿ï¼Œå¯æ‰§è¡Œæ–‡ä»¶è¶Šå¤§ã€‚\nç”Ÿæˆä¼˜åŒ–æŠ¥å‘Š Compilerçš„ä¼˜åŒ–æŒ‡ä»¤\n-O0/-O ç¦ç”¨æ‰€æœ‰ä¼˜åŒ– -O1 ä½¿ç”¨æœ€ç®€å•çš„ä¼˜åŒ–æ–¹æ³• -O2 æ‰€æœ‰O1çš„ä¼˜åŒ–æ–¹æ³•ï¼Œå†åŠ ä¸€äº›æ›´é«˜çº§çš„ä¼˜åŒ–æ–¹æ³•ï¼Œè¿™é‡Œå¼€å§‹å‡ºç°æ—¶ç©ºäº¤æ¢çš„ä¼˜åŒ–æ–¹æ³•ã€‚Recommended -O3 æ¯”O2æ›´å¼ºåŠ²ï¼Œæ¶‰åŠå¤§é‡çš„æ—¶ç©ºäº¤æ¢æ–¹æ³•ï¼Œç¼–è¯‘æ—¶é—´æ˜¾è‘—å¢åŠ ï¼Œå»ºè®®ç”¨äºæœ‰å¯†é›†æµ®ç‚¹è¿ç®—å¾ªç¯çš„ä»£ç  -Os é’ˆå¯¹å¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°è¿›è¡Œä¼˜åŒ– -O2-no-vec æ²¡æœ‰vectorisationçš„O2ä¼˜åŒ– Intelçš„ç”ŸæˆæŠ¥å‘ŠæŒ‡ä»¤\n-qopt-reportNï¼ŒN=0ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ã€‚0è¡¨ç¤ºæ²¡æœ‰æŠ¥å‘Šï¼Œ5è¡¨ç¤ºæœ€è¯¦å°½çš„æŠ¥å‘Š\nicc program.c -qopt-report3 åˆ©ç”¨Profiling codeç¡®å®šä¼˜åŒ–ä½ç½® Profiling: æµ‹é‡ç¨‹åºçš„è¡Œä¸ºå’Œæ€§èƒ½ï¼ŒåŒ…æ‹¬è¿è¡Œæ—¶å’Œèµ„æºåˆ©ç”¨æƒ…å†µã€‚å¯¹ç¨‹åºè¿›è¡Œç»†åˆ†å¹¶æ‰¾åˆ°çƒ­ç‚¹éƒ¨åˆ†ï¼Œå¯¹çƒ­ç‚¹éƒ¨åˆ†è¿›è¡Œä¼˜åŒ–ã€‚\nåˆ†æçƒ­ç‚¹éƒ¨åˆ†ï¼š\nå†…å­˜å¸¦å®½? å¯„å­˜å™¨çš„æ•°é‡? cacheåˆ©ç”¨ç‡? ä»£ç å¤ªçƒ‚? Week4 å¦‚ä½•å®ç°parallelising a program è¯†åˆ«parallelismæœºä¼š é€‰æ‹©parallelismç­–ç•¥ ä½¿ç”¨å·¥å…·å’Œåº“(OpenMP, CUDA\u0026hellip;) å®ç°+è°ƒè¯• æ€§èƒ½æµ‹è¯•+ä¼˜åŒ– æŠŠé—®é¢˜æ‹†è§£æˆå¹¶è¡Œç»„ä»¶çš„æ™®éæ–¹æ³•\nData parallelism Task parallelism Pipelines Mixed Solutions ç²’åº¦ ç²—ç²’åº¦parallelism ç²—ç²’åº¦å¹¶è¡Œæ¶‰åŠè¾ƒå¤§çš„ä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡åŒ…å«ç›¸å¯¹è¾ƒå¤šçš„è®¡ç®—é‡ã€‚è¿™ç§å¹¶è¡Œåº¦è¾ƒä½ï¼Œå› ä¸ºç¨‹åºè¢«åˆ†è§£æˆè¾ƒå°‘çš„ã€ä½†æ¯ä¸ªéƒ½æ¯”è¾ƒå¤§çš„éƒ¨åˆ†ï¼Œåœ¨å¤šä¸ªå¤„ç†å•å…ƒä¸Šæ‰§è¡Œã€‚ç›¸æ¯”äºç»†ç²’åº¦å¹¶è¡Œï¼Œç²—ç²’åº¦å¹¶è¡Œçš„ç®¡ç†å’Œé€šä¿¡å¼€é”€ç›¸å¯¹è¾ƒä½ï¼Œå› ä¸ºä»»åŠ¡ä¹‹é—´çš„äº¤äº’è¾ƒå°‘ã€‚ ç»†ç²’åº¦parallelism ç»†ç²’åº¦å¹¶è¡ŒæŒ‡çš„æ˜¯ç”±å¾ˆå°çš„ä»»åŠ¡ç»„æˆçš„å¹¶è¡Œè®¡ç®—ï¼Œæ¯ä¸ªä»»åŠ¡æ‰§è¡Œçš„è®¡ç®—é‡ç›¸å¯¹è¾ƒå°‘ã€‚å®ƒå…è®¸é«˜åº¦çš„å¹¶è¡Œåº¦ï¼Œå› ä¸ºç¨‹åºè¢«åˆ†è§£æˆè®¸å¤šå°çš„éƒ¨åˆ†å¯ä»¥åœ¨å¤šä¸ªå¤„ç†å•å…ƒä¸Šå¹¶è¡Œæ‰§è¡Œã€‚ç»†ç²’åº¦å¹¶è¡Œçš„æŒ‘æˆ˜åœ¨äºç®¡ç†å’Œåè°ƒå¤§é‡å°ä»»åŠ¡çš„å¼€é”€å¯èƒ½ä¼šå¾ˆå¤§ï¼Œç‰¹åˆ«æ˜¯å½“é€šä¿¡å’ŒåŒæ­¥æˆæœ¬é«˜äºä»»åŠ¡æ‰§è¡Œæˆæœ¬æ—¶ã€‚ è¡¡é‡å¹¶å‘æ€§èƒ½ å¹¶è¡Œç¼–ç¨‹æ¨¡å‹\nShared Memory Programming: åœ¨å…±äº«å†…å­˜ç¼–ç¨‹æ¨¡å‹ä¸­ï¼Œæ‰€æœ‰å¤„ç†å™¨éƒ½è®¿é—®åŒä¸€ä¸ªç‰©ç†å†…å­˜ç©ºé—´ã€‚è¿™æ„å‘³ç€æ‰€æœ‰çš„å¹¶è¡Œæ‰§è¡Œçº¿ç¨‹éƒ½å¯ä»¥ç›´æ¥è¯»å†™åŒä¸€å—å†…å­˜åœ°å€ç©ºé—´ä¸­çš„æ•°æ®ã€‚è¿™ç§æ¨¡å‹ç®€åŒ–äº†æ•°æ®çš„å…±äº«ï¼Œå› ä¸ºä¸éœ€è¦æ˜¾å¼åœ°åœ¨å¤„ç†å™¨ä¹‹é—´ä¼ é€’æ¶ˆæ¯æ¥å…±äº«æ•°æ®ã€‚å…±äº«å†…å­˜æ¨¡å‹é€šå¸¸ç”¨äºå¤šæ ¸å¤„ç†å™¨æˆ–å¤šå¤„ç†å™¨è®¡ç®—æœºç³»ç»Ÿï¼Œå…¶ä¸­æ‰€æœ‰æ ¸å¿ƒéƒ½èƒ½å¤Ÿè®¿é—®åŒä¸€ä¸ªå…¨å±€å†…å­˜ã€‚OpenMPå°±æ˜¯å…±äº«å†…å­˜å¹¶è¡Œç¼–ç¨‹çš„API Distributed Memory Programming: åœ¨åˆ†å¸ƒå¼å†…å­˜ç¼–ç¨‹æ¨¡å‹ä¸­ï¼Œæ¯ä¸ªå¤„ç†å™¨æˆ–è®¡ç®—èŠ‚ç‚¹æ‹¥æœ‰è‡ªå·±çš„å±€éƒ¨å†…å­˜ï¼Œå¤„ç†å™¨ä¹‹é—´é€šè¿‡ç½‘ç»œæˆ–æ€»çº¿ä¼ é€’æ¶ˆæ¯æ¥äº¤æ¢æ•°æ®ã€‚è¿™ç§æ¨¡å‹è¦æ±‚æ˜¾å¼åœ°åœ¨ä¸åŒçš„å¤„ç†å™¨ä¹‹é—´å‘é€å’Œæ¥æ”¶æ•°æ®ï¼Œé€šå¸¸ä½¿ç”¨æ¶ˆæ¯ä¼ é€’æ¥å£ï¼ˆå¦‚MPIï¼‰æ¥å®ç°ã€‚åˆ†å¸ƒå¼å†…å­˜æ¨¡å‹é€‚ç”¨äºè®¡ç®—é›†ç¾¤ã€å¤šå¤„ç†å™¨ç³»ç»Ÿæˆ–ç½‘ç»œè¿æ¥çš„è®¡ç®—æœºï¼Œæ¯ä¸ªèŠ‚ç‚¹è¿è¡Œå…¶è¿›ç¨‹å¹¶é€šè¿‡æ¶ˆæ¯ä¼ é€’è¿›è¡Œé€šä¿¡å’Œæ•°æ®å…±äº«ã€‚MPI(Message Passing Interface)å°±æ˜¯åˆ†å¸ƒå¼å†…å­˜å¹¶è¡Œç¼–ç¨‹æ ‡å‡†ï¼Œå¯¹å…±äº«å†…å­˜ä¹Ÿé€‚ç”¨ã€‚ Scalability and Speedup\nSpeedupæŒ‡ä¸ç”¨å¹¶è¡Œç¼–ç¨‹è¿è¡Œç¨‹åºæ‰€èŠ±çš„æ—¶é—´å’Œä½¿ç”¨å¹¶è¡Œç¼–ç¨‹è¿è¡Œç¨‹åºæ‰€èŠ±çš„æ—¶é—´çš„æ¯”å€¼\nScalabilityæŒ‡å¤šæ·»åŠ ä¸€ä¸ªæ ¸/å¤„ç†å™¨çš„æƒ…å†µä¸‹ï¼Œspeedupä¼šæœ‰å¤šå°‘æå‡\n$t_1$: ç¨‹åºåœ¨å•æ ¸ï¼ˆæˆ–å•å¤„ç†å™¨ï¼‰ä¸Šè¿è¡Œçš„æ—¶é—´ã€‚\n$t_p$: ç¨‹åºåœ¨pä¸ªæ ¸å¿ƒï¼ˆæˆ–å¤„ç†å™¨ï¼‰ä¸Šè¿è¡Œçš„æ—¶é—´ã€‚\n$S_p = {t_1\\over t_p}$: åŠ é€Ÿæ¯”æ˜¯è¡¡é‡å¹¶è¡Œç¨‹åºç›¸å¯¹äºå…¶é¡ºåºç‰ˆæœ¬çš„æ€§èƒ½æå‡çš„æŒ‡æ ‡ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå½“ä½ ç”¨pä¸ªå¤„ç†å™¨æ¥è¿è¡Œç¨‹åºæ—¶ï¼Œç¨‹åºçš„æ‰§è¡Œæ—¶é—´ä¼šå˜ä¸ºå•å¤„ç†å™¨ä¸Šçš„$1\\over p$ï¼Œç„¶è€Œï¼Œç”±äºé€šä¿¡å’ŒåŒæ­¥å¼€é”€ä»¥åŠä»£ç ä¸­ä¸å¯å¹¶è¡ŒåŒ–çš„éƒ¨åˆ†ï¼Œå®é™…åŠ é€Ÿæ¯”å¾€å¾€ä½äºpã€‚\nå¹¶è¡Œæ•ˆç‡å…¬å¼$e_p = {S_p\\over p}$: å¹¶è¡Œæ•ˆç‡æ˜¯è¡¡é‡åŠ é€Ÿæ¯”ç›¸å¯¹äºä½¿ç”¨çš„å¤„ç†å™¨æ•°çš„æ•ˆç‡ã€‚å®ƒæ˜¾ç¤ºäº†å¹¶è¡Œèµ„æºçš„åˆ©ç”¨ç¨‹åº¦ï¼Œé€šå¸¸è¡¨ç¤ºä¸ºç™¾åˆ†æ¯”ã€‚\nMulti-node scaling measurements\nWeak Scaling: åœ¨å¼±æ‰©å±•æ€§æµ‹è¯•ä¸­ï¼Œéšç€èŠ‚ç‚¹æ•°é‡çš„å¢åŠ ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸Šçš„å·¥ä½œè´Ÿè½½ä¿æŒä¸å˜ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæ€»ä½“å·¥ä½œè´Ÿè½½éšèŠ‚ç‚¹æ•°çº¿æ€§å¢åŠ ï¼Œæ‰§è¡Œæ—¶é—´ä¿æŒæ’å®šã€‚è¿™æ ·å¯ä»¥æµ‹é‡ç³»ç»Ÿå¢åŠ è®¡ç®—èµ„æºæ—¶ç»´æŒç›¸åŒæ€§èƒ½çš„èƒ½åŠ›ã€‚ Strong Scaling: å¼ºæ‰©å±•æ€§æ˜¯æŒ‡æ€»ä½“å·¥ä½œè´Ÿè½½ä¿æŒä¸å˜ï¼Œè€ŒèŠ‚ç‚¹æ•°å¢åŠ ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæ‰§è¡Œæ—¶é—´éšèŠ‚ç‚¹æ•°çš„å¢åŠ è€Œå‡å°‘ã€‚è¿™ç§æµ‹é‡ä½“ç°äº†ç³»ç»Ÿå¤„ç†å›ºå®šå¤§å°å·¥ä½œè´Ÿè½½çš„æ•ˆç‡ã€‚ Amdahlâ€™s Law ç¨‹åºçš„æœ€å¿«æ‰§è¡Œé€Ÿåº¦å—é™äºé‚£äº›å¿…é¡»ä¸²è¡Œæ‰§è¡Œçš„ä»£ç éƒ¨åˆ†ã€‚è¿™äº›ä¸²è¡Œéƒ¨åˆ†çš„æ€»æ‰§è¡Œæ—¶é—´è®¾ç½®äº†ç¨‹åºåŠ é€Ÿçš„ä¸‹é™ã€‚æ— è®ºå¹¶è¡Œå¤„ç†å¤šä¹ˆé«˜æ•ˆï¼Œæ€»ä½“æ€§èƒ½æå‡æ°¸è¿œä¸èƒ½è¶…è¿‡è¿™ä¸ªä¸‹é™ã€‚\n$\\alpha$åŸå§‹é—®é¢˜ä¸­ä¸²è¡Œéƒ¨åˆ†æ‰€å çš„æ¯”ä¾‹ï¼ˆå°±æ—¶é—´è€Œè¨€ï¼‰ $t_p = {\\alpha\\times t_1 + {(1-\\alpha)\\times t_1\\over p}}$ $S_p = {t_1\\over t_p} , limit = {1\\over\\alpha}$ æœ€å¤§å¯èƒ½çš„speedupæ˜¯$1\\over\\alpha$ Gustafsonâ€™s Law Gustafson\u0026rsquo;s Lawçš„å‡ºå‘ç‚¹æ˜¯ï¼Œéšç€å¤„ç†å™¨æ•°é‡çš„å¢åŠ ï¼Œäººä»¬å€¾å‘äºè§£å†³æ›´å¤§è§„æ¨¡çš„é—®é¢˜ï¼Œè€Œä¸æ˜¯ç®€å•åœ°åŠ é€Ÿå›ºå®šå¤§å°çš„é—®é¢˜ã€‚å› æ­¤ï¼Œä»–è®¤ä¸ºï¼š\næ€»å·¥ä½œé‡çš„å¢åŠ ï¼šéšç€å¤„ç†å™¨æ•°é‡çš„å¢åŠ ï¼Œæˆ‘ä»¬ä¸ä»…ä»…æ˜¯å°†ç›¸åŒçš„ä»»åŠ¡åˆ†é…ç»™æ›´å¤šçš„å¤„ç†å™¨ï¼Œè€Œæ˜¯å¢åŠ äº†æ€»ä½“çš„å·¥ä½œé‡ï¼Œä»¥ä¾¿å¡«æ»¡å¹¶åˆ©ç”¨æ‰€æœ‰å¯ç”¨çš„è®¡ç®—èµ„æºã€‚ ä¸²è¡Œéƒ¨åˆ†çš„å½±å“å‡å°‘ï¼šå½“æ€»å·¥ä½œé‡å¢åŠ æ—¶ï¼Œç¨‹åºä¸­çš„ä¸²è¡Œéƒ¨åˆ†æ‰€å çš„æ¯”ä¾‹å˜å¾—ä¸é‚£ä¹ˆé‡è¦ï¼Œå› ä¸ºç»å¯¹çš„ä¸²è¡Œå¤„ç†æ—¶é—´ç›¸å¯¹äºæ€»å¤„ç†æ—¶é—´çš„å½±å“å˜å°äº†ã€‚ å¹¶è¡Œéƒ¨åˆ†çš„å¢åŠ ï¼šä¸æ­¤åŒæ—¶ï¼Œå¯å¹¶è¡ŒåŒ–çš„éƒ¨åˆ†åœ¨æ€»å·¥ä½œé‡ä¸­å æ®äº†æ›´å¤§çš„æ¯”ä¾‹ï¼Œå› ä¸ºè¿™äº›éƒ¨åˆ†å¯ä»¥åœ¨æ‰€æœ‰çš„å¤„ç†å™¨ä¸ŠåŒæ—¶è¿›è¡Œã€‚ Speedup = $\\alpha + p(1-\\alpha)$ Week5 å¹¶è¡Œè§£å†³æ–¹æ¡ˆçš„æ­£ç¡®æ€§ Round-off error åœ¨æ•°å€¼è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œç”±äºå¯¹æ•°å€¼è¿›è¡Œå››èˆäº”å…¥æˆ–æˆªæ–­å¯¼è‡´çš„è¯¯å·®ã€‚å½“æˆ‘ä»¬ä½¿ç”¨æœ‰é™ä½æ•°çš„æ•°å­—æ¥è¡¨ç¤ºå’Œå¤„ç†æ— é™å°æ•°æˆ–è€…éå¸¸å¤§æˆ–éå¸¸å°çš„æ•°æ—¶ï¼Œå°±å¿…é¡»å¯¹è¿™äº›æ•°è¿›è¡Œå››èˆäº”å…¥æˆ–æˆªæ–­ï¼Œä»¥é€‚åº”è®¡ç®—æœºæˆ–è®¡ç®—è®¾å¤‡çš„å­˜å‚¨å’Œå¤„ç†èƒ½åŠ›ã€‚è¿™ç§å¤„ç†è¿‡ç¨‹ä¸­ä¸å¯é¿å…åœ°ä¼šå¼•å…¥ä¸€äº›è¯¯å·®ï¼Œè¿™ç§è¯¯å·®å°±æ˜¯round-off errorã€‚\nå…‹æœround-off error:\nå°½é‡ç”¨åŒç²¾åº¦æµ®ç‚¹æ•°è€Œä¸ç”¨å•ç²¾åº¦æµ®ç‚¹æ•° è®¾ç½®ä¸€äº›å¿è€åº¦ï¼Œå…è®¸è¯¯å·®å­˜åœ¨ï¼Œä¾‹å¦‚if(var1 \u0026lt; var2 - tolerance) DeadLock and LiveLock\næ­»é”æ˜¯æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå› ä¸ºäº‰å¤ºèµ„æºè€Œé€ æˆçš„ä¸€ç§ç›¸äº’ç­‰å¾…çš„ç°è±¡ï¼Œè‹¥æ— å¤–åŠ›å¹²æ¶‰é‚£å®ƒä»¬éƒ½å°†æ— æ³•å‘å‰æ¨è¿›ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæ¶‰åŠçš„è¿›ç¨‹éƒ½åœ¨ç­‰å¾…å…¶ä»–è¿›ç¨‹é‡Šæ”¾èµ„æºï¼Œä½†æ²¡æœ‰ä¸€ä¸ªè¿›ç¨‹èƒ½å¤Ÿå‘å‰æ¨è¿›ï¼Œå› ä¸ºå®ƒä»¬éƒ½åœ¨ç­‰å¾…ã€‚ æ´»é”æ˜¯æŒ‡ä¸¤ä¸ªæˆ–æ›´å¤šçš„è¿›ç¨‹åœ¨å°è¯•è§£å†³æŸä¸ªé—®é¢˜æ—¶ï¼Œç”±äºå„è¿›ç¨‹çš„ååº”å¯¼è‡´å½¼æ­¤ä¹‹é—´ä¸æ–­åœ°æ”¹å˜çŠ¶æ€ï¼Œä½†å®é™…ä¸Šæ²¡æœ‰ä»»ä½•è¿›å±•ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæ¶‰åŠçš„è¿›ç¨‹æ²¡æœ‰è¢«é˜»å¡ï¼Œå®ƒä»¬èƒ½å¤Ÿå“åº”å…¶ä»–äº‹ä»¶ï¼Œä½†æ˜¯è¿™äº›è¿›ç¨‹çš„çŠ¶æ€æ›´æ”¹æ˜¯å¾’åŠ³çš„ï¼Œå› ä¸ºè¿™äº›æ›´æ”¹åªä¼šå¯¼è‡´é—®é¢˜å†æ¬¡å‡ºç°ï¼Œä½¿å¾—ç³»ç»Ÿæ— æ³•ç»§ç»­å‘å‰å‘å±•ã€‚ Race conditions ç¨‹åºçš„è¡Œä¸ºä¾èµ–äºæŸäº›äº‹ä»¶æˆ–è¿›ç¨‹çš„é¡ºåºæˆ–æ—¶é—´ã€‚å½“å¤šä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹è®¿é—®å’Œæ”¹å˜å…±äº«æ•°æ®ï¼Œå¹¶ä¸”æœ€ç»ˆç»“æœå–å†³äºè¿™äº›è¿›ç¨‹æˆ–çº¿ç¨‹çš„æ‰§è¡Œé¡ºåºæ—¶ï¼Œå°±å¯èƒ½å‘ç”Ÿç«æ€æ¡ä»¶ã€‚ç®€è€Œè¨€ä¹‹ï¼Œç«æ€æ¡ä»¶å‘ç”Ÿåœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªæ“ä½œå¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºæ‰§è¡Œï¼Œä½†ç¨‹åºçš„è®¾è®¡æ²¡æœ‰æ­£ç¡®åœ°åºåˆ—åŒ–è¿™äº›æ“ä½œï¼Œå¯¼è‡´ç»“æœä¸å¯é¢„æµ‹ã€‚\nMultiple-write race conditions å¤šå†™ç«äº‰æ¡ä»¶å‘ç”Ÿåœ¨å¤šä¸ªçº¿ç¨‹è¯•å›¾åŒæ—¶å†™å…¥åŒä¸€ä¸ªå…±äº«å˜é‡æ—¶ã€‚è¿™ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´æˆ–å†²çªã€‚è§£å†³æ–¹æ¡ˆå¦‚ä¸‹\nçº¿ç¨‹æœ¬åœ°å˜é‡å‰¯æœ¬ï¼šæ¯ä¸ªçº¿ç¨‹ç»´æŠ¤ä¸€ä¸ªå…±äº«å˜é‡çš„æœ¬åœ°å‰¯æœ¬ï¼Œæœ€ç»ˆè¿›è¡Œæ±‡æ€»ã€‚ è®¿é—®æ§åˆ¶æœºåˆ¶ï¼šä½¿ç”¨é”ç­‰æœºåˆ¶ä¿æŠ¤å˜é‡ï¼Œä½¿æ¯æ¬¡åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®ã€‚ ä½¿ç”¨â€œåŸå­â€æ“ä½œæ”¯æŒï¼šç¼–ç¨‹è¯­è¨€è¿è¡Œæ—¶ã€æ“ä½œç³»ç»Ÿæˆ–ç¡¬ä»¶å¯èƒ½æ”¯æŒâ€œåŸå­â€æ“ä½œï¼Œå³åº•å±‚ç³»ç»Ÿå®ç°äº†è®¿é—®æ§åˆ¶ä»¥é¿å…ç«äº‰æ¡ä»¶ã€‚ é‡æ–°è®¾è®¡ç®—æ³•ï¼šé€šå¸¸æœ€å¥½çš„è§£å†³æ–¹æ¡ˆæ˜¯é‡æ–°æ€è€ƒç®—æ³•ï¼Œç¡®ä¿é¿å…å‡ºç°ç«äº‰æ¡ä»¶çš„æƒ…å½¢ã€‚ SIMD ä¸€ç§å¹¶è¡Œè®¡ç®—çš„æ¶æ„ï¼Œç”¨äºåŒæ—¶åœ¨å¤šä¸ªæ•°æ®ç‚¹ä¸Šæ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚åœ¨ç¡¬ä»¶å±‚æä¾›data-parallelism right\nIntelçš„SSEï¼ˆStreaming SIMD Extensionsï¼‰å’ŒAVXï¼ˆAdvanced Vector Extensionsï¼‰æ˜¯é’ˆå¯¹x86å¤„ç†å™¨ç³»åˆ—çš„æŒ‡ä»¤é›†æ‰©å±•ï¼Œä¸“é—¨è®¾è®¡æ¥æé«˜ç‰¹å®šç±»å‹è®¡ç®—çš„æ€§èƒ½ï¼Œä¸»è¦æ˜¯é€šè¿‡SIMDï¼ˆSingle Instruction, Multiple Dataï¼‰æŠ€æœ¯å®ç°çš„ã€‚è¿™äº›æ‰©å±•é€šè¿‡å…è®¸å•ä¸ªæŒ‡ä»¤åŒæ—¶æ“ä½œå¤šä¸ªæ•°æ®ç‚¹ã€‚\nMIMD åœ¨MIMDä½“ç³»ç»“æ„ä¸­ï¼Œæ¯ä¸ªå¤„ç†å™¨æˆ–å¤„ç†å•å…ƒå¯ä»¥ç‹¬ç«‹æ‰§è¡Œå…¶æŒ‡ä»¤æµï¼Œå¹¶ä¸”å¯ä»¥æ“ä½œè‡ªå·±çš„æ•°æ®ã€‚è¿™ç§è®¾è®¡å…è®¸æ›´å¤§çš„çµæ´»æ€§å’Œæ•ˆç‡ï¼Œå› ä¸ºæ¯ä¸ªå¤„ç†å™¨éƒ½å¯ä»¥æ ¹æ®éœ€è¦ç‹¬ç«‹åœ°æ‰§è¡Œä»»åŠ¡ï¼Œè€Œä¸å¿…ç­‰å¾…å…¶ä»–å¤„ç†å™¨çš„åŒæ­¥ã€‚MIMDæ¶æ„å¯ä»¥æ˜¯å…±äº«å†…å­˜æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯åˆ†å¸ƒå¼å†…å­˜æ¨¡å‹ï¼š\nå…±äº«å†…å­˜æ¨¡å‹ï¼šåœ¨è¿™ç§æ¨¡å‹ä¸­ï¼Œæ‰€æœ‰å¤„ç†å™¨éƒ½å¯ä»¥è®¿é—®åŒä¸€ä¸ªå…¨å±€å†…å­˜ã€‚è™½ç„¶è¿™ç®€åŒ–äº†æ•°æ®å…±äº«å’Œé€šä¿¡ï¼Œä½†ä¹Ÿå¯èƒ½å¯¼è‡´å†…å­˜è®¿é—®å†²çªå’ŒåŒæ­¥é—®é¢˜ã€‚ åˆ†å¸ƒå¼å†…å­˜æ¨¡å‹ï¼šæ¯ä¸ªå¤„ç†å™¨æœ‰è‡ªå·±çš„æœ¬åœ°å†…å­˜ï¼Œå¤„ç†å™¨é—´å¿…é¡»é€šè¿‡æ¶ˆæ¯ä¼ é€’æ¥äº¤æ¢ä¿¡æ¯ã€‚è¿™ç§æ¨¡å‹é€šè¿‡å‡å°‘å¯¹å…±äº«èµ„æºçš„ç«äº‰æ¥æé«˜å¯æ‰©å±•æ€§ï¼Œä½†å¢åŠ äº†ç¼–ç¨‹çš„å¤æ‚æ€§ã€‚ OpenMP ä»‹ç» ä¸€ä¸ªå¹¶è¡Œç¼–ç¨‹æ¨¡å‹\nThread-based parallelism Targeted at shared memory and also accelerations å…±äº«å†…å­˜ï¼šOpenMP è®¾è®¡ä¸»è¦é’ˆå¯¹å…±äº«å†…å­˜æ¶æ„ï¼Œå…¶ä¸­æ‰€æœ‰çº¿ç¨‹å¯ä»¥è®¿é—®åŒä¸€å†…å­˜åœ°å€ç©ºé—´ï¼Œè¿™ç®€åŒ–äº†æ•°æ®çš„å…±äº«å’Œé€šä¿¡ã€‚ åŠ é€Ÿå™¨æ”¯æŒï¼šOpenMP ä¹Ÿæ”¯æŒå„ç§åŠ é€Ÿå™¨ï¼Œå¦‚è‹±ç‰¹å°”çš„ Xeon Phi å’Œå„ç±» GPUã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨ OpenMP å°†è®¡ç®—ä»»åŠ¡åˆ†å‘åˆ°è¿™äº›é«˜æ€§èƒ½è®¾å¤‡ä¸Šï¼Œè¿›ä¸€æ­¥åŠ é€Ÿç¨‹åºçš„æ‰§è¡Œã€‚ Parallelisation using work-sharing and tasks å·¥ä½œå…±äº«ï¼šOpenMP é€šè¿‡å·¥ä½œå…±äº«æ„é€ è‡ªåŠ¨åˆ†é…å¾ªç¯çš„è¿­ä»£åˆ°å¤šä¸ªçº¿ç¨‹ä¸Šã€‚ç®€åŒ–äº†å¾ªç¯å¹¶è¡ŒåŒ–çš„è¿‡ç¨‹ã€‚ ä»»åŠ¡ï¼šOpenMP çš„ä»»åŠ¡æ„é€ å…è®¸ç¨‹åºå®šä¹‰å¯å¹¶è¡Œæ‰§è¡Œçš„ç‹¬ç«‹ä»»åŠ¡å—ï¼Œæä¾›äº†æ›´ç»†ç²’åº¦çš„å¹¶è¡Œæ§åˆ¶ã€‚ Possible to have a single source code for serial/parallelï¼‰ ä¸€ä¸ªé‡è¦çš„ OpenMP ç‰¹æ€§æ˜¯å®ƒå…è®¸åŒä¸€æºä»£ç ç”¨äºä¸²è¡Œå’Œå¹¶è¡Œæ‰§è¡Œã€‚é€šè¿‡ç®€å•åœ°æ·»åŠ æˆ–ç§»é™¤ç‰¹å®šçš„ç¼–è¯‘å™¨æŒ‡ä»¤ï¼Œç¨‹åºå¯ä»¥åœ¨ä¸åŒçš„æ¨¡å¼ä¹‹é—´åˆ‡æ¢ï¼Œè¿™æå¤§åœ°æé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚ Only needs different compiler arguments to switch æ˜“äºåˆ‡æ¢ï¼šè¦å¯ç”¨ OpenMP å¹¶è¡Œï¼Œé€šå¸¸åªéœ€å‘ç¼–è¯‘å™¨ä¼ é€’ä¸€ä¸ªå‚æ•°ï¼ˆå¦‚ -fopenmpï¼‰ï¼Œè¿™ä¼šæ¿€æ´»ç¼–è¯‘å™¨ä¸­çš„ OpenMP æ”¯æŒå¹¶å¹¶è¡ŒåŒ–é‚£äº›æ ‡è®°äº† OpenMP æŒ‡ä»¤çš„ä»£ç å—ã€‚è¿™ä½¿å¾—ä»ä¸²è¡Œä»£ç åˆ°å¹¶è¡Œä»£ç çš„è½¬å˜éå¸¸ç®€å•ã€‚ ç¼–è¯‘æŒ‡ä»¤\nIntel icc â€“qopenmp myFile.c -o output.exe GNU gcc â€“fopenmp myFile.c â€“o output.exe è¿è¡ŒæŒ‡ä»¤ OMP_NUM_THREADS=4 ./output.exe The fork-join model ä¸€ç§å¸¸è§çš„å¹¶è¡Œè®¾è®¡æ¨¡å¼\nFork\nåœ¨â€œforkâ€é˜¶æ®µï¼Œmaster threadåˆ›å»ºä¸€ç³»åˆ—æ–°çš„å¹¶è¡Œå­çº¿ç¨‹ã€‚è¿™äº›å­çº¿ç¨‹å¯ä»¥åŒæ—¶æ‰§è¡Œä»»åŠ¡ï¼Œä¾‹å¦‚å¤„ç†æ•°æ®çš„ä¸åŒéƒ¨åˆ†æˆ–æ‰§è¡Œç‹¬ç«‹çš„è®¡ç®—ä»»åŠ¡ã€‚ Join\nåœ¨â€œjoinâ€é˜¶æ®µï¼Œè¿™äº›å¹¶è¡Œæ‰§è¡Œçš„å­çº¿ç¨‹å®Œæˆå®ƒä»¬çš„ä»»åŠ¡åï¼Œä¼šè¢«é‡æ–°æ±‡åˆï¼ˆåŒæ­¥ï¼‰ã€‚master threadåœ¨ç»§ç»­æ‰§è¡Œä¹‹å‰ï¼Œä¼šç­‰å¾…æ‰€æœ‰å­çº¿ç¨‹å®Œæˆã€‚è¿™ä¿è¯äº†æ‰€æœ‰å¹¶è¡Œä»»åŠ¡éƒ½å·²å®Œæˆï¼Œä»è€Œå…è®¸ç¨‹åºæ­£ç¡®åœ°ç»§ç»­æ‰§è¡Œåç»­çš„åºåˆ—æ“ä½œã€‚ æ€ä¹ˆå¼€å§‹ä¸€ä¸ªparallel regionï¼Ÿ\n//...serial code #pragma omp parallel { int numThreads = omp_get_num_threads(); for(int i = 0; i \u0026lt; numThreads; i++){ printf(â€œThread %d says Helloâ€, i); } } //...serial code ä¸€äº›å·¥å…·å‡½æ•°\n// å½“å‰å¹¶è¡ŒåŒºåŸŸçš„çº¿ç¨‹æ€»æ•° omp_get_num_threads(); // å½“å‰çº¿ç¨‹çš„ç¼–å· omp_get_thread_num(); // å¯¹åç»­å°†è¦åˆ›å»ºçš„å¹¶è¡ŒåŒºåŸŸæ‰€å¯èƒ½ä½¿ç”¨çš„æœ€å¤§çº¿ç¨‹æ•°çš„é¢„ä¼°å€¼ã€‚ omp_get_max_threads(); relicationçš„å«ä¹‰\n#include \u0026lt;stdio.h\u0026gt; #include \u0026lt;omp.h\u0026gt; int main() { int x = 10; #pragma omp parallel private(x) { x = omp_get_thread_num(); printf(\u0026#34;Thread %d has x = %d\\n\u0026#34;, omp_get_thread_num(), x); } // é€€å‡ºå¹¶è¡ŒåŒºåŸŸåï¼ŒåŸå§‹çš„xå€¼ä¸å˜ï¼Œæ¯ä¸ªçº¿ç¨‹çš„ä¿®æ”¹ä»…é™äºå…¶å‰¯æœ¬ printf(\u0026#34;Outside parallel region, x = %d\\n\u0026#34;, x); return 0; } è¾“å‡ºå¦‚ä¸‹\n$ ./replication Thread 2 has x = 2 Thread 3 has x = 3 Thread 1 has x = 1 Thread 4 has x = 4 Thread 5 has x = 5 Thread 0 has x = 0 Thread 6 has x = 6 Thread 7 has x = 7 Outside parallel region, x = 10 Clauses Data Clauses (parallel regionä¸­æœ‰ä¸åŒèŒƒå›´çš„å˜é‡)\nshared(x)ï¼šåœ¨parallel regionå¤–å£°æ˜ï¼Œæ‰€æœ‰çº¿ç¨‹éšå¼å…±äº«è¿™ä¸ªå˜é‡ private(x)ï¼šåœ¨parallel regionå†…å£°æ˜ï¼Œåªæœ‰regionå†…çš„çº¿ç¨‹èƒ½ç”¨è¿™ä¸ªå˜é‡ firstprivate(x): ç”¨äºç¡®ä¿æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰å…¶è‡ªå·±çš„å˜é‡å‰¯æœ¬ï¼Œå¹¶ä¸”è¿™äº›å‰¯æœ¬åœ¨è¿›å…¥å¹¶è¡ŒåŒºåŸŸæ—¶ä½¿ç”¨å¤–éƒ¨ä½œç”¨åŸŸä¸­ç›¸åº”å˜é‡çš„åˆå§‹å€¼è¿›è¡Œåˆå§‹åŒ–ã€‚è¿™æ„å‘³ç€æ¯ä¸ªçº¿ç¨‹åœ¨å¼€å§‹æ‰§è¡Œå¹¶è¡Œä»£ç å—ä¹‹å‰ï¼Œéƒ½ä¼šä»ä¸»çº¿ç¨‹ï¼ˆæˆ–å¤–éƒ¨ä½œç”¨åŸŸï¼‰é‚£é‡Œç»§æ‰¿å˜é‡çš„å€¼ã€‚ lastprivate(x): ç”¨äºæŒ‡å®šåœ¨å¹¶è¡ŒåŒºåŸŸç»“æŸåï¼ŒæŸä¸ªå˜é‡çš„å€¼åº”è¯¥æ˜¯ç”±æ‰§è¡Œæœ€åä¸€æ¬¡è¿­ä»£ï¼ˆæˆ–æœ€åä¸€ä¸ªåŒºå—ï¼‰çš„çº¿ç¨‹ä¸­çš„å¯¹åº”å˜é‡å€¼æ¥æ›´æ–°çš„ã€‚è¿™ç¡®ä¿äº†å˜é‡åœ¨å¹¶è¡ŒåŒºåŸŸå®Œæˆåèƒ½å¤Ÿä¿ç•™æœ€åä¸€æ¬¡è¿­ä»£ä¸­çš„å€¼ã€‚ åœ¨ä½¿ç”¨OpenMPè¿›è¡Œå¹¶è¡Œè®¡ç®—æ—¶ï¼Œå·¥ä½œè°ƒåº¦çš„æ–¹å¼å¯¹æ€§èƒ½çš„å½±å“å¾ˆå¤§ã€‚\nBarrier åœ¨OpenMPä¸­ï¼Œbarrier æ˜¯ä¸€ä¸ªåŒæ­¥åŸè¯­ï¼Œç”¨äºç¡®ä¿åœ¨è¯¥ç‚¹ä¹‹å‰çš„æ‰€æœ‰çº¿ç¨‹éƒ½å®Œæˆå…¶å·¥ä½œæ‰èƒ½ç»§ç»­æ‰§è¡Œåç»­çš„ä»£ç ã€‚ç®€å•æ¥è¯´ï¼Œbarrier åˆ›å»ºäº†ä¸€ä¸ªåŒæ­¥ç‚¹ï¼Œåœ¨è¿™ä¸ªç‚¹ä¸Šï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½å¿…é¡»åˆ°è¾¾ï¼Œç„¶åæ‰èƒ½ä¸€èµ·ç»§ç»­æ‰§è¡Œåé¢çš„æŒ‡ä»¤ã€‚\nè‡ªåŠ¨å±éšœï¼šåœ¨æŸäº›æŒ‡ä»¤ï¼Œå¦‚ #pragma omp for æˆ– #pragma omp sections çš„æœ«å°¾ï¼ŒOpenMPä¼šè‡ªåŠ¨æ’å…¥å±éšœã€‚é™¤éä½¿ç”¨ nowait å­å¥ï¼Œå¦åˆ™æ‰€æœ‰çº¿ç¨‹åœ¨ç»§ç»­ä¹‹å‰éƒ½å¿…é¡»å®Œæˆå®ƒä»¬çš„éƒ¨åˆ†ã€‚ä¾‹å¦‚#pragma omp for nowait æ˜¾å¼å±éšœï¼šå¯ä»¥é€šè¿‡ #pragma omp barrier æ˜¾å¼åœ°åœ¨ä»£ç ä¸­æ’å…¥å±éšœã€‚ NUMA Non-Uniform Memory Accessï¼ˆNUMAï¼‰æ˜¯ä¸€ç§è®¡ç®—æœºå†…å­˜è®¾è®¡ï¼Œç”¨äºå¤šå¤„ç†å™¨ç³»ç»Ÿï¼Œåœ¨è¯¥è®¾è®¡ä¸­ï¼Œæ¯ä¸ªå¤„ç†å™¨éƒ½æœ‰è‡ªå·±çš„æœ¬åœ°å†…å­˜ã€‚å¤„ç†å™¨å¯ä»¥ç›´æ¥è®¿é—®æœ¬åœ°å†…å­˜ï¼ˆæœ¬åœ°è®¿é—®ï¼‰æ¯”è®¿é—®å¦ä¸€ä¸ªå¤„ç†å™¨çš„å†…å­˜ï¼ˆè¿œç¨‹è®¿é—®ï¼‰æ›´å¿«ï¼Œå› ä¸ºè¿œç¨‹è®¿é—®éœ€è¦é€šè¿‡ä¸€äº›å†…å­˜æ€»çº¿æˆ–äº¤æ¢æœºç­‰æ›´å¤æ‚çš„è¿æ¥ç»“æ„ã€‚å› æ­¤ï¼Œåœ¨NUMAæ¶æ„ä¸­ï¼Œå†…å­˜è®¿é—®æ—¶é—´å–å†³äºå†…å­˜ä½ç½®ç›¸å¯¹äºå¤„ç†å™¨çš„ä½ç½®ã€‚\nfirst touch in NUMA åœ¨NUMAï¼ˆNon-Uniform Memory Accessï¼‰ç³»ç»Ÿä¸­ï¼Œ\u0026ldquo;first touch\u0026rdquo; æ˜¯ä¸€ä¸ªé¡µé¢çº§å†…å­˜ç®¡ç†ç­–ç•¥ï¼Œè¿™ä¸€ç­–ç•¥å½±å“å†…å­˜åˆ†é…çš„ä½ç½®ã€‚è¿™ä¸ªåŸåˆ™çš„æ ¸å¿ƒæ€æƒ³æ˜¯æ“ä½œç³»ç»Ÿå°†å†…å­˜é¡µé¢åˆ†é…ç»™è§¦ç¢°å®ƒçš„ç¬¬ä¸€ä¸ªå¤„ç†å™¨çš„æœ¬åœ°å†…å­˜èŠ‚ç‚¹ã€‚\u0026ldquo;è§¦ç¢°\u0026quot;é€šå¸¸æ˜¯æŒ‡å¯¹å†…å­˜é¡µé¢è¿›è¡Œå†™æ“ä½œã€‚\nä¸¾ä¾‹\n#pragma omp parallel for for (int i = 0; i \u0026lt; large_array_size; i++) { large_array[i] = initial_value; // First touch happens here } æ•°ç»„çš„æ¯ä¸ªéƒ¨åˆ†ç”±é¦–æ¬¡å†™å…¥æ•°æ®çš„çº¿ç¨‹è¿›è¡Œåˆå§‹åŒ–ï¼Œå› æ­¤å†…å­˜é¡µé¢å°†è¢«åˆ†é…åˆ°ä¸è¯¥çº¿ç¨‹ç›¸å¯¹åº”çš„NUMAèŠ‚ç‚¹ä¸Šã€‚è¿™æ ·ï¼Œå½“æ•°ç»„è¢«åç»­çš„è®¡ç®—è®¿é—®æ—¶ï¼Œæ¯ä¸ªçº¿ç¨‹å¤§æ¦‚ç‡è®¿é—®çš„æ˜¯å…¶æœ¬åœ°èŠ‚ç‚¹çš„å†…å­˜é¡µé¢ï¼Œå‡å°‘äº†è¿œç¨‹å†…å­˜è®¿é—®ï¼Œæé«˜äº†æ€§èƒ½ã€‚\nMPI ä¸€äº›Vocabulary\nProcess: \u0026ldquo;Process\u0026rdquo; æ˜¯å¹¶è¡Œè®¡ç®—çš„åŸºæœ¬å•ä½ï¼Œå¯ä»¥è¢«ç†è§£ä¸ºæ‰§è¡Œ MPI ç¨‹åºçš„ä¸€ä¸ªç‹¬ç«‹å®ä½“ã€‚æ¯ä¸ª MPI è¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„åœ°å€ç©ºé—´ï¼ˆå³ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼‰ï¼Œè¿™æ„å‘³ç€è¿›ç¨‹é—´ä¸å…±äº«å†…å­˜ã€‚å› æ­¤ï¼ŒMPI è¿›ç¨‹ä¹‹é—´å¿…é¡»é€šè¿‡æ¶ˆæ¯ä¼ é€’æ¥äº¤æ¢æ•°æ®ï¼Œè¿™æ˜¯ MPI å¹¶è¡Œç¼–ç¨‹æ¨¡å‹çš„æ ¸å¿ƒã€‚ Communicator: \u0026ldquo;Communicator\u0026rdquo; ç”¨äºå®šä¹‰ä¸€ç»„å¯ä»¥ç›¸äº’é€šä¿¡çš„è¿›ç¨‹ã€‚Communicator ç¡®å®šäº†å“ªäº›è¿›ç¨‹å‚ä¸åˆ°ç‰¹å®šçš„é€šä¿¡ä¸­ï¼Œå®ƒä¸ºè¿™äº›è¿›ç¨‹æä¾›äº†ä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œåœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼ˆrankï¼‰ã€‚è¿™æ ·ï¼ŒCommunicator ä¸ä»…å®šä¹‰äº†é€šä¿¡çš„å‚ä¸è€…ï¼Œè¿˜å®šä¹‰äº†å®ƒä»¬ä¹‹é—´çš„é€šä¿¡æ–¹å¼ã€‚ Rank: æ¯ä¸ªè¿›ç¨‹çš„rankæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œå®ƒæŒ‡çš„æ˜¯åœ¨æ‰€æœ‰å‚ä¸é€šä¿¡çš„è¿›ç¨‹ä¸­æ¯ä¸ªè¿›ç¨‹çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚Rankæ˜¯ä¸€ä¸ªä»0å¼€å§‹çš„æ•´æ•°ï¼Œç”¨äºåœ¨è¿›ç¨‹ç¾¤ï¼ˆé€šå¸¸æ˜¯åœ¨MPI_COMM_WORLDè¿™ä¸ªå…¨å±€é€šä¿¡å™¨ä¸­ï¼‰å†…å”¯ä¸€æ ‡è¯†æ¯ä¸ªè¿›ç¨‹ã€‚ How to compile and run MPI code #include \u0026lt;stdio.h\u0026gt; #include \u0026lt;mpi.h\u0026gt; int main(void) { int myID; // initialize MPI environment MPI_Init(NULL, NULL); // assign ranks MPI_Comm_rank(MPI_COMM_WORLD, \u0026amp;myID); printf(â€œHi from process ranked %d\\nâ€, myID); MPI_Finalize(); } ç¼–è¯‘\n# For Intel $ mpiicc \u0026lt;filename\u0026gt;.c # For GNU $ mpicc \u0026lt;filename\u0026gt;.c è¿è¡Œ\n# Intel and GNU are same $ mpirun â€“np \u0026lt;num_process\u0026gt; \u0026lt;executable_file\u0026gt; MPIçš„ä¸¤ä¸ªé‡è¦å‡½æ•°MPI_Send()å’ŒMPI_Recv()\nint MPI_Send( const void* buf, // æŒ‡å‘å‘é€æ•°æ®ç¼“å†²åŒºçš„æŒ‡é’ˆ int count, // è¦å‘é€çš„æ•°æ®å…ƒç´ æ•°é‡ MPI_Datatype datatype, // æ•°æ®å…ƒç´ çš„ç±»å‹ int dest, // ç›®æ ‡è¿›ç¨‹çš„rank int tag, // æ¶ˆæ¯æ ‡ç­¾ï¼Œç”¨äºåŒºåˆ†ä¸åŒç±»å‹çš„æ¶ˆæ¯ MPI_Comm comm // ä½¿ç”¨çš„é€šä¿¡å™¨ ); int MPI_Recv( void* buf, // æŒ‡å‘æ¥æ”¶æ•°æ®ç¼“å†²åŒºçš„æŒ‡é’ˆ int count, // èƒ½å¤Ÿæ¥æ”¶çš„æœ€å¤§æ•°æ®å…ƒç´ æ•°é‡ MPI_Datatype datatype, // æ•°æ®å…ƒç´ çš„ç±»å‹ int source, // æºè¿›ç¨‹çš„rank int tag, // æ¶ˆæ¯æ ‡ç­¾ MPI_Comm comm, // ä½¿ç”¨çš„é€šä¿¡å™¨ MPI_Status* status // ç”¨äºè¿”å›å…³äºæ¥æ”¶çš„æ¶ˆæ¯çš„çŠ¶æ€ä¿¡æ¯ ); Blocking Communications é˜»å¡é€šä¿¡æŒ‡çš„æ˜¯åœ¨é€šä¿¡æ“ä½œï¼ˆå¦‚å‘é€æˆ–æ¥æ”¶æ¶ˆæ¯ï¼‰å®Œæˆä¹‹å‰ï¼Œå‘èµ·é€šä¿¡çš„è¿›ç¨‹ä¼šè¢«æš‚åœï¼ˆé˜»å¡ï¼‰ã€‚\nMPI_Sendï¼šåœ¨æ¶ˆæ¯å®Œå…¨å‘é€åˆ°æ¥æ”¶ç¼“å†²åŒºä¹‹å‰ï¼Œå‘é€æ“ä½œä¸ä¼šå®Œæˆï¼Œå‘é€æ–¹è¿›ç¨‹ä¼šè¢«é˜»å¡ã€‚ MPI_Recvï¼šå¦‚æœæ²¡æœ‰æ•°æ®åˆ°è¾¾ï¼Œæ¥æ”¶æ–¹è¿›ç¨‹å°†ç­‰å¾…ï¼Œç›´åˆ°æ¶ˆæ¯åˆ°è¾¾å¹¶è¢«å®Œå…¨æ¥æ”¶åæ‰ç»§ç»­æ‰§è¡Œã€‚ é˜»å¡é€šä¿¡ç®€åŒ–äº†ç¨‹åºçš„ç¼–å†™ï¼Œå› ä¸ºä½ å¯ä»¥ç¡®ä¿¡åœ¨è°ƒç”¨è¿”å›åé€šä¿¡å·²ç»å®Œæˆã€‚ä½†æ˜¯ï¼Œè¿™ç§æ–¹å¼å¯èƒ½ä¼šå¯¼è‡´æ•ˆç‡ä½ä¸‹ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§è§„æ¨¡å¹¶è¡Œè®¡ç®—ä»»åŠ¡ä¸­ï¼Œå› ä¸ºå®ƒå¯èƒ½å¯¼è‡´èµ„æºçš„é—²ç½®ã€‚ Non-blocking Communications éé˜»å¡é€šä¿¡å…è®¸ä¸€ä¸ªè¿›ç¨‹å‘èµ·ä¸€ä¸ªé€šä¿¡æ“ä½œåç«‹å³ç»§ç»­æ‰§è¡Œå…¶ä»–å·¥ä½œï¼Œè€Œä¸å¿…ç­‰å¾…é€šä¿¡æ“ä½œå®Œæˆã€‚è¿™ç§æ–¹å¼å¯ä»¥æé«˜åº”ç”¨ç¨‹åºçš„å¹¶è¡Œæ€§ã€‚\nMPI_Isendï¼šå¯åŠ¨ä¸€ä¸ªå‘é€æ“ä½œï¼Œä½†ç«‹å³è¿”å›ï¼Œè®©å‘é€è¿›ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–è®¡ç®—æˆ–å‘èµ·æ›´å¤šçš„éé˜»å¡é€šä¿¡ã€‚ MPI_Irecvï¼šå¼€å§‹æ¥æ”¶æ“ä½œï¼ŒåŒæ—¶å…è®¸è¿›ç¨‹æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œç›´åˆ°æ•°æ®åˆ°è¾¾ã€‚ Lab Tips è‹±æ–‡è®°å½•äº†ï¼Œæ–¹ä¾¿ç­”é¢˜ã€‚\nLab02 What is the difference between usigned int and int Unsigned int only allows natural numbers, which means it can store larger positive integers. If you were to parallelise this program, and divide the problem into different iterations, what may cause an issue in parallel performance? Load imbalance would affect this program. Some iterations take longer which means some threads will complete earlier, and wait (do nothing). Lab03 What optimisation levels do you think contributed most to the decrease in execution time? O2 seemed to produce the biggest decrease in execution time. Even though O1 decreased it the most from the previous (roughly 6000ms to 1400ms) O2 achieved roughly 200ms. This would be because of vectorisation which O2 performs, but not O1. O3 did not reduce the time much after this. Why, as the number of cores increased, do you think the scalability began to decrease? Multiple reasons, one could be resource contention as more threads begin to access memory locations used by other threads. But considering that mkl is meant to be heavily optimised reducing this, the more likely reason would be Amdahl\u0026rsquo;s law, as the number of threads increase, the serial portion of the program begins to dominate compared to the parallel time. Lab04 Avoiding excessive synchronization in programming is important for several reasons, primarily related to performance and complexity: Performance Degradation: Synchronization often means that some operations must wait for others to complete, leading to thread blocking. This waiting reduces the efficiency of program execution. In high-performance computing or applications where response time is critical, such delays are unacceptable. Risk of Deadlocks: Improper synchronization can lead to deadlocks, where multiple processes or threads wait indefinitely for each other to release resources, thus halting their execution. Deadlocks are not only difficult to debug but can also cause the program to stop responding entirely. Increased Programming Complexity: Implementing and maintaining synchronization mechanisms requires careful design to ensure all threads or processes acquire and release resources at the correct times. This not only complicates the code but also makes debugging and testing more challenging. Scalability Issues: Over-reliance on synchronization can limit a programâ€™s scalability on multicore or multiprocessor systems. Synchronization restricts the possibility of parallel execution, potentially underutilizing multiple cores or processors. Use mutex to remove race condition void* mutex_testing(void* param){ int i; for (i = 0; i \u0026lt; 5; i++) { pthread_mutex_lock(\u0026amp;myMutex);/*lock..*/ counter++; printf(\u0026#34;thread %d counter = %d\\n\u0026#34;, (int)param, counter); pthread_mutex_unlock(\u0026amp;myMutex); /*unlock..*/ } } int main() { int one = 1, two = 2, three = 3; pthread_t thread1, thread2, thread3; pthread_mutex_init(\u0026amp;myMutex, 0); pthread_create(\u0026amp;thread1, 0, mutex_testing, (void*)one); pthread_create(\u0026amp;thread2, 0, mutex_testing, (void*)two); pthread_create(\u0026amp;thread3, 0, mutex_testing, (void*)three); pthread_join(thread1, 0); pthread_join(thread2, 0); pthread_join(thread3, 0); pthread_mutex_destroy(\u0026amp;myMutex); return 0; } Mechanism for Removing Race Conditions Locking (pthread_mutex_lock): Before each modification of counter, the thread attempts to acquire the mutex. If the mutex is already held by another thread, the current thread will block until the mutex is released. Unlocking (pthread_mutex_unlock): After modifying counter, the thread releases the mutex, allowing other waiting threads to acquire the lock and proceed with their execution. Trade-offs and Consequences Performance Impact: The use of mutexes introduces synchronization overhead. Acquiring and releasing locks takes time, especially in high-contention environments, where frequent locking operations can lead to significant performance bottlenecks. Reduced Scalability: As the number of threads increases, contention for locks can become more frequent, further impacting the program\u0026rsquo;s scalability. Mutexes can become a bottleneck in scenarios where many threads try to access the same resource, limiting the programâ€™s ability to scale on multiprocessor systems. Risk of Deadlocks: Although unlikely in this simple example, improper use of locks in more complex applications (such as acquiring multiple locks in an incorrect order) can lead to deadlocks, causing the program to hang or crash. Lab05 Difference between replication and workshare Replication refers to duplicating the same computational tasks across multiple processors or computing nodes. In this strategy, every node or processor performs exactly the same code and operations, typically used to enhance fault tolerance and reliability. For example, in a high-availability system, multiple servers might replicate the same request processing tasks to ensure that if one server fails, others can seamlessly take over, thereby improving the overall availability of the system. Workshare involves dividing a larger task into smaller chunks, which are then distributed among multiple processors or nodes for parallel execution. Each processor is responsible for a portion of the overall task. This method effectively utilizes the parallel processing capabilities of multicore or multi-node systems to enhance computational efficiency. For example, in parallel loops, iterations of the loop can be distributed among several processors, with each processor handling a segment of the iterations. Lab06 What is race condition? A condition where the program\u0026rsquo;s behaviour changes depending on the sequence or timing of events outside the control of the program, non-deterministic results. What is false sharing? False sharing occurs when 2 threads are accessing the same cache line. When one thread modifies a variable in the cache line, the cache line is considered stale due to how cache lines are designed for serial code. Because of this, data can be stored in. ","permalink":"https://martinspace.top/zh/comp328/","summary":"Week1 é«˜æ€§èƒ½è®¡ç®—çš„ç›®æ ‡ å¯¹äºæœ‰é™çš„æ•°æ®é›†ï¼Œæœ€å°åŒ–è§£å†³æ—¶é—´ å¯¹äºæ— é™çš„æ•°æ®é›†ï¼Œæœ€å¤§åŒ–ååé‡(throughput) æœ‰èƒ½åŠ›è§£å†³ä¸€äº›å¯¹äºå¯ç”¨çš„å†…å­˜æ¥è¯´å¤ªå¤§","title":"é«˜æ€§èƒ½è®¡ç®—(COMP328)"},{"content":"SYDNEY \u003c!DOCTYPE html\u003e City walk Bondi beach With babyğŸ˜ Sydney opera house GOLD COAST \u003c!DOCTYPE html\u003e Francis FavouriteğŸ˜† surfers paradise With babyğŸ˜ Parasail ğŸ˜ MELBOURNE \u003c!DOCTYPE html\u003e With Baby ğŸ˜ ","permalink":"https://martinspace.top/zh/australia/","summary":"SYDNEY \u003c!DOCTYPE html\u003e City walk Bondi beach With babyğŸ˜ Sydney opera house GOLD COAST \u003c!DOCTYPE html\u003e Francis FavouriteğŸ˜† surfers paradise With babyğŸ˜ Parasail ğŸ˜ MELBOURNE \u003c!DOCTYPE html\u003e With Baby ğŸ˜","title":"æ¾³å¤§åˆ©äºš"},{"content":"2023å¹´5æœˆ7æ—¥ ä¸ºåŒä¸€ä¸ªæ–‡ä»¶æ·»åŠ å¤šç§æ–‡ä»¶æ ¼å¼ \u0026lt;video controls\u0026gt; \u0026lt;source src=\u0026#34;html_5.mp4\u0026#34; type=\u0026#34;video/mp4\u0026#34;\u0026gt; \u0026lt;source src=\u0026#34;html_5.ogv\u0026#34; type=\u0026#34;video/ogg\u0026#34;\u0026gt; Your browser does not support the video tag. \u0026lt;/video\u0026gt; ä¸ºä»€ä¹ˆè¦æ·»åŠ å¤šç§æ ¼å¼ï¼Ÿ\nè§£å†³å¤‡ä»½æ”¯æŒå’Œåª’ä½“æ”¯æŒ ä»€ä¹ˆæ˜¯å¤‡ä»½æ”¯æŒå’Œåª’ä½“æ”¯æŒï¼Ÿ\nå¤‡ä»½æ”¯æŒï¼šæä¾›æ›¿ä»£æ–¹æ¡ˆï¼Œä¸€èˆ¬æ˜¯ç›¸åŒçš„æµè§ˆå™¨ï¼Œç‰ˆæœ¬æ›´è€çš„ä¸€ä»£éœ€è¦è¿™ä¸ªæ›¿ä»£æ–¹æ¡ˆã€‚ åª’ä½“æ”¯æŒï¼šéœ€è¦æä¾›å¤šç§æ ¼å¼çš„æ”¯æŒæ¥é€‚åº”ä¸åŒçš„æµè§ˆå™¨ã€‚ æ ‡ç­¾ \u0026lt;audio\u0026gt; ä¸ \u0026lt;/audio\u0026gt; ä¹‹é—´æ’å…¥çš„å†…å®¹ä¸æ˜¯ç”¨æ¥è§£é‡Šæ§ä»¶çš„ï¼Œè€Œæ˜¯åœ¨æµè§ˆå™¨ä¸æ”¯æŒaudioæ ‡ç­¾æ—¶æ˜¾ç¤ºçš„æ–‡å­—ã€‚ å½“ \u0026lt;video\u0026gt; æ ‡ç­¾ä¸­åŒ…å« controls å±æ€§æ—¶ï¼Œæµè§ˆå™¨å°†è‡ªåŠ¨ä¸ºè§†é¢‘æ’­æ”¾å™¨æä¾›ä¸€ç»„é»˜è®¤çš„æ§åˆ¶é€‰é¡¹ã€‚ç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ§åˆ¶è§†é¢‘çš„æ’­æ”¾ã€‚ \u0026lt;datalist\u0026gt; æ ‡ç­¾ä¸ \u0026lt;input\u0026gt; æ ‡ç­¾ç»“åˆä½¿ç”¨ï¼Œå¯ä»¥ä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªé¢„å®šä¹‰çš„é€‰é¡¹åˆ—è¡¨ã€‚ \u0026lt;input list=\u0026#34;fruits\u0026#34; id=\u0026#34;fruit\u0026#34; name=\u0026#34;fruit\u0026#34;\u0026gt; \u0026lt;datalist id=\u0026#34;fruits\u0026#34;\u0026gt; \u0026lt;option value=\u0026#34;Apple\u0026#34;\u0026gt; \u0026lt;option value=\u0026#34;Banana\u0026#34;\u0026gt; \u0026lt;/datalist\u0026gt; å½“ \u0026lt;progress\u0026gt; æ ‡ç­¾æ²¡æœ‰è®¾ç½® max å’Œ value å±æ€§æ—¶ï¼Œå®ƒä¼šæ˜¾ç¤ºä¸€ä¸ªä¸ç¡®å®šè¿›åº¦çš„æ»šåŠ¨æ¡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿›åº¦æ¡çš„åŠ¨ç”»å°†è‡ªåŠ¨æ»‘åŠ¨ï¼Œä½†æ— æ³•æ˜¾ç¤ºå…·ä½“çš„è¿›åº¦å€¼ã€‚ \u0026lt;progress value=\u0026#34;50\u0026#34; max=\u0026#34;100\u0026#34;\u0026gt;\u0026lt;/progress\u0026gt; DHTML DHTMLï¼ˆDynamic HTMLï¼‰æ˜¯ä¸€ç§å°† HTMLã€CSSã€JavaScript ç­‰æŠ€æœ¯ç»“åˆèµ·æ¥ï¼Œä»¥åˆ›å»ºåŠ¨æ€ã€äº¤äº’å¼ç½‘é¡µçš„æŠ€æœ¯ç»„åˆã€‚ DHTMLå®ç°äº†ç½‘é¡µä»WebæœåŠ¡å™¨ä¸‹è½½åæ— éœ€å†ç»è¿‡æœåŠ¡çš„å¤„ç†ï¼Œè€Œåœ¨æµè§ˆå™¨ä¸­ç›´æ¥åŠ¨æ€åœ°æ›´æ–°ç½‘é¡µçš„å†…å®¹ã€æ’ç‰ˆæ ·å¼å’ŒåŠ¨ç”»çš„åŠŸèƒ½ DOMå…ƒç´ å¸¦æœ‰IDå±æ€§ å”¯ä¸€æ€§ï¼šID å¿…é¡»åœ¨æ•´ä¸ª HTML æ–‡æ¡£ä¸­æ˜¯å”¯ä¸€çš„ã€‚å¦‚æœæœ‰å¤šä¸ªå…ƒç´ å…·æœ‰ç›¸åŒçš„ IDï¼Œå°†å¯¼è‡´ JavaScript åœ¨è®¿é—®å…ƒç´ æ—¶å‡ºç°é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´æ„å¤–è¡Œä¸ºã€‚å› æ­¤ï¼Œåœ¨ä¸ºå…ƒç´ åˆ†é… ID æ—¶ï¼Œç¡®ä¿ä¸ä¼šé‡å¤ã€‚ æ ·å¼æ±¡æŸ“ï¼šå¦‚æœæ‚¨çš„ CSS ä½¿ç”¨ ID é€‰æ‹©å™¨ä¸ºå…ƒç´ åº”ç”¨æ ·å¼ï¼Œè¿™å¯èƒ½å¯¼è‡´æ ·å¼æ±¡æŸ“é—®é¢˜ã€‚ID é€‰æ‹©å™¨å…·æœ‰è¾ƒé«˜çš„ä¼˜å…ˆçº§ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å…¶ä»– CSS è§„åˆ™æ— æ³•è¦†ç›– ID é€‰æ‹©å™¨çš„æ ·å¼ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‚¨å¯ä»¥è€ƒè™‘ä½¿ç”¨ CSS ç±»é€‰æ‹©å™¨æ¥åº”ç”¨æ ·å¼ï¼Œä»¥ä¾¿æ›´å®¹æ˜“åœ°æ§åˆ¶å’Œè¦†ç›–æ ·å¼ã€‚ JavaScript æ€§èƒ½ï¼šå½“ä½¿ç”¨ JavaScript æŸ¥è¯¢å…·æœ‰ç‰¹å®š ID çš„å…ƒç´ æ—¶ï¼Œæœ€å¥½ä½¿ç”¨ document.getElementById() æ–¹æ³•ï¼Œå› ä¸ºè¿™æ˜¯æœ€å¿«çš„æŸ¥è¯¢æ–¹å¼ã€‚ä½¿ç”¨å…¶ä»–æŸ¥è¯¢æ–¹æ³•ï¼Œå¦‚ document.querySelector() æˆ– document.querySelectorAll()ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¾ƒæ…¢çš„æŸ¥è¯¢æ€§èƒ½ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å‹çš„ DOM ç»“æ„ä¸­ã€‚ ä¸ç°æœ‰ä»£ç å†²çªï¼šåœ¨å¼€å‘å¤§å‹åº”ç”¨ç¨‹åºæˆ–ä¸å…¶ä»–äººåä½œæ—¶ï¼Œå¦‚æœä¸æ³¨æ„å‘½åçº¦å®šå’Œå”¯ä¸€æ€§ï¼Œç»™å…ƒç´ åˆ†é… ID å¯èƒ½ä¼šå¯¼è‡´ä¸ç°æœ‰ä»£ç å†²çªã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥é‡‡ç”¨ä¸€è‡´çš„å‘½åè§„åˆ™å’Œç¡®ä¿ ID å”¯ä¸€æ€§çš„æ–¹æ³•æ¥é¿å…æ½œåœ¨å†²çªã€‚ 2023å¹´5æœˆ8æ—¥ ä»Šå¤©åˆ·äº†å‡ é“reactçš„é¢˜ï¼Œè®°å½•ä¸€ä¸‹\nstateå’Œprops stateå’Œpropséƒ½å¯ä»¥æ§åˆ¶ç»„ä»¶çš„æ¸²æŸ“è¾“å‡º propså’Œstateéƒ½æ˜¯æ™®é€šçš„JavaScriptå¯¹è±¡ Error boundaries é”™è¯¯è¾¹ç•Œ Error boundariesæ˜¯ä¸€ç§reactç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶å¯ä»¥æ•è·å¹¶å¤„ç†å­ç»„ä»¶æ ‘å‘ç”Ÿçš„JSé”™è¯¯ï¼Œå½“å‘ç”Ÿé”™è¯¯æ—¶ï¼Œé”™è¯¯è¾¹ç•Œç»„ä»¶å¯ä»¥æ•è·é”™è¯¯ï¼Œå±•ç¤ºä¸€ä¸ªå¤‡ç”¨ UIï¼Œä»è€Œé¿å…æ•´ä¸ªåº”ç”¨å´©æºƒã€‚ é”™è¯¯è¾¹ç•Œä»…é€‚ç”¨äºæ•è·ç»„ä»¶æ¸²æŸ“é˜¶æ®µã€ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å’Œæ„é€ å‡½æ•°ä¸­çš„é”™è¯¯ã€‚å®ƒæ— æ³•æ•è·äº‹ä»¶å¤„ç†ç¨‹åºæˆ–å¼‚æ­¥ä»£ç ä¸­çš„é”™è¯¯ã€‚ è¦å°†ä¸€ä¸ªç»„ä»¶å˜æˆé”™è¯¯è¾¹ç•Œï¼Œéœ€è¦åœ¨è¯¥ç»„ä»¶å†…å®šä¹‰ componentDidCatch(error, info) æˆ– static getDerivedStateFromError(error) ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¹‹ä¸€ã€‚ componentDidCatch(error, info) æ‰“å°é”™è¯¯ä¿¡æ¯ï¼Œå¦‚æ—¥å¿—è®°å½•æˆ–å‘æœåŠ¡å™¨æŠ¥å‘Šé”™è¯¯ã€‚è¿™ä¸ªæ–¹æ³•ä¸ä¼šæ”¹å˜ç»„ä»¶çŠ¶æ€ã€‚ static getDerivedStateFromError(error) æ–¹æ³•ç”¨äºåœ¨å‘ç”Ÿé”™è¯¯æ—¶æ›´æ–°ç»„ä»¶çŠ¶æ€ï¼Œä»¥ä¾¿æ ¹æ®é”™è¯¯ä¿¡æ¯æ¸²æŸ“å¤‡ç”¨UIã€‚ Reactå‰ªè´´æ¿äº‹ä»¶ onCopyï¼ŒonCutï¼ŒonPaste Portalçš„å†’æ³¡é€»è¾‘ Portal æ˜¯ä¸€ç§ç‰¹æ®Šçš„æŠ€æœ¯ï¼Œå®ƒå…è®¸å°†å­ç»„ä»¶æ¸²æŸ“åˆ°çˆ¶ç»„ä»¶ä»¥å¤–çš„ DOM èŠ‚ç‚¹ å½“ä½¿ç”¨ ReactDOM.createPortal(child, container) æ¸²æŸ“å­èŠ‚ç‚¹æ—¶ï¼Œå°½ç®¡å­èŠ‚ç‚¹è¢«æ¸²æŸ“åˆ°çˆ¶ç»„ä»¶ä»¥å¤–çš„ DOM èŠ‚ç‚¹ä¸Šï¼Œä½†å®ƒåœ¨ React ç»„ä»¶æ ‘ä¸­ä»ç„¶è¢«è®¤ä¸ºæ˜¯çˆ¶ç»„ä»¶çš„å­èŠ‚ç‚¹ã€‚ å½“é€šè¿‡ Portal è¿›è¡Œäº‹ä»¶å†’æ³¡æ—¶ï¼Œäº‹ä»¶å°†æ²¿ç€ React ç»„ä»¶æ ‘å‘ä¸Šå†’æ³¡ï¼Œè€Œä¸æ˜¯ DOM æ ‘ã€‚ åœ¨äº‹ä»¶å†’æ³¡è¿‡ç¨‹ä¸­ï¼Œäº‹ä»¶å°†ç»§ç»­å‘çˆ¶ç»„ä»¶å’Œå…¶ä»–ç¥–å…ˆç»„ä»¶ä¼ æ’­ï¼Œå°±åƒå­èŠ‚ç‚¹ç›´æ¥æŒ‚è½½åœ¨çˆ¶ç»„ä»¶å†…éƒ¨ä¸€æ ·ã€‚è¿™æ˜¯ React äº‹ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒä¿è¯äº†ç»„ä»¶æ ‘ä¸­çš„äº‹ä»¶è¡Œä¸ºçš„ä¸€è‡´æ€§ï¼Œè€Œä¸å— DOM ç»“æ„çš„å½±å“ã€‚ useEffect useEffect()æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯å›è°ƒå‡½æ•°ï¼Œä¸€ä¸ªæ˜¯ä¾èµ–é¡¹æ•°ç»„ã€‚åªæœ‰å½“ä¾èµ–é¡¹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°æ‰æ‰§è¡Œ useEffect å¯ä»¥æ¨¡æ‹Ÿä¸åŒçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•(componentDidMountï¼ŒcomponentDidUpdate, componentWillUnmount) 2023å¹´5æœˆ13æ—¥ å‰å‡ å¤©åœ¨èµ¶dueï¼Œæ²¡æ—¶é—´åˆ·é¢˜ï¼Œç»ˆäºç©ºä¸‹æ¥ï¼Œåˆåˆ·äº†å‡ é“é¢˜\nJSX ä½¿ç”¨JSXå†™çš„ä»£ç æœ€ç»ˆä¼šè½¬æ¢æˆä½¿ç”¨React.createElement()çš„å½¢å¼ï¼ŒReact.createElementï¼šåˆ›å»ºå¹¶è¿”å›æŒ‡å®šç±»å‹çš„æ–°Reactå…ƒç´ ã€‚ Reactæ”¯æŒçš„è§¦æ‘¸äº‹ä»¶ Reactæ”¯æŒçš„è§¦æ‘¸äº‹ä»¶æœ‰onTouchCancelï¼ŒonTouchEndï¼ŒonTouchMoveï¼ŒonTouchStart Reduxä¸­çš„store ä¸å­˜åœ¨store.createStoreæ–¹æ³•ï¼Œstoreå¯ä»¥ä½¿ç”¨Reduxæä¾›çš„createStoreç”Ÿæˆ store.getState() // è·å–çŠ¶æ€ store.dispatch({ type: xxx, data: xxx }) // åˆ†å‘åŠ¨ä½œå¯¹è±¡ store.subscribe(() =\u0026gt; console.log(\u0026#39;@\u0026#39;)) // è®¾ç½®ç›‘å¬å‡½æ•°ï¼Œä¸€æ—¦ State å‘ç”Ÿå˜åŒ–ï¼Œå°±è‡ªåŠ¨æ‰§è¡Œè¿™ä¸ªå‡½æ•° ","permalink":"https://martinspace.top/zh/front-end/","summary":"2023å¹´5æœˆ7æ—¥ ä¸ºåŒä¸€ä¸ªæ–‡ä»¶æ·»åŠ å¤šç§æ–‡ä»¶æ ¼å¼ \u0026lt;video controls\u0026gt; \u0026lt;source src=\u0026#34;html_5.mp4\u0026#34; type=\u0026#34;video/mp4\u0026#34;\u0026gt; \u0026lt;source src=\u0026#34;html_5.ogv\u0026#34; type=\u0026#34;video/ogg\u0026#34;\u0026gt; Your browser does not support the video tag. \u0026lt;/video\u0026gt; ä¸ºä»€ä¹ˆè¦æ·»åŠ å¤šç§æ ¼å¼ï¼Ÿ è§£å†³å¤‡ä»½æ”¯æŒå’Œåª’ä½“æ”¯æŒ ä»€ä¹ˆæ˜¯å¤‡ä»½æ”¯æŒå’Œ","title":"å‰ç«¯åˆ·é¢˜ç¬”è®°"},{"content":"Barcelona \u003c!DOCTYPE html\u003e London Tenerife \u003c!DOCTYPE html\u003e London ","permalink":"https://martinspace.top/zh/spain/","summary":"Barcelona \u003c!DOCTYPE html\u003e London Tenerife \u003c!DOCTYPE html\u003e London","title":"è¥¿ç­ç‰™"},{"content":"ä¸Šæ˜ŸæœŸè¢«ç®—æ³•è¯¾è€ƒè¯•ç‹ ç‹ æ‹·æ‰“ï¼Œç—›æ€æ‚”è¿‡ä¸€å°æ—¶ã€‚å‘ç°è‡ªå·±å­¦ä¹ ç®—æ³•ç¼ºä¹å®é™…æ“ä½œï¼ŒåªçŸ¥ç†è®ºï¼Œæ“ä½œç”šå°‘ï¼Œå¯¼è‡´å¯¹ç†è®ºçš„ç†è§£ä¹Ÿååˆ†æµ…æ˜¾ã€‚\næ‰€ä»¥ä»åŸºç¡€æ•°æ®ç»“æ„å¼€å§‹ï¼Œé‡æ–°ç³»ç»Ÿå­¦ä¹ ç®—æ³•ï¼Œåœ¨è¿™é‡Œè®°å½•å­¦ä¹ çš„è¿‡ç¨‹ã€‚\nStacks and Queue éå¸¸ç®€å•çš„ä¸¤ä¸ªæ¦‚å¿µã€‚æ ˆå°±æ˜¯åè¿›å…ˆå‡ºï¼Œé˜Ÿåˆ—æ˜¯å…ˆè¿›å…ˆå‡ºã€‚æ ˆå’Œé˜Ÿåˆ—éƒ½æ˜¯ä¾é æ•°ç»„å®ç°ï¼Œåªä¸è¿‡æ˜¯ç”¨ä¸Šäº†æŒ‡é’ˆï¼Œä½¿å…¶æ•ˆæœçœ‹èµ·æ¥åƒæ˜¯æ ˆæˆ–é˜Ÿåˆ—ã€‚ æ¯”å¦‚å¼¹å‡ºæ“ä½œã€‚æ•°ç»„A[1,2,3,4,5,6]ï¼Œå¼¹å‡ºä½ç½®6å¤„çš„å…ƒç´ ï¼Œå¹¶ä¸æ˜¯ä½ç½®6çœŸçš„åœ¨è¿™ä¸ªç»“æ„ä¸­æ¶ˆå¤±äº†ï¼Œè€Œæ˜¯å®šä¹‰äº†ä¸€ä¸ªæŒ‡é’ˆï¼Œå½“pop(A)çš„æ—¶å€™ï¼Œå°†æŒ‡é’ˆå‘å‰æŒªä¸€ä½åˆ°5ã€‚\næ ˆä¸­ä¸»è¦æœ‰ä¸‰ä¸ªæ–¹æ³•ï¼špushï¼ˆæ¨å…¥æ ˆï¼‰ï¼Œpopï¼ˆå¼¹å‡ºæ ˆï¼‰ï¼Œè¿˜æœ‰åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©ºï¼Œå› ä¸ºæ ˆä¸ºç©ºäº†å°±ä¸èƒ½è¿›è¡Œpopæ“ä½œäº†ã€‚\nä¼ªä»£ç ä¹Ÿå¾ˆå¥½ç†è§£ğŸ‘‡\nSTACK-EMPTY(S) // S.topè¡¨ç¤ºæ ˆé¡¶å…ƒç´ ï¼Œåœ¨æ•°ç»„çš„æœ«å°¾ã€‚ if S.top==0 return true else return false PUSH(S, x) S.top=S.top+1 S[S.top]=x POP(S) if STACK-EMPTY(S) error \u0026#34;underflow\u0026#34; else S.top=S.top-1 return S[S.top+1] é˜Ÿåˆ—\né˜Ÿåˆ—å’Œæ ˆéå¸¸ç›¸ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ•°ç»„ã€‚å’Œæ ˆä¸åŒçš„æ˜¯ï¼Œé˜Ÿåˆ—æœ‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘é˜Ÿåˆ—å¤´éƒ¨ä¸€ä¸ªæŒ‡å‘é˜Ÿåˆ—å°¾éƒ¨ï¼ˆå¤´éƒ¨æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå°¾éƒ¨æŒ‡å‘çš„æ˜¯æœ€åä¸€ä¸ªå…ƒç´ çš„åé¢ä¸€ä¸ªä½ç½®ï¼‰ã€‚å½“æ’å…¥ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œé˜Ÿåˆ—çš„å°¾éƒ¨+1ï¼Œå½“åˆ é™¤ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œé˜Ÿåˆ—çš„å¤´éƒ¨+1ã€‚ å½“é˜Ÿåˆ—çš„å¤´å’Œå°¾ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„ç´¢å¼•ä½ç½®ç›¸åŒæ—¶ï¼Œé˜Ÿåˆ—ä¸ºç©ºï¼Œè¿™æ˜¯å†æƒ³æ‹¿å‡ºæ¥å…ƒç´ ï¼Œå°±ä¼šunderflowã€‚å½“å¤´éƒ¨æŒ‡é’ˆ=å°¾éƒ¨æŒ‡é’ˆ+1 æˆ– å¤´éƒ¨=1ï¼Œå°¾éƒ¨=æ•°ç»„é•¿åº¦ï¼Œé‚£ä¹ˆé˜Ÿåˆ—å°±æ˜¯æ»¡è½½çš„ã€‚è¿™æ˜¯æƒ³å†æ’å…¥æ•°æ®ï¼Œå°±ä¼šoverflowã€‚\n//è¿™é‡Œæš‚æ—¶çœç•¥åˆ¤æ–­underflowå’Œoverflowçš„é€»è¾‘ // ENQUEUE å‘é˜Ÿåˆ—ä¸­æ’å…¥æ•°æ® ENQUEUE(Q, x) Q[Q.tail] = x if Q.tail == Q.length // åˆ¤æ–­æ˜¯å¦æ»¡è½½ï¼Œæ»¡è½½æŠŠå°¾éƒ¨ç´¢å¼•è®¾ç½®å›åˆ°å¤´éƒ¨ï¼Œæç¤ºæ»¡è½½ Q.tail = 1 else Q.tail = Q.tail+1 //DEQUEUE ä»é˜Ÿåˆ—ä¸­åˆ é™¤æ•°æ® DEQUEUE(Q) x = Q[Q.head] if Q.head==Q.length Q.head = 1 else Q.head = Q.head+1 return x æ ˆå’Œé˜Ÿåˆ—çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åœ¨O(1)æ—¶é—´å†…\nLinked lists é“¾è¡¨æ˜¯ä¸€ç§å°†å¯¹è±¡ä»¥çº¿æ€§é¡ºåºæ’åˆ—çš„æ•°æ®ç»“æ„ã€‚å’Œæ•°ç»„ä¸åŒï¼Œæ•°ç»„æ˜¯ä»¥ç´¢å¼•æ¥å®šä¹‰çº¿æ€§é¡ºåºã€‚è€Œé“¾è¡¨ä¸­çš„é¡ºåºæ˜¯æœ‰æ¯ä¸ªå¯¹è±¡ä¸Šçš„æŒ‡é’ˆå†³å®šçš„ã€‚ç°åœ¨ä½¿ç”¨çš„éƒ½æ˜¯åŒå‘é“¾è¡¨ï¼ŒåŒ…å«å‰å(prev, next)ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¦ä½¿åˆ—è¡¨ä¿æŒå®Œæ•´ï¼Œæ’å…¥çš„æ—¶å€™prevå’Œnextè¦åˆ†åˆ«èµ‹å€¼ä¸€æ¬¡å’Œè¢«èµ‹å€¼ä¸€æ¬¡ã€‚å½“x.nextä¸ºç©ºæ—¶ï¼Œè¯´æ˜xæ˜¯é“¾è¡¨çš„å°¾éƒ¨å…ƒç´ ï¼Œå½“x.prevä¸ºç©ºæ—¶ï¼Œè¯´æ˜xæ˜¯é“¾è¡¨çš„å¤´éƒ¨å…ƒç´ ã€‚\né“¾è¡¨è¿˜æœ‰å•å‘é“¾æ¥çš„ï¼Œè¿™è¿˜åˆ†ä¸ºæœ‰åºå’Œæ— åºã€‚è¿˜æœ‰å¾ªç¯é“¾æ¥çš„ï¼Œå°±æ˜¯å¤´éƒ¨å…ƒç´ çš„prevæŒ‡é’ˆä¸æŒ‡å‘ç©ºï¼Œè€Œæ˜¯æŒ‡å‘å°¾éƒ¨å…ƒç´ ã€‚\n//kè¡¨ç¤ºkeyï¼Œå°±æ˜¯èŠ‚ç‚¹çš„å€¼ï¼Œxè¡¨ç¤ºæ•´ä¸ªèŠ‚ç‚¹ LIST-SEARCH(L, k) x = L.head while x is not NULL and x.key is not k x = x.next return x searchçš„å¤æ‚åº¦æ˜¯Î˜(n),å› ä¸ºæœ€åæƒ…å†µå¯èƒ½è¦éå†æ•´ä¸ªé“¾è¡¨å…ƒç´ \n//æ’å…¥æ“ä½œæ˜¯å°†xæ’åœ¨é“¾è¡¨çš„å¤´éƒ¨ï¼Œè€Œä¸æ˜¯å°¾éƒ¨ã€‚ LIST-INSERT(L, x) x.next = L.head //åŸæ¥é“¾è¡¨çš„å¤´éƒ¨èµ‹å€¼åˆ°x.next if L.head is not NIL L.head.prev = x //æŠŠxèµ‹å€¼åˆ°é“¾è¡¨å¤´éƒ¨.prevä¸Šï¼Œè¿™æ ·æ‰å®Œæ•´ L.head = x //å°†å¤´éƒ¨è®¾ç½®æˆx x.prev = NIL //å°†x.prevè®¾ç½®ä¸ºç©º insertçš„å¤æ‚åº¦ä¸ºO(1)ã€‚ä¸ç”¨è¿‡å¤šè§£é‡Šäº†\nåˆ é™¤æ“ä½œä¹‹å‰ï¼Œåº”è¯¥è°ƒç”¨searchæ‰¾åˆ°æƒ³è¦åˆ é™¤çš„keyçš„ä½ç½®ã€‚æ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯Î˜(n)ï¼Œå› ä¸ºåˆ é™¤ä¹‹å‰é€šå¸¸è¦search\nLIST-DELETE if x.prev is not NIL x.prev.next = x.next else L.head = x.next if x.next is not NIL x.next.prev = x.prev å¯¹äºåˆ é™¤æ“ä½œï¼Œè¦å¤šè¯´ä¸€ä¸‹å…³äºx.prev.next = x.nextã€‚ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨x=x.next?\nç°åœ¨å·²çŸ¥ä¸€ä¸ªåˆ—è¡¨1-\u0026gt;2-\u0026gt;3-\u0026gt;4-\u0026gt;5ï¼Œå¦‚æœåˆ é™¤æ“ä½œä¸­ä»£ç æ˜¯x=x.nextï¼Œé‚£ä¹ˆç»“æœä¼šå˜æˆ1-\u0026gt;2-\u0026gt;4-\u0026gt;4-\u0026gt;5ï¼Œæˆ‘ä»¬æƒ³è¦çš„ç»“æœæ˜¯1-\u0026gt;2-\u0026gt;4-\u0026gt;5ã€‚è¿™å°±è¯´æ˜3å¤„çš„èŠ‚ç‚¹ä¾ç„¶å­˜åœ¨ï¼Œå¹¶æ²¡æœ‰è¢«è·³è¿‡ã€‚è€Œä½¿ç”¨x.prev.next = x.nextçš„æ„æ€æ˜¯ï¼Œå°†x.prevæŒ‡å‘çš„èŠ‚ç‚¹çš„nextä½ç½®ï¼Œèµ‹å€¼ç»™x.nextèŠ‚ç‚¹ã€‚è¿™æ ·æ˜¯å°†2å’Œ4ä¸¤ä¸ªèŠ‚ç‚¹è·³è¿‡3è¿æ¥èµ·æ¥äº†ã€‚\n","permalink":"https://martinspace.top/zh/basic-data-structures/","summary":"ä¸Šæ˜ŸæœŸè¢«ç®—æ³•è¯¾è€ƒè¯•ç‹ ç‹ æ‹·æ‰“ï¼Œç—›æ€æ‚”è¿‡ä¸€å°æ—¶ã€‚å‘ç°è‡ªå·±å­¦ä¹ ç®—æ³•ç¼ºä¹å®é™…æ“ä½œï¼ŒåªçŸ¥ç†è®ºï¼Œæ“ä½œç”šå°‘ï¼Œå¯¼è‡´å¯¹ç†è®ºçš„ç†è§£ä¹Ÿååˆ†æµ…æ˜¾ã€‚ æ‰€ä»¥ä»åŸºç¡€æ•°æ®ç»“æ„","title":"åŸºç¡€æ•°æ®ç»“æ„"},{"content":"ä»Šå¤©ä¸Šç®—æ³•è¯¾çš„tutorialï¼Œä¸»è¦æ˜¯è®²è´ªå©ªç®—æ³•ã€‚è€å¸ˆåœ¨è¯¾ä¸Šæåˆ°äº†canonical coins systemï¼Œä½†å¹¶æ²¡æœ‰æ·±å…¥è®²è§£ã€‚å›æ¥çœ‹äº†ä¸€ç¯‡è®ºæ–‡ï¼Œæ•´ä¸ªé—®é¢˜å¾ˆæœ‰æ„æ€ï¼Œå†™ä¸‹æ¥è®°å½•ä¸€ä¸‹ã€‚\nå¼•å…¥ ä»¥ä¸­å›½ä¸ºä¾‹ï¼Œæˆ‘ä»¬çš„è´§å¸ç³»ç»Ÿä¸­ï¼Œæœ‰1è§’ï¼Œ5è§’ï¼Œ1å…ƒï¼Œ5å…ƒï¼Œ10å…ƒï¼Œ20å…ƒï¼Œ50å…ƒï¼Œ100å…ƒè¿™å‡ ç§é¢å€¼ã€‚æˆ‘ä»¬çš„ç›®çš„æ˜¯ï¼Œå½“ç»™å®šä¸€ä¸ªéœ€è¦æ‰¾é›¶çš„å€¼ï¼Œæˆ‘ä»¬è¦ç”¨æœ€å°‘çš„è´§å¸æ•°é‡æ¥ç»„åˆæˆè¿™ä¸ªå€¼ã€‚ç”¨ä»€ä¹ˆç­–ç•¥èƒ½è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Ÿè´ªå©ªç®—æ³•æ˜¯å¦å¯¹æ¯ä¸€ç§è´§å¸ç³»ç»Ÿéƒ½æœ‰æœ€ä¼˜è§£ï¼Ÿè¿™æ˜¯è¦è®¨è®ºçš„é—®é¢˜ã€‚\nè¿™æ˜¯ä¸€ä¸ªNP-hardé—®é¢˜ï¼Œä½†æ˜¯åœ¨å¤§å¤šæ•°å›½å®¶æ‰€ä½¿ç”¨çš„è´§å¸ç³»ç»Ÿä¸­ï¼Œè´ªå©ªç®—æ³•æ˜¯ä¼šèµ·ä½œç”¨çš„ã€‚å³å…ˆæ‹¿æœ€å¤§çš„é¢å€¼å»åŒ¹é…ï¼Œç„¶åæ‹¿ç¬¬äºŒå¤§çš„\u0026hellip;\u0026hellip;ä½†æ˜¯å¾—åˆ°çš„åŸºæœ¬ä¸Šéƒ½ä¸æ˜¯æœ€ä¼˜è§£ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªè´§å¸ç³»ç»Ÿä¸­çš„åŸºç¡€é¢å€¼æœ‰{1, 3, 4}ï¼Œå¦‚æœæƒ³è¦æ‹¿å‡º6å—ã€‚ä½¿ç”¨è´ªå©ªç®—æ³•ä¼šæ‹¿å‡ºä¸€å¼ 4å’Œä¸¤å¼ 1ï¼Œè¿™æ˜¯ä¸‰å¼ é’ç¥¨ï¼Œä½†å®é™…ä¸Šæœ€ä¼˜è§£æ˜¯ä¸¤å¼ 3ã€‚\nä»€ä¹ˆæ˜¯Canonical coins system è´ªå¿ƒå’ŒåŠ¨æ€è§„åˆ’éƒ½å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªä¸è¿‡åœ¨æ—¶é—´å¤æ‚åº¦å’Œæ‰€å¾—ç»“æœä¸Šéœ€è¦æƒè¡¡\nè´ªå¿ƒï¼šè´ªå¿ƒç®—æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯ä¼˜å…ˆé€‰æ‹©é¢å€¼æœ€å¤§çš„ç¡¬å¸ï¼Œç›´åˆ°ç»„åˆæˆæ‰€éœ€é‡‘é¢ã€‚è´ªå¿ƒè¡¨ç¤ºçš„ä¼˜ç‚¹æ˜¯ç®—æ³•ç®€å•ï¼Œè®¡ç®—é€Ÿåº¦å¿«ï¼Œä½†ä¸ä¸€å®šèƒ½å¤Ÿå¾—åˆ°æœ€å°‘çš„ç¡¬å¸æ•°ã€‚ åŠ¨æ€è§„åˆ’ï¼šä¼˜ç‚¹æ˜¯å‡†ç¡®æ€§é«˜ï¼Œä½†ç®—æ³•å¤æ‚åº¦è¾ƒé«˜ã€‚å› ä¸ºå®ƒè¦æ±‚å¯¹æ‰€æœ‰å¯èƒ½çš„çŠ¶æ€è¿›è¡Œè®¡ç®—å’Œè®°å½•ï¼Œéœ€è¦æ¶ˆè€—å¤§é‡çš„è®¡ç®—å’Œç©ºé—´èµ„æºã€‚ è¯¦ç»†è¯´ä¸€ä¸‹\nç»™å®šä¸€ä¸ªè´§å¸ç³»ç»Ÿçš„é¢å€¼é›†åˆï¼Œæ˜¯ä¸€ä¸ªå‘é‡C=($c_1, c_2, c_3, \u0026hellip;, c_n$) ç»™å®šä¸€ä¸ªç³»æ•°é›†åˆï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå‘é‡V=($v_1, v_2, v_3, \u0026hellip;, v_n$) $C\\cdot V = x$, å³$x=\\sum_{i=1}^n v_ic_i$ ç»™å®š$C=(4,3,1), V=(v_1, v_2, v_3), x=24$, æ‰¾å‡ºå¯¹åº”çš„iå€¼\nè´ªå¿ƒï¼Œå°†æ¯ä¸ªvéƒ½å–å°½é‡å¤§ï¼Œé‚£ä¹ˆ$24=6\\times 4 + 0\\times 3 + 0\\times 1$ åŠ¨æ€è§„åˆ’ï¼Œè®¡ç®—å‡ºæ¯ä¸€ç§æƒ…å†µï¼Œç„¶åæ¯”è¾ƒï¼Œçœ‹é‚£ç§æƒ…å†µéœ€è¦çš„è´§å¸æ•°é‡æœ€å°‘ã€‚ å› æ­¤ï¼Œä»¤G(x)æ˜¯ç”¨è´ªå¿ƒè®¡ç®—å‡ºçš„ç»“æœï¼Œä»¤M(x)è¡¨ç¤ºåŠ¨æ€è§„åˆ’è®¡ç®—å‡ºçš„ç»“æœï¼ˆå°±æ˜¯æœ€ä¼˜çš„ç»“æœï¼‰ã€‚å¦‚æœG(x)=M(x)ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°è¿™å¥—è´§å¸ç³»ç»Ÿä¸ºCanonical coins systemï¼ˆç»å…¸è´§å¸ç³»ç»Ÿï¼‰ã€‚\næ—¶é—´å¤æ‚åº¦åˆ†æ å¯¹äºM(w)ï¼Œå®šä¹‰iæ˜¯ç¬¬1ä¸ªéé›¶çš„ç³»æ•°ï¼Œjæ˜¯æœ€åä¸€ä¸ªéé›¶çš„ç³»æ•°ã€‚ç³»æ•°çš„æ’åˆ—æ˜¯è¿™ç§ç±»å‹{$0, 0, m_i, m_{i+1}, \u0026hellip;, m_j, 0,0$}ã€‚\né‚£ä¹ˆåœ¨æ­¤å¼•å…¥ä¸€ä¸ªå®šç†ï¼Œåœ¨ç³»æ•°çš„ç¬¬1åˆ°ç¬¬j-1é¡¹ï¼ŒM(w)=G($c_{i-1}-1$)ã€‚å…·ä½“çš„è¯æ˜è¿‡ç¨‹å¯ä»¥åˆ°ReferenceæŒ‡å‘çš„æ–‡ç« ä¸­çœ‹ï¼Œè¿™é‡Œå°±ä¸å†™äº†ã€‚\né‚£ä¹ˆåœ¨ä¸€ä¸ªå›ºå®šçš„è´§å¸ç³»ç»Ÿä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“iå’Œjçš„å€¼ã€‚é‚£ä¹ˆå°±ä¼šæœ‰$O(n^2)$çš„æ—¶é—´å»åˆ†åˆ«æµ‹è¯•iå’Œjçš„å€¼ã€‚ä½†æ˜¯å®šç†æ˜¯éœ€è¦éªŒè¯çš„ï¼Œwå¿…é¡»æ˜¯æœ€å°çš„å€¼ä½¿å¾—$M(w)\u0026lt;G(w)$ï¼Œè¿™éœ€è¦O(n)çš„æ—¶é—´ã€‚å› æ­¤ï¼Œæ€»å…±éœ€è¦$O(n^3)$ã€‚\nReferenceğŸ‘‡\nA Polynomial-time Algorithm for the Change-Making Problem\n","permalink":"https://martinspace.top/zh/canonical-coins/","summary":"ä»Šå¤©ä¸Šç®—æ³•è¯¾çš„tutorialï¼Œä¸»è¦æ˜¯è®²è´ªå©ªç®—æ³•ã€‚è€å¸ˆåœ¨è¯¾ä¸Šæåˆ°äº†canonical coins systemï¼Œä½†å¹¶æ²¡æœ‰æ·±å…¥è®²è§£ã€‚å›æ¥çœ‹äº†ä¸€ç¯‡è®ºæ–‡ï¼Œæ•´ä¸ª","title":"Canonical coins system"},{"content":"Rè¯­è¨€åŸºç¡€ï¼ˆW1ï¼‰ åŸºæœ¬æ•°æ®ç±»å‹ character(string) logical(boolean) numeric(number) factors(categories) factorsè¡¨ç¤ºåˆ†ç±»ï¼Œå°†åˆ†ç±»æ•°æ®å­˜å‚¨ä¸ºæ•´æ•°å‘é‡ã€‚ä¸‹é¢ç”¨ä»£ç è§£é‡Š\n# åˆ›å»ºä¸€ä¸ªæ€§åˆ«çš„factor \u0026gt; gender \u0026lt;- factor(c(\u0026#34;ç”·\u0026#34;, \u0026#34;å¥³\u0026#34;, \u0026#34;å¥³\u0026#34;, \u0026#34;ç”·\u0026#34;, \u0026#34;ç”·\u0026#34;)) # æ˜¾ç¤ºgenderå¯¹è±¡çš„æ°´å¹³(åˆ†ç±») \u0026gt; levels(gender) [1] \u0026#34;å¥³\u0026#34; \u0026#34;ç”·\u0026#34; # æ˜¾ç¤ºgenderå¯¹è±¡çš„æ‘˜è¦ä¿¡æ¯ \u0026gt; summary(gender) å¥³ ç”· 2 3 # æ˜¾ç¤ºgenderå¯¹è±¡ä¸­æ¯ä¸ªæ°´å¹³çš„è®¡æ•° \u0026gt; table(gender) gender å¥³ ç”· 2 3 iså’Œasçš„åŒºåˆ« is.***()å‡½æ•°ç”¨äºåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å±äºæŸä¸ªç‰¹å®šçš„ç±»åˆ«ï¼Œè¿”å›ä¸€ä¸ªé€»è¾‘å€¼ã€‚ as.***()å‡½æ•°åˆ™ç”¨äºå°†ä¸€ä¸ªå¯¹è±¡è½¬æ¢ä¸ºæŒ‡å®šçš„ç±»åˆ«ï¼Œè¿”å›ä¸€ä¸ªè½¬æ¢åçš„å¯¹è±¡ã€‚ vectorå’Œlistçš„åŒºåˆ« ç±»å‹ï¼š vectoræ˜¯ä¸€ç§ç®€å•çš„æ•°æ®ç»“æ„ï¼Œå…¶ä¸­æ‰€æœ‰å…ƒç´ å¿…é¡»æ˜¯ç›¸åŒçš„ç±»å‹ã€‚ listæ˜¯ä¸€ç§å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å¯¹è±¡ã€‚ é•¿åº¦ï¼š vectorå¿…é¡»æ˜¯ä¸€ä¸ªå›ºå®šé•¿åº¦ï¼Œä¸€æ—¦åˆ›å»ºå°±ä¸èƒ½æ›´æ”¹ã€‚ listçš„é•¿åº¦æ˜¯å¯å˜çš„ï¼Œå¯ä»¥éšæ—¶æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ã€‚ ç´¢å¼•ï¼š vectorä¸­çš„å…ƒç´ å¯ä»¥ä½¿ç”¨æ•´æ•°ç´¢å¼•æ¥è®¿é—®ï¼Œä¾‹å¦‚x[1]è¡¨ç¤ºè®¿é—®xä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ listä¸­çš„å…ƒç´ å¯ä»¥ä½¿ç”¨åç§°æˆ–ä½ç½®ç´¢å¼•æ¥è®¿é—®ï¼Œä¾‹å¦‚x[[1]]è¡¨ç¤ºè®¿é—®xä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œx[[\u0026quot;name\u0026quot;]]è¡¨ç¤ºè®¿é—®xä¸­åç§°ä¸º\u0026quot;name\u0026quot;çš„å…ƒç´ ã€‚ å‡½æ•° ç»™ä¸€ä¸ªå‡½æ•°ï¼Œå†™æ³•å¦‚ä¸‹ã€‚æ˜¾ç„¶ï¼Œè¯¥å‡½æ•°æ˜¯è®¡ç®—è¾“å…¥çš„å¹³å‡å€¼ã€‚\nmyMean \u0026lt;- function(input=1:5) { sum \u0026lt;- 0 for (x in input) sum \u0026lt;- sum + x return(sum/length(input)) } å…³äºå‚æ•° ä»¥ä¸Šé¢ä»£ç ä¸ºä¾‹ã€‚æˆ‘ä»¬å¯ä»¥ç½®é¡¶å‚æ•°ï¼Œä¾‹å¦‚è¿™é‡Œçš„input=1:5ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä¸æŒ‡å®šå‚æ•°ï¼Œä¸æŒ‡å®šå‚æ•°æ—¶ï¼ˆä¾‹å¦‚åªè¾“å…¥inputï¼‰ï¼Œè¿™æ—¶ä¼šå¯¹ä¸å…¼å®¹çš„å‚æ•°ç±»å‹æŠ¥é”™ï¼Œä¾‹å¦‚vectorã€‚\nå¦‚æœæŒ‡å®šäº†å‚æ•°ï¼Œé‚£ä¹ˆåœ¨ä¼ å…¥å‚æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é»˜è®¤ä¹Ÿå¯ä»¥é‡å†™ï¼ˆå¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼‰ã€‚\n\u0026gt; print(myMean()) # ä¼ å…¥é»˜è®¤çš„å‚æ•° [1] 3 \u0026gt; print(myMean(1:10)) # é‡å†™é»˜è®¤çš„å‚æ•° [1] 5.5 åœ¨å‡½æ•°ä¸­æ²¡æœ‰returnè¯­å¥ï¼Ÿ ç›´æ¥è¿”å›æœ€åä¸€ä¸ªå˜é‡çš„èµ‹å€¼\n\u0026gt; test1 \u0026lt;- function(a=1) return(a) \u0026gt; test3 \u0026lt;- function(a=1) b \u0026lt;- a \u0026gt; test2 \u0026lt;- function(a=1) a \u0026gt; print(test1()); print(test2()); print(test3()) [1] 1 [1] 1 [1] 1 Matriceså’ŒData.framesçš„åŒºåˆ« å’Œvectorè¿˜æœ‰listå¾ˆç›¸ä¼¼\nç±»å‹ Matrixä¸­æ‰€æœ‰å…ƒç´ çš„ç±»å‹å¿…é¡»éƒ½ç›¸åŒ Data.frameä¸­å…ƒç´ çš„ç±»å‹å¯ä»¥ä¸åŒã€‚ ç´¢å¼• Matrixä¸­çš„å…ƒç´ å¯ä»¥ä½¿ç”¨è¡Œåˆ—ç´¢å¼•æ¥è®¿é—®ï¼Œä¾‹å¦‚m[1,2]è¡¨ç¤ºè®¿é—®mä¸­ç¬¬1è¡Œç¬¬2åˆ—çš„å…ƒç´ ã€‚ Data.frameä¸­çš„å…ƒç´ å¯ä»¥ä½¿ç”¨è¡Œåˆ—ç´¢å¼•å’Œåˆ—åç§°æ¥è®¿é—®ï¼Œä¾‹å¦‚df[1,2]è¡¨ç¤ºè®¿é—®dfä¸­ç¬¬1è¡Œç¬¬2åˆ—çš„å…ƒç´ ï¼Œdf$colnameè¡¨ç¤ºè®¿é—®dfä¸­åä¸º\u0026quot;colname\u0026quot;çš„åˆ—ã€‚ ç»´åº¦ Matrixæ˜¯ä¸€ä¸ªå…·æœ‰å›ºå®šè¡Œåˆ—æ•°çš„äºŒç»´æ•°ç»„ data.frameå¯ä»¥æ‹¥æœ‰ä»»æ„è¡Œæ•°å’Œåˆ—æ•°ã€‚ Recycing Rä¸­æŒºæœ‰æ„æ€çš„æ€§è´¨\nRecycling æ˜¯æŒ‡åœ¨è¿›è¡ŒäºŒå…ƒè¿ç®—æ—¶ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªè¿ç®—å¯¹è±¡é•¿åº¦ä¸è¶³ï¼ŒR ä¼šè‡ªåŠ¨å°†å…¶è¿›è¡Œâ€œé‡å¤â€ç›´åˆ°å’Œå¦ä¸€ä¸ªå¯¹è±¡é•¿åº¦ç›¸ç­‰ã€‚è¿™æ ·å¯ä»¥é¿å…å‡ºç°å› ä¸ºç»´åº¦ä¸åŒ¹é…è€Œå¯¼è‡´çš„é”™è¯¯ã€‚\nä¸¾ä¾‹è¯´æ˜ ä½¿ç”¨recyclingåˆ›å»ºä¸€ä¸ªvector 1 4 3 8 5 12 7 16 9 20\na\u0026lt;-c(1,2)*1:11 ä¸‹é¢è¡¨æ ¼è¯´æ˜ä¸€ä¸‹ğŸ‘‡\n1 2 3 4 5 6 7 8 9 10 11 (1,2) (1,2) (1,2) (1,2) (1,2) (1) æœ€ç»ˆç»“æœï¼š1*1, 2*2, 3*1, 4*2 \u0026hellip;\u0026hellip;\nAPPLY family apply familyå¯ä»¥è¯´æ˜¯å¾ªç¯çš„å¹³æ›¿ã€‚åœ¨applyå®¶æ—ä¸­ï¼Œæ¯ä¸€ç§å‡½æ•°éƒ½å¯¹ä¸€ç§æ•°æ®ç»“æ„è¿›è¡Œæ“ä½œ\nlapply (lists/vectors) sapply (lapplyçš„ç®€åŒ–ç‰ˆæœ¬) apply (matrices/data.frames) mapply (multiple lists/vectors/matrices) \u0026gt; lst \u0026lt;- list(c(1,2,3), c(2,3,4), c(0,10)); \u0026gt; lapply(lst, mean) [[1]] [1] 2 [[2]] [1] 3 [[3]] [1] 5 \u0026gt; sapply(lst, mean) [1] 2 3 5 \u0026gt; df Stock1 Stock2 Stock3 Day1 17.34 1.32 612 Day2 19.43 1.31 580 Day3 15.64 1.22 695 Day4 15.66 NA 690 # MARGIN=2 å¯¹åˆ—è®¡ç®— \u0026gt; apply(df, mean, MARGIN=2) Stock1 Stock2 Stock3 17.0175 NA 644.2500 # MARGIN=1 å¯¹è¡Œè®¡ç®— \u0026gt; apply(df, mean, MARGIN=1) Day1 Day2 Day3 Day4 210.2200 200.2467 237.2867 NA # MARGIN=c(1,2) å¯¹è¡Œå’Œåˆ—éƒ½è®¡ç®— # mapplyç”¨æ³• mapply(FUN, ..., MoreArgs = NULL, SIMPLIFY = TRUE, USE.NAMES = TRUE) mapply(rep, 1:3, 3:1) # equivilent to list(rep(1:3), rep(2:2), rep(3:1)) FUN æ˜¯è¦åº”ç”¨äºå‘é‡çš„å‡½æ•°ã€‚ ... æ˜¯å¤šä¸ªè¦æ“ä½œçš„å‘é‡ï¼Œå®ƒä»¬å¯ä»¥æ˜¯åˆ—è¡¨ã€çŸ©é˜µæˆ–æ•°æ®æ¡†ï¼Œä»–ä»¬ä¹‹é—´ç”¨é€—å·éš”å¼€ã€‚ MoreArgs æ˜¯ä¸€ä¸ªå¯é€‰çš„å‚æ•°ï¼Œè¡¨ç¤ºä¼ é€’ç»™ FUN çš„é¢å¤–å‚æ•°ã€‚ SIMPLIFY è¡¨ç¤ºæ˜¯å¦è¦å°è¯•å°†ç»“æœç®€åŒ–ä¸ºå‘é‡æˆ–çŸ©é˜µï¼Œé»˜è®¤ä¸º TRUEã€‚ USE.NAMES è¡¨ç¤ºæ˜¯å¦ä½¿ç”¨ç»“æœçš„åç§°ï¼Œé»˜è®¤ä¸º TRUEã€‚ mapply() å‡½æ•°çš„ä½œç”¨æ˜¯å°†å‡½æ•° FUN åº”ç”¨äºå¤šä¸ªå‘é‡çš„å¯¹åº”å…ƒç´ ï¼Œç„¶åè¿”å›ä¸€ä¸ªå‘é‡æˆ–çŸ©é˜µã€‚å®ƒä¹Ÿä¼šè‡ªåŠ¨ä½¿ç”¨ recycling ç‰¹æ€§ï¼Œå³å¦‚æœä¸¤ä¸ªæˆ–æ›´å¤šçš„å‘é‡é•¿åº¦ä¸ä¸€è‡´ï¼Œåˆ™ä¼šå°†è¾ƒçŸ­çš„å‘é‡å¤åˆ¶å¤šæ¬¡ä»¥ä½¿å®ƒä»¬çš„é•¿åº¦ç›¸ç­‰ã€‚\nFinanacial time series and quantmod é‡‘èæ—¶é—´åºåˆ—ï¼ˆFinanacial time seriesï¼‰æ˜¯ä»¥æ—¶é—´ä¸ºç´¢å¼•çš„æµ‹é‡åºåˆ—ã€‚\næ¯éš”ä¸€å®šæ—¶é—´ é—´éš”ä¸å‡åŒ€æ—¶é—´ é€šä¿—æ¥è®²ï¼ŒFinanacial time seriesæŒ‡é‡‘èå¸‚åœºä¸­ä¸€ç³»åˆ—åŸºäºæ—¶é—´åºåˆ—çš„ç»æµå’Œé‡‘èå˜é‡çš„æ•°æ®ã€‚è¿™äº›å˜é‡é€šå¸¸åŒ…æ‹¬è‚¡ç¥¨ä»·æ ¼ã€åˆ©ç‡ã€è´§å¸æ±‡ç‡ã€å•†å“ä»·æ ¼ã€ç»æµæŒ‡æ ‡ç­‰ç­‰ã€‚\nquantmodåŒ…\nå¯ä»¥æ‹¿åˆ°æ¯å¤©çš„é‡‘èæ•°æ® ç»˜åˆ¶financial time serieså›¾è¡¨ # quantmodä½¿ç”¨æ–¹æ³• library(quantmod) getSymbols(\u0026#34;AAPL\u0026#34;) print(head(AAPL)) # first few rows of the data print(first(AAPL)) # first row print(last(AAPL)) # last row è¿™é‡Œæ‹¿å‡ºæ¥çš„æ•°æ®æ˜¯xtsï¼ˆeXtensible Time Seriesï¼‰ç±»å‹çš„ï¼Œåé¢ä¼šæåˆ°ã€‚\nxtsåŒ…\nåœ¨Rä¸­æœ‰å¾ˆå¤šæ—¶é—´çš„ç±»å‹ï¼ŒPOSIXct, POSIXlt, Date, chron, timeData, yearmon, yearqtrã€‚è¿™é‡Œä¸»è¦ä½¿ç”¨Date(æ—¥æœŸï¼‰å’ŒPOSIXctï¼ˆæ—¥æœŸå’Œæ—¶é—´ï¼‰ã€‚\nRè¯­è¨€ä¸­æœ‰ä¸¤ç§æ—¶é—´åºåˆ—çš„åŒ…\nzooï¼ˆâ€œZâ€™s ordered observationsâ€ï¼‰æä¾›äº†ä¸€ç§ç”¨äºå¤„ç†ç¼ºå¤±æ•°æ®å’Œä¸è§„åˆ™æ—¶é—´åºåˆ—çš„æ¡†æ¶ã€‚å¤„ç†çš„æ•°æ®å¿…é¡»ç±»å‹ç»Ÿä¸€ xtsï¼ˆâ€œextensible time seriesâ€ï¼‰æ˜¯åŸºäºzooçš„æ‰©å±•åŒ…ï¼Œæä¾›äº†æ›´å¤šçš„åŠŸèƒ½å’Œæ›´é«˜çš„æ€§èƒ½ï¼Œé€‚ç”¨äºé«˜é¢‘æ—¶é—´åºåˆ—æ•°æ®ã€‚è¿™æ„å‘³ç€æ‰€æœ‰zooå‡½æ•°éƒ½èƒ½ä½œç”¨äºxtså¯¹è±¡ã€‚ å¸‚åœºå¾®è§‚ç»“æ„ï¼ˆW2-W3ï¼‰ é‡‘èå¸‚åœºå’Œè‡ªåŠ¨äº¤æ˜“ ä¸»è¦æ˜¯ä¸€äº›åè¯éœ€è¦ç†Ÿæ‚‰ä¸€ä¸‹ é‡‘èå¸‚åœºå¤§è‡´åˆ†ä¸ºä»¥ä¸‹å››ç§\nCapital markets (equities and fixed income) èµ„æœ¬å¸‚åœº Foreign exchange markets å¤–æ±‡å¸‚åœº Money markets è´§å¸å¸‚åœº Derivative markets (e.g. futures and options) è¡ç”Ÿå“å¸‚åœº ä¸»åŠ¨æŠ•èµ„vsè¢«åŠ¨æŠ•èµ„\nè¢«åŠ¨æŠ•èµ„æŒ‡è·Ÿè¸ªå¸‚åœºï¼ˆä¾‹å¦‚ä¸€ä¸ªæŒ‡æ•°åŸºé‡‘è·Ÿè¸ªS\u0026amp;P500ï¼ˆæ ‡æ™®500ï¼‰ï¼‰ ä¸»åŠ¨æŠ•èµ„åˆ¶ä½œäº¤æ˜“ç­–ç•¥æ¥æ‰“ç ´è¢«åŠ¨æŠ•èµ„çš„åŸºå‡† è‚¡ç¥¨å¸‚åœº è‚¡ä»½å…è®¸å…¬å¸é€šè¿‡å…¬å…±æ‰€æœ‰åˆ¶ä¸ºè‡ªå·±èèµ„ è‚¡ç¥¨ä»£è¡¨å…¬å¸å›ºæœ‰ä»·å€¼æˆ–æƒç›Šçš„ä¸€éƒ¨åˆ† ä¸€å®šæ—¶é—´å†…çš„è‚¡ä»½æ•°é‡çš„å·²çŸ¥çš„ å…¬å¸å¯ä»¥å‘è¡Œå’Œå›è´­è‚¡ç¥¨æˆ– å®šæœŸå‘è‚¡ä¸œæ”¯ä»˜è‚¡æ¯ åœ¨è¯„ä¼°ä¼ä¸šä¼°å€¼å’Œäº¤æ˜“ç­–ç•¥æ—¶ï¼Œä¼ä¸šçš„è¿™äº›è¡Œä¸ºå¾ˆé‡è¦ ç”¨adjusted pricesæ¥è¡¨ç¤ºè‚¡ç¥¨ åœ¨èµ„æœ¬å¸‚åœºä¸­ï¼Œadjustmentæ˜¯æŒ‡é’ˆå¯¹é‡‘èå·¥å…·ï¼ˆå¦‚è‚¡ç¥¨ã€å€ºåˆ¸æˆ–è¡ç”Ÿå“ï¼‰çš„æ¡æ¬¾ä½œå‡ºçš„æ›´æ”¹ï¼Œä»¥å“åº”å¸‚åœºæƒ…å†µæˆ–äº‹ä»¶ã€‚è¿™ç§å˜åŒ–å¯èƒ½å½±å“è¯¥å·¥å…·çš„ä»·å€¼ã€é£é™©æˆ–åˆ°æœŸæ—¶é—´ã€‚\nè°ƒæ•´æ–¹å¼ï¼ˆAdjustmentï¼‰ Cash dividendsï¼Œç°é‡‘è‚¡åˆ©ï¼Œä»æ”¶ç›˜ä»·ä¸­æ‰£é™¤è‚¡æ¯ã€‚ Stock dividends / stock splitsï¼Œè‚¡ç¥¨åˆ†çº¢ / è‚¡ç¥¨åˆ†å‰² è‚¡ç¥¨åˆ†çº¢\nåˆ†çº¢æ˜¯å…¬å¸åˆ©æ¶¦çš„ä¸€éƒ¨åˆ†ï¼ŒæŒ‰ç…§è‚¡ä¸œæŒæœ‰çš„è‚¡ä»½æ¯”ä¾‹ï¼Œä»¥ç°é‡‘æˆ–è‚¡ç¥¨çš„å½¢å¼å‘è‚¡ä¸œåˆ†é…çš„ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå…¬å¸ä¼šå®šæœŸå‘è‚¡ä¸œæ”¯ä»˜è‚¡æ¯ï¼Œä»¥é¼“åŠ±æŠ•èµ„è€…æŒæœ‰è‚¡ç¥¨ã€‚è‚¡ç¥¨åˆ†çº¢çš„å¤§å°å’Œé¢‘ç‡å–å†³äºå…¬å¸çš„ç›ˆåˆ©æƒ…å†µã€è´¢åŠ¡çŠ¶å†µã€ç®¡ç†å±‚å†³ç­–ç­‰å› ç´ ã€‚\nä¸¾ä¾‹ï¼šæŸå…¬å¸è§„å®šæ¯æŒæœ‰ä¸€è‚¡åœ¨åˆ†çº¢æ—¶ä¼šè·å¾—ä¸¤è‚¡åˆ†çº¢è‚¡ä»½ï¼Œå› æ­¤åŸè‚¡ç¥¨ä»·æ ¼è¦é™¤ä»¥3ã€‚ä¾‹å¦‚åˆ†çº¢å‰è‚¡ä»·ä¸º25å…ƒï¼Œåˆ†çº¢åæ¯è‚¡ä¸º8.33å…ƒï¼Œè¿™æ„å‘³ç€è‚¡ç¥¨æŒæœ‰è€…å°†è·å¾—2è‚¡åˆ†çº¢è‚¡ä»½/è‚¡ã€‚\nè‚¡ç¥¨åˆ†å‰²\nåˆ†å‰²æ˜¯æŒ‡å°†ä¸€è‚¡è‚¡ç¥¨åˆ†æˆè‹¥å¹²è‚¡ï¼Œæ¯”å¦‚å°†ä¸€è‚¡è‚¡ç¥¨åˆ†å‰²ä¸ºä¸¤è‚¡ã€ä¸‰è‚¡ç­‰ç­‰ã€‚åˆ†å‰²ä¹‹åï¼Œæ¯ä¸€è‚¡çš„ä»·æ ¼ä¼šé™ä½ï¼Œä½†æ˜¯è‚¡ä¸œæ‰€æŒæœ‰çš„è‚¡ç¥¨æ€»æ•°å’Œè‚¡ç¥¨å¸‚å€¼ä¸ä¼šæ”¹å˜ã€‚è‚¡ç¥¨åˆ†å‰²é€šå¸¸æ˜¯ä¸ºäº†è®©å…¬å¸çš„è‚¡ç¥¨æ›´å®¹æ˜“æµé€šï¼Œä»¥åŠå¸å¼•æ›´å¤šçš„æŠ•èµ„è€…ã€‚è‚¡ç¥¨åˆ†å‰²çš„æ¯”ä¾‹ä¸€èˆ¬ç”±å…¬å¸å†³å®šï¼Œé€šå¸¸ä¼šåœ¨è‚¡ä»·ä¸Šæ¶¨çš„æƒ…å†µä¸‹è¿›è¡Œã€‚\nä¸¾ä¾‹ï¼šæŸå…¬å¸è‚¡ç¥¨ä»·æ ¼ä¸º25å…ƒï¼Œåˆ†å‰²æˆä¸¤ä»½åï¼Œæ¯è‚¡å˜æˆ12.5å…ƒã€‚å³è‚¡ç¥¨æŒæœ‰è€…å¹¶æ²¡æœ‰è·å¾—é¢å¤–æ”¶ç›Šã€‚\næœŸè´§ï¼ˆFuturesï¼‰ è¿œæœŸåˆçº¦ï¼ˆforwardï¼‰æ˜¯ä¸€ç§åè®®ï¼ŒæŒ‡åœ¨æœªæ¥æŸä¸€ç‰¹å®šæ—¥æœŸä»¥æŸä¸€ä»·æ ¼ä¹°å…¥æˆ–å–å‡ºæŸä¸€å›ºå®šæ•°é‡çš„ç‰¹å®šèµ„äº§ã€‚\næœŸè´§åˆçº¦ï¼ˆFutures contractï¼‰æ˜¯ä¸€ç§å…·æœ‰æ ‡å‡†åŒ–æ¡æ¬¾çš„è¿œæœŸåˆçº¦ã€‚\nS\u0026amp;P 500 E-mini Futures æ ‡æ™®500E-miniæœŸè´§ FTSE 100 Futures å¯Œæ—¶100æœŸè´§ Crude Oil Futures åŸæ²¹æœŸè´§ Eurodollar futures æ¬§æ´²ç¾å…ƒæœŸè´§(åˆ©ç‡æœŸè´§) CME Euro FX Futures èŠåŠ å“¥å•†å“äº¤æ˜“æ‰€æ¬§å…ƒå¤–æ±‡æœŸè´§ æœŸè´§é€‚ç”¨äºå¹¿æ³›çš„åŸºç¡€èµ„äº§ï¼ˆwide array of underlying assetsï¼‰ã€‚\næœŸè´§åˆçº¦\næœŸè´§åˆçº¦çš„äº¤æ˜“ä¸€èˆ¬åœ¨æœŸè´§äº¤æ˜“æ‰€è¿›è¡Œã€‚åœ¨äº¤æ˜“æ‰€ä¸Šï¼Œä¹°å®¶å’Œå–å®¶é€šè¿‡ç»çºªäººæˆ–äº¤æ˜“æ‰€ç›´æ¥äº¤æ˜“åˆçº¦ã€‚åœ¨åˆçº¦åˆ°æœŸæ—¥ï¼ŒåŒæ–¹éœ€è¦å±¥è¡Œåˆçº¦ä¹‰åŠ¡ï¼Œå³æŒ‰åˆçº¦è§„å®šçš„ä»·æ ¼ä¹°å…¥æˆ–å–å‡ºå•†å“ã€‚å¦‚æœåˆçº¦åˆ°æœŸæ—¶ä»æœªå¹³ä»“ï¼Œåˆçº¦å°†ä¼šè¢«å¼ºåˆ¶æ‰§è¡Œã€‚è¿™ç»™ä»·å·®äº¤æ˜“æä¾›äº†äº¤æ˜“æœºä¼šã€‚\nETFï¼ˆExchange-traded fundsï¼‰ ETFï¼Œä¸­æ–‡ç¿»è¯‘äº¤æ˜“æ‰€çš„äº¤æ˜“åŸºé‡‘ã€‚ä¹Ÿå«ä¸€ç¯®å­èµ„äº§\nåŒ…æ‹¬æŒ‡æ•°ï¼ˆindexï¼‰ï¼Œå•†å“ï¼ˆcommodityï¼‰ï¼Œå€ºåˆ¸ï¼ˆbondï¼‰ï¼Œè´§å¸ï¼ˆconcurrencyï¼‰etfã€‚\näº¤æ˜“è§’è‰²\nDealers ç”¨è‡ªå·±çš„è´¦æˆ·ä¹°å–è¯åˆ¸ Brokers ç»çºªäººï¼Œä¸ºå®¢æˆ·ä¹°å–è¯åˆ¸ Broker-Dealers ç»çºªå•†ï¼ŒåŒæ—¶æ‰®æ¼”ä»¥ä¸Šä¸¤ä¸ªè§’è‰²ï¼ˆé€šå¸¸æ˜¯æŠ•èµ„é“¶è¡Œï¼‰ Limit Order Books é€šå¸¸ç”±å…¬å…±äº¤æ˜“æ‰€è¿è¥ Dark Pools ç”±ç»çºªå•†æˆ–å…¬å…±äº¤æ˜“æ‰€è¿è¥ Limit order book market è¿™æ˜¯æŒ‡ä¸€ç§é‡‘èå¸‚åœºçš„äº¤æ˜“æ–¹å¼ï¼Œè¿™ä¸ªç°¿ç»´æŠ¤äº†å¸‚åœºä¸­æ‰€æœ‰ä¹°å®¶å’Œå–å®¶çš„è®¢å•ï¼Œå¹¶ä¸”ä¼šåœ¨ä¹°å–åŒæ–¹çš„é™ä»·å•ä»·æ ¼ç›¸ç­‰æ—¶åŒ¹é…è¿™äº›è®¢å•ã€‚åœ¨è¿™ç§å¸‚åœºä¸­ï¼Œäº¤æ˜“å‘˜å¯ä»¥æäº¤å„ç§ä¸åŒç±»å‹çš„è®¢å•ï¼ŒåŒ…æ‹¬é™ä»·å•ã€å¸‚ä»·å•ç­‰ç­‰ã€‚\næœªåŒ¹é…çš„é™ä»·è®¢å•å­˜å‚¨åœ¨è®¢å•ç°¿ä¸­ï¼ˆorder bookï¼‰ ä¹°ç›˜å­˜å‚¨åœ¨ä¹°ç›˜ç°¿ä¸­ï¼ˆbid bookï¼‰ å–ç›˜æˆ–è¯¢ä»·/æŠ¥ä»·å­˜å‚¨åœ¨è¯¢ä»·ç°¿ä¸­ï¼ˆask book) Tick sizeå’ŒBid spread\nTick sizeæŒ‡çš„æ˜¯è‚¡ç¥¨ä»·æ ¼åœ¨äº¤æ˜“æ‰€æŠ¥ä»·æ—¶çš„æœ€å°å˜åŠ¨å•ä½ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªè‚¡ç¥¨çš„Tick sizeä¸º0.01ç¾å…ƒï¼Œé‚£ä¹ˆè¿™ä¸ªè‚¡ç¥¨çš„æŠ¥ä»·å¿…é¡»ä»¥0.01ç¾å…ƒä¸ºå•ä½é€’å¢æˆ–é€’å‡ã€‚è¾ƒå°çš„Tick sizeé€šå¸¸ä¼šæé«˜è‚¡ç¥¨å¸‚åœºçš„æµåŠ¨æ€§ï¼Œå› ä¸ºæ›´å¤šçš„ä»·æ ¼æ°´å¹³å¯ä»¥è¢«äº¤æ˜“ï¼Œä»è€Œæé«˜å¸‚åœºçš„æ´»è·ƒåº¦ã€‚\nBid spreadæ˜¯æŒ‡ä¹°æ–¹çš„æœ€é«˜å‡ºä»·å’Œå–æ–¹çš„æœ€ä½è¦ä»·ä¹‹é—´çš„å·®è·ã€‚è¾ƒå°çš„Bid spreadé€šå¸¸æ˜¯è‚¡ç¥¨å¸‚åœºæµåŠ¨æ€§è¾ƒé«˜çš„æ ‡å¿—ï¼Œå› ä¸ºäº¤æ˜“è€…å¯ä»¥æ›´å®¹æ˜“åœ°ä¹°å…¥æˆ–å–å‡ºè‚¡ç¥¨ï¼Œè€Œä¸”äº¤æ˜“æˆæœ¬æ›´ä½ã€‚ä¸€ä¸ªå¤§çš„ä»·å·®è¡¨æ˜å®é™…ä»·æ ¼çš„ä¸ç¡®å®šæ€§ã€‚\nå¯¹äºé¢‘ç¹äº¤æ˜“çš„å“ç§ï¼Œbid spreadé€šå¸¸ç­‰äºtick sizeã€‚\nåšç©ºï¼ˆshort selling or shortingï¼‰\nä¸¾ä¸ªä¾‹å­ï¼Œå¼ ä¸‰ç°åœ¨æƒ³è¦åšç©ºæŸç²®æ¶²çš„è‚¡ç¥¨ã€‚ä»–å…ˆå‘åˆ¸å•†å€Ÿäº†ä¸¤ä¸‡è‚¡ï¼Œæ‰¾å‡†æ—¶æœºï¼Œåœ¨å¸‚åœºæŠ›å”®è¿™ä¸¤ä¸‡è‚¡è‚¡ç¥¨ã€‚æ­¤ä¸¾å¼•èµ·å¤§é‡ææ…Œç›˜çš„æŠ›å”®ï¼Œè‚¡ç¥¨ä»·æ ¼åº”å£°ä¸‹è·Œã€‚ä¹‹åå¼ ä¸‰æ‰¾å‡†æ—¶æœºï¼Œå†å·å·ä¹°å›ä¹‹å‰æŠ›å”®çš„2ä¸‡è‚¡è‚¡ç¥¨ï¼Œå¹¶å°†å…¶è¿˜ç»™åˆ¸å•†ã€‚ä»–æŒ£åˆ°çš„å°±æ˜¯ä¸‹è·Œè¿‡ç¨‹ä¸­çš„ä»·å·®ã€‚\nè¿™é‡Œå¼•å…¥äº†å¤šç©ºçš„æ¦‚å¿µã€‚å¤šå¤´å°±æ˜¯çœ‹å¥½è‚¡ç¥¨çš„åå¸‚ä»·å€¼ï¼Œå› æ­¤å¼•å‘çš„åŠ¨ä½œæ˜¯ä¹°å…¥ã€‚ç©ºå¤´å°±æ˜¯ä¸çœ‹å¥½è¿™æ”¯è‚¡ç¥¨çš„åå¸‚ä»·å€¼ï¼Œé€‰æ‹©å–æ‰è‚¡ç¥¨ï¼Œå°±å«å–ç©ºã€‚\né™ä»·å•å’Œå¸‚ä»·å•ï¼ˆLimit orders \u0026amp; market ordersï¼‰\né™ä»·å•å°†ä¹°æ–¹æˆ–å–æ–¹çš„æœ€å¤§æˆ–æœ€å°ä»·æ ¼é™åˆ¶åœ¨ä¸€ä¸ªç‰¹å®šçš„èŒƒå›´å†…ã€‚å¦‚æœå¸‚åœºä»·æ ¼è¾¾åˆ°æˆ–è¶…è¿‡æŒ‡å®šçš„ä»·æ ¼æ°´å¹³ï¼Œäº¤æ˜“å°±ä¼šå‘ç”Ÿï¼Œå¦åˆ™è®¢å•å°†è¢«ä¿ç•™åœ¨äº¤æ˜“æ‰€çš„è®¢å•ç°¿ä¸­ï¼Œç­‰å¾…å¸‚åœºä»·æ ¼åˆ°è¾¾äº¤æ˜“è€…æŒ‡å®šçš„ä»·æ ¼æ°´å¹³ã€‚ å¸‚ä»·å•åˆ™æ˜¯ä»¥å¸‚åœºå½“å‰çš„ä»·æ ¼æ¥æ‰§è¡Œçš„è®¢å•ç±»å‹ã€‚äº¤æ˜“è€…ä¸æŒ‡å®šä¸€ä¸ªç‰¹å®šçš„ä»·æ ¼ï¼Œè€Œæ˜¯è¦æ±‚äº¤æ˜“æ‰€ä»¥å¸‚åœºå½“å‰çš„æœ€ä¼˜ä»·æ ¼æ¥æ‰§è¡Œè®¢å•ã€‚å¸‚ä»·å•åœ¨äº¤æ˜“æ‰€ä¸­ç«‹å³æ‰§è¡Œï¼Œä¸ç®¡è¯åˆ¸å½“å‰çš„ä»·æ ¼æ˜¯å¤šå°‘ã€‚ å¸‚ä»·å•ä¸­çš„slippageæŒ‡è®¢å•åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°çš„ä»·æ ¼å·®å¼‚ï¼Œå³äº¤æ˜“è€…é¢„æœŸå¾—åˆ°çš„ä»·æ ¼å’Œå®é™…æˆäº¤ä»·æ ¼ä¹‹é—´çš„å·®å¼‚ã€‚ å¸‚ä»·å•çš„ç‰¹ç‚¹æ˜¯ä»¥å¸‚åœºå½“å‰çš„æœ€ä¼˜ä»·æ ¼æ¥æ‰§è¡Œï¼Œä½†æ˜¯å¸‚åœºä»·æ ¼å˜åŒ–è¾ƒå¿«ï¼Œå› æ­¤åœ¨è®¢å•æäº¤å’Œæ‰§è¡Œä¹‹é—´å¯èƒ½ä¼šå‡ºç°ä»·æ ¼æ³¢åŠ¨ï¼Œå¯¼è‡´äº¤æ˜“è€…çš„å®é™…æˆäº¤ä»·æ ¼ä¸é¢„æœŸçš„ä»·æ ¼ä¸åŒã€‚è¿™ç§ä»·æ ¼å·®å¼‚å°±è¢«ç§°ä¸ºslippageã€‚ å¸‚åœºæ•°æ®ç²’åº¦\nkçº¿å›¾ tickæ•°æ®ï¼ˆtickè¡¨ç¤ºç”±äºäº¤æ˜“è€Œå¯¼è‡´çš„ä»·æ ¼å˜åŒ–ï¼‰ Market Makers åœ¨é‡‘èå¸‚åœºä¸­ï¼Œå¸‚åœºåšå¸‚å•†ï¼ˆMarket Makerï¼‰æ˜¯ä¸€ç§ä¸ºè¯åˆ¸å’Œè¡ç”Ÿå“æä¾›æµåŠ¨æ€§çš„äº¤æ˜“è€…ã€‚ä»–ä»¬é€šå¸¸æ˜¯ç”±æŠ•èµ„é“¶è¡Œã€è¯åˆ¸å…¬å¸æˆ–ä¸“é—¨çš„åšå¸‚å•†å…¬å¸æä¾›æœåŠ¡çš„äº¤æ˜“è€…ã€‚\næ‰€ä»¥ä»–ä»¬ç»å¸¸è¿›è¡Œçš„æ˜¯é«˜é¢‘äº¤æ˜“ï¼Œåå¤ä¹°å–æŠ“ä½ä»·å·®ã€‚ä»–ä»¬çš„å­˜åœ¨ä¼šç¼©å°ä»·å·®ï¼Œä½†æ˜¯ä¹Ÿæœ‰è¯æ®è¡¨æ˜ï¼Œåœ¨å¸‚åœºå‹åŠ›å¤§çš„æ—¶å€™ï¼Œé«˜é¢‘äº¤æ˜“è€…å¾€å¾€ä¼šæ”¾å¼ƒå¸‚åœºã€‚ç®—æ˜¯æœ‰äº‰è®®çš„ä¸€ä¸ªè§’è‰²äº†ã€‚\ntoxic order flowï¼ˆæœ‰æ¯’è®¢å•æµï¼‰\nmarket makeré¢ä¸´çš„æœ€é‡è¦çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¦‚ä½•é¿å…æœ‰æ¯’è®¢å•æµã€‚\næœ‰æ¯’è®¢å•æµæŒ‡çš„æ˜¯å‡ºäºæŸäº›ç›®çš„å¯¼è‡´å¸‚åœºä»·æ ¼å¼‚å¸¸æ³¢åŠ¨æˆ–äº§ç”Ÿé‡å¤§å†²å‡»çš„äº¤æ˜“è®¢å•æµã€‚è¿™äº›è®¢å•æµå¯èƒ½ä¼šç»™å¸‚åœºé€ æˆä¸ç¨³å®šæ€§å’Œå½±å“å¸‚åœºçš„å…¬å¹³æ€§ã€‚\nå¸‚åœºåšå¸‚å•†æ˜¯ä¸ºäº†æé«˜å¸‚åœºçš„æµåŠ¨æ€§å’Œå‡å°‘å¸‚åœºæ³¢åŠ¨è€Œå­˜åœ¨çš„ï¼Œä»–ä»¬é€šè¿‡åœ¨ä¹°å–ä»·æ ¼ä¹‹é—´æä¾›æŠ¥ä»·æ¥èµšå–åˆ©æ¶¦ï¼ŒåŒæ—¶æ‰¿æ‹…äº†ä¹°å–ä»·å·®çš„é£é™©ã€‚å½“æœ‰æ¯’è®¢å•æµå‡ºç°æ—¶ï¼Œå¸‚åœºçš„æµåŠ¨æ€§å’Œä»·æ ¼ç¨³å®šæ€§ä¼šå—åˆ°å½±å“ï¼Œå¸‚åœºåšå¸‚å•†éœ€è¦æ‰¿æ‹…æ›´å¤§çš„é£é™©ï¼Œå› ä¸ºæœ‰æ¯’è®¢å•æµå¯èƒ½å¯¼è‡´å¸‚åœºä»·æ ¼å‰§çƒˆæ³¢åŠ¨ï¼Œå¯¹å¸‚åœºåšå¸‚å•†çš„ç›ˆåˆ©å’Œé£é™©ç®¡ç†é€ æˆä¸åˆ©å½±å“ã€‚\nFront running \u0026amp; Dark pool Front runningæŒ‡äº¤æ˜“å‘˜æå‰çŸ¥é“æœ‰å¤§è®¢å•è¦æ¥ï¼Œäºæ˜¯ä»·æ ¼æå‰è¢«æŠ¬é«˜ï¼Œå› ä¸ºå¤§å®¶éƒ½å¾€èƒ½æŒ£é’±çš„åœ°æ–¹æ¶Œã€‚\nLimit orderå°±æ˜¯front running\nå¦‚æœäº¤æ˜“å‘˜é€šè¿‡è·³ä»·ï¼ˆpenny jumpï¼‰æ¥â€œfront runningâ€å¤§é¢é™ä»·è®¢å•ï¼Œä¼šå¯¹å¸‚åœºåšå¸‚å•†äº§ç”Ÿè´Ÿé¢å½±å“ã€‚å¦‚æœå¸‚åœºåšå¸‚å•†çœ‹åˆ°äº¤æ˜“å‘˜è·³ä»·å¹¶ä¸”è®¤ä¸ºè¿™å¯èƒ½æ˜¯å¤§é¢é™ä»·è®¢å•æ­£åœ¨åˆ°æ¥çš„ä¿¡å·ï¼Œä»–ä»¬å¯èƒ½ä¼šç›¸åº”åœ°è°ƒæ•´è‡ªå·±çš„æŠ¥ä»·ï¼Œä»¥é€‚åº”è®¢å•æ‰§è¡Œåå¸‚åœºä»·æ ¼çš„å˜åŒ–ã€‚è¿™æ ·ä¸€æ¥ï¼Œå¸‚åœºåšå¸‚å•†çš„æŠ¥ä»·å°†å¤±å»å‡†ç¡®æ€§ï¼Œå¯èƒ½å¯¼è‡´å¸‚åœºæ³¢åŠ¨å¢å¤§ï¼Œä»è€Œå½±å“äº¤æ˜“è€…çš„æŠ•èµ„å†³ç­–ã€‚\nè·³ä»·ï¼ˆpenny jumpï¼‰ï¼šå½“ä¹°æ–¹æƒ³è¦è´­ä¹°å¤§é‡çš„è‚¡ç¥¨æ—¶ï¼Œä»–ä»¬å¯èƒ½ä¼šæ”¾ç½®ä¸€ä¸ªå¤§é¢é™ä»·å•ï¼Œè¿™å¯èƒ½ä¼šå½±å“åˆ°å¸‚åœºä»·æ ¼ã€‚å› æ­¤ï¼Œä¸ºäº†é¿å…è¢«å…¶ä»–äº¤æ˜“è€…æŠ¢å…ˆæ‰§è¡Œï¼Œä»–ä»¬å¯èƒ½ä¼šå°†è®¢å•ä»·æ ¼è®¾å®šåœ¨ç•¥é«˜äºå½“å‰å¸‚åœºä»·æ ¼çš„æ°´å¹³ï¼Œä»¥ç¡®ä¿ä»–ä»¬çš„è®¢å•åœ¨å¸‚åœºä»·æ ¼ä¸Šæ¶¨å‰å…ˆè¢«æ‰§è¡Œã€‚\nç”±äºé™ä»·å•äººäººéƒ½èƒ½çœ‹åˆ°ï¼Œæ‰€ä»¥å«åšlight poolï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯dark poolã€‚\næš—æ± ï¼ˆDark Poolï¼‰æŒ‡çš„æ˜¯ä¸å…¬å¼€äº¤æ˜“æ•°æ®çš„äº¤æ˜“å¹³å°ï¼Œè¿™äº›å¹³å°å…è®¸æŠ•èµ„è€…ä»¥åŒ¿åæ–¹å¼è¿›è¡Œäº¤æ˜“ï¼ŒåŒæ—¶ä¹Ÿä¸å…¬å¼€äº¤æ˜“ä»·æ ¼å’Œæ•°é‡ã€‚è¿™äº›å¹³å°é€šå¸¸ç”±é“¶è¡Œã€æŠ•èµ„æœºæ„å’Œè¯åˆ¸å…¬å¸ç­‰æœºæ„åˆ›å»ºï¼Œæ—¨åœ¨ä¸ºå¤§å‹äº¤æ˜“æä¾›ä¸€ç§ä½é£é™©ã€ä½æˆæœ¬çš„äº¤æ˜“æ–¹å¼ã€‚\nä¸å…¬å¼€å¸‚åœºä¸åŒï¼Œæš—æ± ä¸ä¼šå…¬å¼€æ‰€æœ‰çš„è®¢å•ä¿¡æ¯ï¼Œä¹Ÿä¸ä¼šç«‹å³å…¬å¼€äº¤æ˜“ç»“æœï¼Œè€Œæ˜¯å°†è¿™äº›ä¿¡æ¯ä¿å¯†å¹¶æ¨è¿ŸæŠ«éœ²ã€‚è¿™ä½¿å¾—äº¤æ˜“è€…å¯ä»¥åœ¨ä¸æš´éœ²ä»–ä»¬çš„äº¤æ˜“ç­–ç•¥çš„æƒ…å†µä¸‹è¿›è¡Œå¤§é¢äº¤æ˜“ï¼Œè€Œä¸”äº¤æ˜“ä¹Ÿä¸ä¼šå¯¹å¸‚åœºä»·æ ¼äº§ç”Ÿå½±å“ã€‚å¯ä»¥ç†è§£ä¸ºæš—æ± ä¸­çš„ç©å®¶æœ‰è‡ªå·±çš„è§„åˆ™ï¼Œä»–ä»¬ä¼šä»¥å¸‚åœºå½“å‰çš„ä»·æ ¼ä½œä¸ºå‚è€ƒï¼Œä¹°å–åŒæ–¹ä¸æƒ³è®©å¸‚åœºçŸ¥é“æœ‰å¤§å•å­æ¥æˆ–è€…æœ‰å¤§å•å­èµ°ï¼Œå°±åœ¨æš—æ± ä¸­ä»¥äº¤æ˜“åŒæ–¹è°ˆå¥½çš„ä»·æ ¼å’Œæ•°é‡è¿›è¡Œäº¤æ˜“ã€‚è¿™ä¹Ÿå¯èƒ½å¯¼è‡´æœ‰äº›äº¤æ˜“è€…æ— æ³•äº†è§£æ•´ä¸ªå¸‚åœºçš„çœŸå®æƒ…å†µï¼Œè¿›è€Œå½±å“ä»–ä»¬çš„äº¤æ˜“å†³ç­–ï¼ˆé€šå¸¸æŒ‡æ•£æˆ·ğŸ¤£ï¼‰ã€‚\nç®—æ³•äº¤æ˜“è€…ä¼šå¤§é‡åˆ©ç”¨æš—æ± ã€‚\næ‰§è¡Œç®—æ³• å…»è€åŸºé‡‘æˆ–å…¶ä»–å¤§å…¬å¸é€šå¸¸ä¼šè¿›è¡Œå¤§ä½“é‡çš„äº¤æ˜“ï¼Œä»–ä»¬å°†è¿™äº›äº¤æ˜“ä»»åŠ¡äº¤ç»™ä»£ç†ã€‚ç”±äºä½“é‡éå¸¸åºå¤§ï¼Œä¸€ä¸‹å­å…¨éƒ¨è¿›å…¥å¸‚åœºä¼šå¼•èµ·å¾ˆå¤§çš„ä»·æ ¼æ³¢åŠ¨ã€‚å¸‚ä»·å•ä¼šäº§ç”Ÿslippageï¼Œé™ä»·å•ä¼šæ— æ³•æ‰§è¡Œã€‚å› æ­¤ï¼Œä»£ç†ä»¬ä¼šä½¿ç”¨æ‰§è¡Œç®—æ³•æ¥åˆ†å‰²å¤§ä½“é‡èµ„é‡‘å¹¶å¢é‡æ‰§è¡Œï¼Œç›®çš„å°±æ˜¯éšè—å¤§è®¢å•çš„å­˜åœ¨å’Œæœ€å°åŒ–ä»·æ ¼æ³¢åŠ¨ã€‚\næ‰§è¡Œç®—æ³•çš„ä¸‰ç§benchmarks\nVWAP - Volume-Weighted Average Price VWAPæ˜¯æŒ‡åœ¨ä¸€æ®µæ—¶é—´å†…ï¼ˆé€šå¸¸ä¸ºä¸€å¤©ï¼‰ï¼ŒåŸºäºæˆäº¤é‡çš„åŠ æƒå¹³å‡ä»·æ ¼ï¼Œç”¨äºè¡¡é‡ä¸€ä¸ªè¯åˆ¸çš„äº¤æ˜“ä»·æ ¼è¡¨ç°ã€‚ æ¯”å¦‚åœ¨æŸä¸€å¤©ï¼Œä¸€åªè‚¡ç¥¨ä¸Šåˆ9:00-11:30äº¤æ˜“é‡æ˜¯40ï¼Œä¸‹åˆ1:00-3:00äº¤æ˜“é‡æ˜¯10ã€‚é‚£ä¹ˆå‡å¦‚æˆ‘çš„æ‰§è¡Œç®—æ³•è¦ä¹°å…¥100è‚¡ï¼Œå°±åœ¨ç¬¬äºŒå¤©ä¸Šåˆæ—¶é—´æ®µä¹°å…¥100*(40/(40+10))ï¼Œä¸‹åˆçš„æ—¶é—´æ®µä¹°å…¥100*(10/(40+10)) ç”¨è®¢å•çš„VWAPå’Œå¸‚åœºçš„VWAPè¿›è¡Œæ¯”è¾ƒï¼Œè‡³å°‘è¾¾åˆ°å¸‚åœºçš„VWAPæ°´å‡†ã€‚ TWAP - Time-Weighted Average Price TWAPç®—æ³•é€šè¿‡å°†æŒ‡å®šçš„æ—¶é—´æ®µåˆ†æˆè‹¥å¹²ä¸ªå›ºå®šæ—¶é—´é—´éš”ï¼Œç„¶åå°†äº¤æ˜“å¹³å‡åˆ†é…åœ¨è¿™äº›æ—¶é—´é—´éš”ä¸­ï¼Œä»¥è·å¾—æœŸé—´çš„å¹³å‡ä»·æ ¼ã€‚ è®¡ç®—æ–¹æ³•ï¼šï¼ˆä¸¤æ¬¡äº¤æ˜“ä¹‹é—´çš„æ—¶é—´å·®*æ¯æ¬¡äº¤æ˜“çš„ä»·æ ¼ï¼‰ç›¸åŠ å/æ€»çš„æ—¶é—´å·® ç”¨è®¢å•çš„VWAPå’Œå¸‚åœºçš„TWAPè¿›è¡Œæ¯”è¾ƒï¼Œè‡³å°‘è¾¾åˆ°å¸‚åœºçš„TWAPæ°´å‡†ã€‚ Implementation Shortfall ä¸€ç§è¡¡é‡äº¤æ˜“æ‰§è¡Œè´¨é‡çš„æ–¹æ³•ï¼Œç”¨äºè¯„ä¼°äº¤æ˜“ç­–ç•¥çš„æœ‰æ•ˆæ€§ã€‚ æ¯”è¾ƒäº¤æ˜“æˆæœ¬å’Œä¹°å…¥/å–å‡ºè‚¡ç¥¨æˆæœ¬ä¹‹é—´çš„å·®å¼‚ äº¤æ˜“æˆæœ¬åŒ…æ‹¬æ»‘ç‚¹æˆæœ¬ã€äº¤æ˜“è´¹ç”¨å’Œå¸‚åœºå½±å“æˆæœ¬ç­‰ã€‚ ä¹°å…¥/å–å‡ºè‚¡ç¥¨çš„æˆæœ¬å¯ä»¥é€šè¿‡VWAPæˆ–è€…TWAPç­‰æŒ‡æ ‡æ¥è®¡ç®—ã€‚ ISçš„å€¼è¡¨ç¤ºäº¤æ˜“ç­–ç•¥çš„æ•ˆæœï¼Œå¦‚æœISå€¼ä¸ºæ­£ï¼Œè¡¨ç¤ºäº¤æ˜“ç­–ç•¥äº§ç”Ÿäº†è¶…é¢æ”¶ç›Šï¼›å¦‚æœISå€¼ä¸ºè´Ÿï¼Œåˆ™è¡¨ç¤ºäº¤æ˜“ç­–ç•¥äº§ç”Ÿäº†äºæŸã€‚ è¡¡é‡äº¤æ˜“ç­–ç•¥çš„è¡¨ç°ï¼ˆW4-W5ï¼‰ æ”¶ç›Šï¼ˆReturnsï¼‰ æ”¶ç›Šæ˜¯åˆ¤æ–­profit-seekingäº¤æ˜“ç­–ç•¥çš„æ•ˆæœçš„åŸºæœ¬è¦ç´ ã€‚\nå’Œæ‰§è¡Œç®—æ³•ï¼ˆä»¥æœ€ä½æˆæœ¬æ‰§è¡Œé¢„å…ˆå®šå¥½çš„å¤§è®¢å•ï¼‰ä¸åŒï¼Œprofit-seekingäº¤æ˜“ç­–ç•¥ç›®çš„æ˜¯äº§ç”Ÿæ­£çš„æ”¶ç›Šã€‚\nsimple returns \u0026amp; logarithmic returns å‡è®¾P(t)å’ŒP(t-1)æ˜¯è¿ç»­è§‚æµ‹çš„ä»·æ ¼æ—¶é—´åºåˆ—ã€‚\nsimple returns: R(t) = (P(t)-P(t-1))/P(t-1) = P(t)/P(t-1) - 1 log returns: R(t) = log(P(t)/P(t-1)) = logP(t) - logP(t-1) PS: è¿™é‡Œçš„logä»¥eä¸ºåº•ï¼Œæ˜¯è‡ªç„¶å¯¹æ•°ã€‚ä¸ºä»€ä¹ˆè¦æœ‰logæ”¶ç›Šï¼Ÿ\nä¹˜æ³•å˜åŠ æ³•ï¼šå¯¹æ•°æ”¶ç›Šå°†å¤åˆ©æ”¶ç›Šçš„ä¹˜æ³•è¿ç®—è½¬æ¢ä¸ºåŠ æ³•è¿ç®—ï¼Œä½¿è®¡ç®—å˜å¾—æ›´åŠ ç®€å•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æœ‰è¿ç»­çš„å¯¹æ•°æ”¶ç›Šç‡ r1ã€r2 å’Œ r3ï¼Œé‚£ä¹ˆæ€»æ”¶ç›Šç‡å°±æ˜¯ r1 + r2 + r3ï¼Œè€Œä¸æ˜¯å¤åˆ©æ”¶ç›Šçš„ä¹˜æ³•è¿ç®—ã€‚ å¯¹ç§°æ€§ï¼šå¯¹æ•°æ”¶ç›Šç‡å…·æœ‰å¯¹ç§°æ€§ï¼Œå³æ­£æ”¶ç›Šå’Œè´Ÿæ”¶ç›Šä¹‹é—´çš„æ¯”ä¾‹å…³ç³»ä¿æŒä¸å˜ã€‚è¿™ä½¿å¾—å¯¹æ•°æ”¶ç›Šæ›´æ˜“äºåˆ†æå’Œæ¯”è¾ƒï¼Œå°¤å…¶æ˜¯åœ¨è®¡ç®—æŠ•èµ„ç»„åˆçš„é£é™©å’Œæ”¶ç›Šæ—¶ã€‚ è¿ç»­æ—¶é—´ï¼šåœ¨è¿ç»­æ—¶é—´æ¨¡å‹ä¸­ï¼Œä½¿ç”¨å¯¹æ•°æ”¶ç›Šç‡æ›´ä¸ºæ–¹ä¾¿ã€‚è¿™æ˜¯å› ä¸ºåœ¨è¿ç»­æ—¶é—´ä¸­ï¼Œæ”¶ç›Šç‡å¯ä»¥è¢«çœ‹ä½œæ˜¯éšæ—¶é—´è¿ç»­å˜åŒ–çš„ï¼Œè€Œå¯¹æ•°æ”¶ç›Šç‡çš„åŠ æ³•ç‰¹æ€§ä½¿å¾—åœ¨è¿™ç§æƒ…å†µä¸‹çš„è®¡ç®—æ›´åŠ ç®€å•ã€‚ æ•°å€¼ç¨³å®šæ€§ï¼šå¯¹æ•°æ”¶ç›Šç‡æä¾›äº†æ›´å¥½çš„æ•°å€¼ç¨³å®šæ€§ã€‚å½“æ”¶ç›Šç‡å¾ˆå°æˆ–è€…æ•°æ®é‡å¾ˆå¤§æ—¶ï¼Œä½¿ç”¨å¯¹æ•°æ”¶ç›Šç‡å¯ä»¥å‡å°‘æµ®ç‚¹æ•°è®¡ç®—ä¸­çš„è¯¯å·®ã€‚ æ­£æ€åˆ†å¸ƒï¼šåœ¨è®¸å¤šé‡‘èæ¨¡å‹ä¸­ï¼Œæ”¶ç›Šç‡è¢«å‡è®¾ä¸ºæ­£æ€åˆ†å¸ƒã€‚å¯¹æ•°æ”¶ç›Šç‡çš„åˆ†å¸ƒæ›´æ¥è¿‘äºæ­£æ€åˆ†å¸ƒï¼Œå› æ­¤åœ¨è¿™äº›æ¨¡å‹ä¸­æ›´é€‚ç”¨ã€‚ å¯¹äºä¸€ä¸ªèµ„äº§ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡‡å–ä»¥ä¸‹ä¸‰ç§ç«‹åœº\nlongï¼Œåšå¤šï¼ˆä¹°å…¥ï¼‰ï¼Œå› ä¸ºæˆ‘ä»¬æœŸæœ›ä»·æ ¼èµ°é«˜ã€‚ flatï¼Œä¸ä¹°ä¸å–ï¼Œä¸ç¡®å®šã€‚ shortï¼Œåšç©ºï¼ˆå–å‡ºï¼‰ï¼Œæˆ‘ä»¬é¢„æµ‹ä»·æ ¼ä¼šèµ°ä½ã€‚ å½“æˆ‘ä»¬é€‰æ‹©åšç©ºï¼Œä¹°å…¥æ—¶é—´åœ¨å–å‡ºæ—¶é—´ä¹‹åã€‚åšç©ºåä¸¤ç§æ”¶ç›Šæ¯”è¾ƒ\nlog return: åšç©ºçš„log return = - åšå¤šçš„log return simple return: ç›¸å¯¹äºå¤šå¤´çš„returnï¼Œç©ºå¤´çš„returnç¨å¾®å¤æ‚ä¸€äº›ï¼š$-R_t/(R_t+1)$ ROCå‡½æ•° ç”¨TTRåŒ…ä¸­çš„ROCå‡½æ•°è®¡ç®—return\nROCå‡½æ•°çš„å‚æ•°ç±»å‹å¯ä»¥æœ‰ä¸¤ç§\nå¯¹äºç®€å•æ”¶ç›Šï¼Œå°±æ˜¯ç¦»æ•£çš„ï¼ˆdiscereteï¼‰ å¯¹äºlog returnï¼Œå°±æ˜¯è¿ç»­çš„ï¼ˆcontinuousï¼‰ simple_ret \u0026lt;- ROC(prices,type=\u0026#39;discrete\u0026#39;) log_ret \u0026lt;- ROC(prices,type=\u0026#39;continuous\u0026#39;) Equity Curves äº¤æ˜“ç­–ç•¥ç›ˆåˆ©èƒ½åŠ›çš„æ—¶é—´åºåˆ—å›¾ã€‚å®ƒä»£è¡¨äº†åœ¨ç‰¹å®šæ—¶é—´å†…ï¼ŒæŠ•èµ„ç»„åˆä»·å€¼çš„å˜åŒ–ã€‚equity curvesæ˜¯ç”±æŠ•èµ„ç»„åˆçš„æ¯ä¸ªå‘¨æœŸç»“æŸæ—¶çš„å‡€å€¼ï¼ˆå³èµ„äº§æ€»å€¼å‡å»è´Ÿå€ºæ€»å€¼ï¼‰è®¡ç®—å¾—å‡ºçš„ã€‚\nPerfect Returns è¿™æ˜¯é€šè¿‡perfect positionè®¡ç®—å‡ºæ¥çš„ï¼Œå½“å¸‚åœºä¸Šå‡æ—¶åšå¤šï¼Œä¸‹é™æ—¶åšç©º\nCopycat strategy æˆ‘ä»¬å‡ ä¹ä¸å¯èƒ½æ‹¿åˆ°perfect returnï¼Œæ²¡äººä¼šå‡†ç¡®é¢„æµ‹å¸‚åœºã€‚Copycat strategyå°±æ˜¯å¾ˆç²—æš´çš„ç­–ç•¥ã€‚å¦‚æœå½“å¤©æ”¶ç›˜ä»·\u0026gt;å½“å¤©å¼€ç›˜ä»·ï¼Œé‚£ä¹ˆç¬¬äºŒå¤©å°±ä¹°å…¥ï¼Œå¦åˆ™ç¬¬äºŒå¤©å°±å–å‡ºã€‚\nè¿™ä¸ªç­–ç•¥å¾ˆè ¢ï¼Œä½†ä»€ä¹ˆæ—¶å€™ä¼šæœ‰ç”¨ï¼Ÿ\nä»·æ ¼è¿ç»­å¾ˆå¤šå¤©éƒ½æœä¸€ä¸ªæ–¹å‘ç§»åŠ¨ã€‚ å½“ä»·æ ¼ç§»åŠ¨æ–¹å‘å’Œå‰ä¸€å¤©ä¸åŒæ—¶ï¼Œæˆ‘ä»¬ä¸ä¼šæœ‰å¤ªå¤šæŸå¤±ã€‚ æµ‹è¯•è¿™ä¸ªç­–ç•¥\nä½¿ç”¨utilities.Rä¸­çš„å‡½æ•° getLogReturns(prices)ä»è°ƒæ•´åçš„ä»·æ ¼è®¡ç®—log return getEquityLog(log_ret,pos)ä»log returnå’Œä½ç½®å‘é‡ä¸Šè®¡ç®—ä¸€ä¸ªsimple returns equity curve Risk reward measures ç›ˆåˆ©èƒ½åŠ›çš„è¡¡é‡æ ‡å‡†ä¸é£é™©çš„è¡¡é‡æ ‡å‡†ç›¸ç»“åˆçš„ç»©æ•ˆè¡¡é‡æ ‡å‡†ã€‚\nSharpe Ratio Information Ratio Sortino Ratio Maximum drawdown Calmer Ratio è¿™äº›æ¯”ç‡éƒ½åœ¨PerformanceAnalyticsåŒ…ä¸­å®ç°ã€‚\nMaximum drawdownæœ€å¤§å›æ’¤ æè¿°çš„æ˜¯æŠ•èµ„ç»„åˆåœ¨é€‰å®šçš„æ—¶é—´æ®µå†…å¯èƒ½é­å—çš„æœ€å¤§æŸå¤±ï¼Œå³ä»æŸä¸ªæ—¶é—´ç‚¹çš„æŠ•èµ„ç»„åˆä»·å€¼é«˜ç‚¹åˆ°éšåçš„ä½ç‚¹ä¹‹é—´çš„èµ„äº§ä»·å€¼çš„æœ€å¤§ä¸‹é™å¹…åº¦ã€‚\nä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä½ æŠ•èµ„çš„è‚¡ç¥¨åœ¨ä¸€æ®µæ—¶é—´å†…ä»100å…ƒä¸Šå‡åˆ°200å…ƒï¼Œç„¶ååˆé™åˆ°50å…ƒï¼Œé‚£ä¹ˆä½ çš„æœ€å¤§å›æ’¤å°±æ˜¯ï¼ˆ200-50ï¼‰/200 = 75%ã€‚è¿™è¯´æ˜åœ¨æœ€å·®çš„æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½ä¼šæŸå¤±æ‰75%çš„æŠ•èµ„ä»·å€¼ã€‚\næœ€å¤§å›æ’¤æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„é£é™©åº¦é‡æŒ‡æ ‡ï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿå¸®åŠ©æŠ•èµ„è€…ç†è§£å…¶æŠ•èµ„ç»„åˆåœ¨æœªæ¥å¯èƒ½é¢ä¸´çš„æœ€åæƒ…å†µã€‚ç„¶è€Œï¼Œä¹Ÿè¦æ³¨æ„çš„æ˜¯ï¼Œæœ€å¤§å›æ’¤ä»…ä»…æ˜¯è¿‡å»çš„å†å²è¡¨ç°ï¼Œå¹¶ä¸èƒ½é¢„æµ‹æœªæ¥ã€‚å¦å¤–ï¼Œæœ€å¤§å›æ’¤ä¹Ÿä¸åº”è¯¥å•ç‹¬ä½¿ç”¨ï¼Œåº”è¯¥ä¸å…¶ä»–é£é™©å’Œæ”¶ç›Šåº¦é‡ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å…¨é¢è¯„ä¼°æŠ•èµ„ç»„åˆçš„æ€§èƒ½ã€‚\nWealth Indexè´¢å¯ŒæŒ‡æ•° äº¤æ˜“ç­–ç•¥ (W6-W7) Moving averages å‰é¢æåˆ°çš„copycatç­–ç•¥åªæ˜¯æ ¹æ®å‰ä¸€å¤©çš„æ•°æ®æ¥å†³å®šç¬¬äºŒå¤©çš„ä¹°å–æ“ä½œã€‚è€Œmoving averagesç­–ç•¥çº³å…¥äº†æ›´å¤šçš„å†å²æ•°æ®æ¥è¿›è¡Œå†³ç­–ã€‚\næ—¶é—´åºåˆ—è¿‡æ»¤å™¨\nlow-pass filter: æ¶ˆé™¤çŸ­æœŸæ³¢åŠ¨ï¼Œç•™ä¸‹è¶‹åŠ¿ high-pass filter: æ¶ˆé™¤è¶‹åŠ¿ï¼Œç•™ä¸‹çŸ­æœŸæ³¢åŠ¨ å…¶ä¸­lowå’Œhighä»£è¡¨çš„æ˜¯é¢‘ç‡\nCausal filters: ç›®çš„æ˜¯åœ¨ä¸å¼•å…¥æœªæ¥ä¿¡æ¯ï¼ˆæœªæ¥åè§ï¼‰çš„æƒ…å†µä¸‹ï¼Œä»å†å²æ•°æ®ä¸­æå–æœ‰ç”¨çš„æ¨¡å¼æˆ–ä¿¡å·ã€‚\nå¦‚æœå…¶outputä»…ä¾èµ–äºç°åœ¨å’Œè¿‡å»çš„inputï¼Œé‚£ä¹ˆå°±æ˜¯casual å¦‚æœå…¶outputä¾èµ–äº†æœªæ¥çš„inputï¼Œé‚£ä¹ˆå°±æ˜¯non-casual åœ¨ç­–ç•¥å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨æœªæ¥ä¿¡æ¯ï¼ˆåœ¨å®é™…äº¤æ˜“ä¸­æ˜¯ä¸å¯è·å–çš„ï¼‰å¯¹ç­–ç•¥äº§ç”Ÿä¸åˆ‡å®é™…çš„ã€è¿‡äºä¹è§‚çš„æ•ˆæœã€‚é€šè¿‡ Causal Filterï¼Œå¯ä»¥ç¡®ä¿äº¤æ˜“ç­–ç•¥çš„æœ‰æ•ˆæ€§å’Œå®é™…å¯è¡Œæ€§ã€‚\nSimple \u0026amp; Exponential moving average\nSimple: å®ƒè®¡ç®—ä¸€æ®µæ—¶é—´å†…ï¼ˆå¦‚5å¤©ã€20å¤©ã€50å¤©ç­‰ï¼‰æ•°æ®çš„ç®—æœ¯å¹³å‡å€¼ã€‚ç®€å•ç§»åŠ¨å¹³å‡çº¿å¯èƒ½å—åˆ°å¼‚å¸¸å€¼çš„å½±å“ï¼Œå› æ­¤åœ¨å¤„ç†æ•°æ®æ—¶å¯èƒ½ä¸å¤Ÿçµæ´»ã€‚ Exponential: è¿™æ˜¯ä¸€ç§åŠ æƒç§»åŠ¨å¹³å‡çº¿æ–¹æ³•ï¼Œå®ƒèµ‹äºˆæœ€è¿‘çš„æ•°æ®ç‚¹æ›´é«˜çš„æƒé‡ï¼Œä½†æƒé‡æ˜¯æŒ‰æŒ‡æ•°è¡°å‡çš„æ–¹å¼åˆ†é…çš„ã€‚è¿™æ„å‘³ç€è¾ƒæ—©çš„æ•°æ®ç‚¹æƒé‡é€æ¸å‡å°ï¼Œä½†æ°¸è¿œä¸ä¼šå®Œå…¨æ¶ˆå¤±ã€‚æŒ‡æ•°ç§»åŠ¨å¹³å‡çº¿å¯¹äºè·Ÿè¸ªä»·æ ¼è¶‹åŠ¿éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒèƒ½å¹³æ»‘çŸ­æœŸæ³¢åŠ¨ï¼ŒåŒæ—¶å¯¹é•¿æœŸè¶‹åŠ¿ååº”çµæ•ã€‚ Bollinger Bandsè¶…ä¹°è¶…å–ç­–ç•¥ Bollinger Bands æ˜¯20ä¸–çºª80å¹´ä»£å¼€å‘çš„ä¸€ç§æŠ€æœ¯åˆ†ææŒ‡æ ‡ï¼Œç”¨äºç ”ç©¶é‡‘èå¸‚åœºçš„ä»·æ ¼æ³¢åŠ¨ã€‚å¸ƒæ—å¸¦åŒ…å«ä¸‰æ¡çº¿ï¼Œå³ä¸­é—´çº¿ã€ä¸Šé™çº¿å’Œä¸‹é™çº¿ï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©äº¤æ˜“è€…è¯†åˆ«å¸‚åœºçš„è¿‡åº¦ä¹°å…¥æˆ–è¿‡åº¦å–å‡ºç°è±¡ï¼Œä»è€ŒæŒ‡å¯¼äº¤æ˜“å†³ç­–ã€‚\nå‡å€¼å›å½’äº¤æ˜“ç­–ç•¥å°±ä½¿ç”¨äº†å¸ƒæ—å¸¦\nå½“å®ƒä»¬æš—ç¤ºå¸‚åœºè¶…å–(oversold)æ—¶ä¹°å…¥ å½“å®ƒä»¬æš—ç¤ºå¸‚åœºè¶…ä¹°(overbought)æ—¶å–å‡º å¸ƒæ—å¸¦çš„ä¸‰æ¡çº¿\nä¸­é—´çº¿ï¼ˆMiddle Bandï¼‰ï¼šé€šå¸¸ä¸ºä»·æ ¼çš„ç®€å•ç§»åŠ¨å¹³å‡ï¼ˆSMAï¼‰ï¼Œå¸¸è§çš„å‘¨æœŸè®¾ç½®ä¸º20å¤©ã€‚ ä¸Šé™çº¿ï¼ˆUpper Bandï¼‰ï¼šä¸Šé™çº¿æ˜¯ä¸­é—´çº¿åŠ ä¸Šä¸€ä¸ªæ ‡å‡†å·®ä¹˜ä»¥ç³»æ•°ï¼ˆé€šå¸¸ä¸º2ï¼‰ã€‚æ ‡å‡†å·®æ˜¯ä¸€ä¸ªç»Ÿè®¡æ¦‚å¿µï¼Œç”¨äºè¡¡é‡æ•°æ®çš„æ³¢åŠ¨ç¨‹åº¦ã€‚è¿™é‡Œçš„ç³»æ•°æ˜¯ç”¨äºè°ƒæ•´å¸¦å®½çš„ä¸€ä¸ªå‚æ•°ï¼Œé€šå¸¸è®¾ä¸º2ã€‚ ä¸‹é™çº¿ï¼ˆLower Bandï¼‰ï¼šä¸‹é™çº¿æ˜¯ä¸­é—´çº¿å‡å»ä¸€ä¸ªæ ‡å‡†å·®ä¹˜ä»¥ç³»æ•°ï¼ˆé€šå¸¸ä¸º2ï¼‰ã€‚ å¸ƒæ—å¸¦çš„å®½åº¦ä¼šéšç€ä»·æ ¼æ³¢åŠ¨çš„åŠ å¤§è€ŒåŠ å¤§ï¼Œåä¹‹åˆ™ç¼©å°ã€‚å¸ƒæ—å¸¦çš„å®½åº¦çš„å˜åŒ–å¯ä»¥ç”¨æ¥è¡¡é‡å¸‚åœºçš„æ³¢åŠ¨æ€§ã€‚å½“å¸ƒæ—å¸¦å˜çª„æ—¶ï¼Œè¡¨ç¤ºå¸‚åœºæ³¢åŠ¨è¾ƒå°ï¼Œå¯èƒ½é¢„ç¤ºç€å³å°†å‡ºç°çš„å¤§å¹…æ³¢åŠ¨ï¼ˆçªç ´ï¼‰ã€‚å½“å¸ƒæ—å¸¦å˜å®½æ—¶ï¼Œè¡¨ç¤ºå¸‚åœºæ³¢åŠ¨åŠ å¤§ï¼Œå¯èƒ½æš—ç¤ºç€è¶‹åŠ¿çš„æŒç»­ã€‚\nä½¿ç”¨AAPLè‚¡ç¥¨æ•°æ®ï¼Œåº”ç”¨å¸ƒæ—å¸¦æŠ€æœ¯æŒ‡æ ‡ï¼Œå¹¶é€‰æ‹©äº†2008å¹´ã€‚å›¾è¡¨çš„ç±»å‹è¢«è®¾ç½®ä¸ºçº¿å½¢å›¾ï¼ˆtype=\u0026lsquo;l\u0026rsquo;ï¼‰ã€‚\n\u0026gt; library(quantmod) \u0026gt; getSymbols(\u0026#39;AAPL\u0026#39;) \u0026gt; taString \u0026lt;- \u0026#39;addBBands();addBBands(draw=\u0026#34;p\u0026#34;)\u0026#39; \u0026gt; chartSeries(AAPL,TA=taString,subset=\u0026#39;2008\u0026#39;,type=\u0026#39;l\u0026#39;) å¸ƒæ—å¸¦çš„å‚æ•° bbands\u0026lt;-BBands(prices, n=n, sd=sd)ï¼Œå…¶ä¸­nè¡¨ç¤ºè®¡ç®—ä¸­è½¨çº¿çš„å‘¨æœŸä¸ºnå¤©ï¼Œsdè¡¨ç¤ºä¸Šä¸‹è½¨é“çº¿ç›¸å¯¹äºä¸­è½¨çº¿çš„æ ‡å‡†å·®å€æ•°ä¸ºsdï¼ˆä¸æ˜¯æ ‡å‡†å·®ï¼Œæ˜¯æ ‡å‡†å·®çš„å€æ•°ï¼ï¼‰ã€‚\nPath independence \u0026amp; dependence å¦‚æœä¸€ä¸ªäº¤æ˜“ç­–ç•¥ä¸ä¾èµ–è¿‡å»çš„å†³ç­–ï¼Œé‚£ä¹ˆè¿™ç§å†³ç­–è¢«ç§°ä¸ºè·¯å¾„æ— å…³ï¼Œpath independence.\nå¸ƒæ—å¸¦ç­–ç•¥å°±æ˜¯å…¸å‹çš„è·¯å¾„æ— å…³äº¤æ˜“ç­–ç•¥\nè·¯å¾„æ— å…³å®é™…ä¸Šæ˜¯ä¸€ç§å¾ˆä¸¥æ ¼çš„é™åˆ¶ï¼Œç°åœ¨å¤§éƒ¨åˆ†çš„äº¤æ˜“ç­–ç•¥éƒ½æ˜¯è·¯å¾„ç›¸å…³çš„ã€‚\nè®¸å¤šç­–ç•¥çš„æ„å»ºéƒ½éœ€è¦è·¯å¾„ä¾èµ–ï¼Œä¾‹å¦‚ä¸€äº›ç‰¹æ®Šçš„å–ç©ºæ¡ä»¶ï¼š\nHolding period (æŒæœ‰æ—¶é—´) profit target (ç›ˆåˆ©ç›®æ ‡) stop loss (æ­¢æŸç‚¹) Slippage ä¹‹å‰æåˆ°è¿‡ï¼Œå°±æ˜¯é‡å¾ˆå¤§æ²¡æœ‰å•å­èƒ½ä¸€ä¸‹æ¥çš„ä½ï¼Œé‚£ä¹ˆå–å‡ºçš„ä»·æ ¼å°±ä¼šåä½ï¼ˆä¹°å…¥çš„ä»·æ ¼ä¼šåé«˜ï¼‰ã€‚è¿™ç§æƒ…å†µé€šå¸¸åœ¨å¸‚åœºæ³¢åŠ¨è¾ƒå¤§æˆ–æµåŠ¨æ€§è¾ƒä½çš„æƒ…å†µä¸‹å‘ç”Ÿã€‚åœ¨ç­–ç•¥å›æµ‹ä¸­ï¼Œä¸ºäº†ä¿å®ˆèµ·è§ï¼Œæˆ‘ä»¬é€šå¸¸å‡è®¾æ»‘ç‚¹å¯¹äº¤æ˜“è€…æ˜¯ä¸åˆ©çš„ã€‚\nåœ¨ç­–ç•¥å›æµ‹æ—¶é‡‡ç”¨è¿™ç§å‡è®¾æ»‘ç‚¹ä¸ºè´Ÿçš„æ ‡å‡†æ–¹æ³•æ˜¯åœ¨ç­–ç•¥å›æµ‹ä¸­å¸¸ç”¨çš„ä¸€ç§æ–¹æ³•ã€‚è¿™æ ·å¯ä»¥ä½¿å›æµ‹ç»“æœæ›´åŠ ä¿å®ˆï¼Œä»è€Œé¿å…åœ¨å®é™…äº¤æ˜“ä¸­å› å¯¹ç­–ç•¥è¿‡äºä¹è§‚è€Œå¯¼è‡´çš„æŸå¤±ã€‚\næ‰€ä»¥åœ¨æ„å»ºäº¤æ˜“æ¨¡å‹æ—¶è¦ä¼°è®¡å®é™…æˆäº¤ä»·æ ¼ä¸é¢„æœŸæˆäº¤ä»·æ ¼ä¹‹é—´çš„å·®å¼‚ï¼Œè¿™å«åšæ¨¡æ‹Ÿæ»‘ç‚¹ã€‚\näº¤æ˜“ç­–ç•¥çš„ç‰¹ç‚¹ï¼šäº†è§£ç­–ç•¥åœ¨å“ªäº›å¸‚åœºç¯å¢ƒä¸­è¿›è¡Œäº¤æ˜“ã€‚å¦‚æœå…¶ä»–å¸‚åœºå‚ä¸è€…é‡‡å–ç±»ä¼¼ç­–ç•¥ï¼Œæ»‘ç‚¹å¯èƒ½ä¼šå˜å¾—æ›´ç³Ÿç³•ã€‚ä¾‹å¦‚ï¼š å¦‚æœåœ¨æ¶¨åŠ¿ä¸­ä¹°å…¥ï¼Œå¯èƒ½ä¼šå‡ºç°è´Ÿæ»‘ç‚¹ï¼Œå› ä¸ºè®¸å¤šäº¤æ˜“è€…å¯èƒ½åœ¨æ¶¨åŠ¿ä¸­ä¹°å…¥ï¼Œä»è€Œæ¨é«˜ä»·æ ¼ã€‚ å¦‚æœåœ¨æŠ›å”®è¿‡ç¨‹ä¸­ä¹°å…¥ï¼Œå¯èƒ½ä¼šå‡ºç°æ­£æ»‘ç‚¹ï¼Œå› ä¸ºåœ¨ä¾›åº”è¿‡å‰©çš„æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½å¯ä»¥ä»¥è¾ƒä½çš„ä»·æ ¼ä¹°å…¥ã€‚ ç‰¹å®šå¸‚åœºçš„ç‰¹ç‚¹ï¼šè€ƒè™‘ä½ æ‰€äº¤æ˜“çš„ç‰¹å®šå¸‚åœºï¼Œå› ä¸ºä¸åŒå¸‚åœºçš„æµåŠ¨æ€§å’Œæ³¢åŠ¨æ€§å¯èƒ½ä¼šå½±å“æ»‘ç‚¹ã€‚è¦è€ƒè™‘çš„ä¸€äº›å› ç´ åŒ…æ‹¬ï¼š è¢«äº¤æ˜“çš„èµ„äº§ï¼šæŸäº›èµ„äº§ï¼ˆå¦‚æµåŠ¨æ€§è¾ƒä½çš„è‚¡ç¥¨æˆ–åŠ å¯†è´§å¸ï¼‰å¯èƒ½æ¯”æµåŠ¨æ€§è¾ƒå¼ºçš„èµ„äº§ï¼ˆå¦‚ä¸»è¦è´§å¸å¯¹æˆ–å¤§ç›˜è‚¡ï¼‰å…·æœ‰æ›´é«˜çš„æ»‘ç‚¹ã€‚ å¸‚åœºäº¤æ˜“æ—¶é—´ï¼šåœ¨æµåŠ¨æ€§è¾ƒä½çš„æ—¶æ®µï¼ˆä¾‹å¦‚ï¼Œéæ­£å¸¸äº¤æ˜“æ—¶é—´ï¼‰è¿›è¡Œäº¤æ˜“å¯èƒ½å¯¼è‡´è¾ƒé«˜çš„æ»‘ç‚¹ã€‚ æ–°é—»ä¸äº‹ä»¶ï¼šé‡å¤§æ–°é—»äº‹ä»¶æˆ–ç»æµæ•°æ®å‘å¸ƒå¯èƒ½å¯¼è‡´æ³¢åŠ¨æ€§çªç„¶å¢åŠ ï¼Œä»è€Œå¯¼è‡´æ»‘ç‚¹å¢åŠ ã€‚ æ•°æ®å¯ç”¨æ€§ï¼šä¸ºäº†å‡†ç¡®åœ°æ¨¡æ‹Ÿæ»‘ç‚¹ï¼Œç†æƒ³æƒ…å†µä¸‹éœ€è¦è®¿é—®é«˜è´¨é‡æ•°æ®ï¼ŒåŒ…æ‹¬ï¼š è®¢å•ç°¿æ•°æ®ï¼šæ­¤ç±»æ•°æ®æä¾›äº†ä¸åŒä»·æ ¼å’Œæ•°é‡çš„ä¿¡æ¯ï¼Œæœ‰åŠ©äºæ›´å‡†ç¡®åœ°ä¼°è®¡æ»‘ç‚¹ã€‚ æˆäº¤é‡æ•°æ®ï¼šå¯ä»¥å¸®åŠ©äº†è§£å¸‚åœºçš„æµåŠ¨æ€§çŠ¶å†µï¼Œä»è€Œæ›´å¥½åœ°é¢„æµ‹æ»‘ç‚¹ã€‚ å‡å€¼å›å½’ç­–ç•¥ 2ç±»ç­–ç•¥\nmean reversion/contrarian/overbought-oversold å‡å€¼å›å½’/åå‘/è¶…ä¹°è¶…å– trend following / momentum ç¬¬ä¸€ç±»ç­–ç•¥æ˜¯åŸºäºå¸‚åœºå¯èƒ½å‡ºç°é”™è¯¯å®šä»·çš„è§‚ç‚¹ã€‚è¿™äº›ç­–ç•¥åœ¨å®æ–½æ—¶å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚\nå‡å€¼å›å½’ç­–ç•¥è®¤ä¸ºä»·æ ¼ä¼šåœ¨ä¸€æ®µæ—¶é—´å†…å›å½’åˆ°å…¶é•¿æœŸå¹³å‡å€¼ã€‚ Contrarianç­–ç•¥æ˜¯æŠ•èµ„è€…ç›¸ä¿¡å¸‚åœºå¯èƒ½å¯¹æŸäº›èµ„äº§çš„ä»·æ ¼ä½œå‡ºé”™è¯¯åˆ¤æ–­ï¼Œå› æ­¤ä¼šé‡‡å–ä¸å¤§å¤šæ•°äººç›¸åçš„äº¤æ˜“è¡Œä¸ºã€‚ä»–ä»¬è¯•å›¾åˆ©ç”¨å¸‚åœºçš„è¿‡åº¦ååº”æ¥è·å¾—åˆ©æ¶¦ã€‚ è¶…ä¹°è¶…å–ç­–ç•¥åˆ™å…³æ³¨å¸‚åœºä¸­çš„çŸ­æœŸæ³¢åŠ¨ï¼Œè¯•å›¾æ•æ‰ä»·æ ¼åœ¨è¾¾åˆ°æç«¯æ°´å¹³åå¯èƒ½å‡ºç°çš„åè½¬ã€‚ ç»Ÿè®¡å¥—åˆ©ï¼ˆStatistical Arbitrageï¼‰ è¿™æ˜¯ä¸€ç§å¤æ‚çš„é‡åŒ–æŠ•èµ„ç­–ç•¥ï¼Œåˆ©ç”¨ç»Ÿè®¡æ–¹æ³•é¢„æµ‹å’Œåˆ©ç”¨é‡‘èå¸‚åœºçš„ä»·æ ¼åå·®ã€‚ åŸºæœ¬æ€è·¯æ˜¯å»ºç«‹ä¸€ä¸ªæ¨¡å‹æ¥è¯†åˆ«ä»·æ ¼åç¦»å…¶é¢„æœŸå€¼çš„æƒ…å†µï¼Œç„¶ååˆ©ç”¨è¿™ç§åç¦»è¿›è¡Œäº¤æ˜“ï¼Œä»¥æœŸå¾…ä»·æ ¼å›å½’é¢„æœŸå€¼ã€‚ é…å¯¹äº¤æ˜“ï¼ˆPairs Tradingï¼‰ é…å¯¹äº¤æ˜“æ˜¯ç»Ÿè®¡å¥—åˆ©çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ã€‚å®ƒåŸºäºä¸¤åªæˆ–æ›´å¤šç›¸å…³èµ„äº§ï¼ˆé€šå¸¸æ˜¯è‚¡ç¥¨ï¼‰ä¹‹é—´çš„å†å²ä»·æ ¼å…³ç³»ã€‚ å½“è¿™äº›èµ„äº§çš„ä»·æ ¼å…³ç³»åç¦»å†å²æ­£å¸¸æ°´å¹³æ—¶ï¼Œäº¤æ˜“å‘˜ä¼šä¹°å…¥ä»·æ ¼åä½çš„èµ„äº§å¹¶å–å‡ºä»·æ ¼åé«˜çš„èµ„äº§ï¼Œç­‰å¾…ä»·æ ¼å›å½’æ­£å¸¸å…³ç³»æ—¶å†å¹³ä»“ï¼Œä»è€Œè·å¾—åˆ©æ¶¦ã€‚ é…å¯¹äº¤æ˜“çš„éš¾åº¦åœ¨äºæ‰¾åˆ°æ­£ç¡®çš„é…å¯¹èµ„äº§ï¼Œéœ€è¦å¯¹è¡Œä¸šå’Œå…¬å¸æœ‰æ·±å…¥çš„ç†è§£ï¼Œå¹¶ä¸”éœ€è¦è¶³å¤Ÿçš„æ•°æ®æ¥æ”¯æŒç­–ç•¥ã€‚ PS: ç»Ÿè®¡å¥—åˆ©å’Œé…å¯¹äº¤æ˜“éƒ½å±äºå‡å€¼å›å½’ç­–ç•¥çš„ä¸€ç§ï¼Œè¿™äº›ç­–ç•¥åŸºäºä¸€ä¸ªå‡è®¾ï¼šå¸‚åœºä»·æ ¼æˆ–ä»·æ ¼å·®ï¼ˆåœ¨é…å¯¹äº¤æ˜“ä¸­ï¼‰ä¼šå›å½’åˆ°å®ƒä»¬çš„å†å²å¹³å‡å€¼ã€‚\nåæ•´ç†è®ºï¼ˆCointegrationï¼‰\nç”¨äºæè¿°ä¸¤ä¸ªæˆ–æ›´å¤šä¸ªæ—¶é—´åºåˆ—ä¹‹é—´çš„é•¿æœŸå‡è¡¡å…³ç³»ã€‚ åœ¨é‡‘èä¸­ï¼Œåæ•´ç†è®ºçš„åº”ç”¨ä¸»è¦ä½“ç°åœ¨é…å¯¹äº¤æ˜“æˆ–å…¶ä»–ç»Ÿè®¡å¥—åˆ©ç­–ç•¥ä¸­ã€‚å¦‚æœä¸¤åªè‚¡ç¥¨çš„ä»·æ ¼æ˜¯åæ•´çš„ï¼Œé‚£ä¹ˆä»–ä»¬çš„ä»·æ ¼å°†ä¿æŒä¸€å®šçš„é•¿æœŸå…³ç³»ã€‚å¦‚æœè¿™ç§å…³ç³»æš‚æ—¶åç¦»äº†å†å²æ­£å¸¸æ°´å¹³ï¼Œé‚£ä¹ˆäº¤æ˜“å‘˜å¯ä»¥é¢„æœŸå®ƒä¼šåœ¨æœªæ¥å›å½’åˆ°è¿™ç§å…³ç³»ï¼Œå¹¶æ®æ­¤è¿›è¡Œäº¤æ˜“ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœè‚¡ç¥¨Aå’Œè‚¡ç¥¨Bæ˜¯åæ•´çš„ï¼Œå¹¶ä¸”Aç›¸å¯¹äºBæš‚æ—¶è¿‡é«˜ï¼Œé‚£ä¹ˆäº¤æ˜“å‘˜å¯èƒ½ä¼šå–å‡ºAå¹¶ä¹°å…¥Bï¼Œç­‰å¾…ä»·æ ¼å›å½’åˆ°ä»–ä»¬çš„é•¿æœŸå…³ç³»ã€‚ éšå¼ä»“ä½æ¯”ç‡ï¼ˆImplied Position Ratioï¼‰/å¯¹å†²æ¯”ç‡ï¼ˆHedge Ratioï¼‰\nè¿™ä¸ªæ¯”ç‡æè¿°äº†éœ€è¦ç”¨ä¸€ä¸ªèµ„äº§å»å¯¹å†²å¦ä¸€ä¸ªèµ„äº§é£é™©çš„æ•°é‡ã€‚ è¿™ç§ç­–ç•¥çš„å…³é”®åœ¨äºï¼Œä¸¤ä¸ªèµ„äº§çš„ä»·æ ¼å˜åŒ–æ˜¯ç›¸å…³çš„ã€‚ä¸¤ä¸ªèµ„äº§çš„ä»·æ ¼å˜åŒ–ä¹Ÿä¼šåœ¨å¾ˆçŸ­çš„æ—¶é—´å†…å˜å¾—ä¸å†ç›¸å…³ï¼Œæ‰€ä»¥è¦å¯†åˆ‡å…³æ³¨ã€‚ å¯¹å†²æ¯”ç‡é€šå¸¸é€šè¿‡å›å½’åˆ†ææ¥ç¡®å®šã€‚ å‡è®¾æœ‰ä¸¤åªè‚¡ç¥¨ï¼Œè‹¹æœï¼ˆAAPLï¼‰å’Œå¾®è½¯ï¼ˆMSFTï¼‰ï¼Œé€šè¿‡å›å½’åˆ†æï¼Œæˆ‘ä»¬å‘ç°æ¯å½“è‹¹æœè‚¡ä»·å˜åŠ¨1ç¾å…ƒï¼Œå¾®è½¯è‚¡ä»·é€šå¸¸å˜åŠ¨0.5ç¾å…ƒï¼Œé‚£ä¹ˆå¯¹å†²æ¯”ç‡å°±æ˜¯0.5ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬æŒæœ‰1ç¾å…ƒçš„è‹¹æœè‚¡ç¥¨ï¼Œå¯ä»¥é€šè¿‡å–å‡º0.5ç¾å…ƒçš„å¾®è½¯è‚¡ç¥¨æ¥å¯¹å†²æˆ‘ä»¬çš„è‹¹æœè‚¡ç¥¨é£é™©ã€‚ åœ¨é…å¯¹äº¤æ˜“æˆ–ç»Ÿè®¡å¥—åˆ©ç­–ç•¥ä¸­ï¼ŒæŠ•èµ„è€…å¹¶ä¸æ˜¯å› ä¸ºé¢„æµ‹åˆ°æŸä¸€æ”¯è‚¡ç¥¨ä¼šäºæŸæ‰é€‰æ‹©æŒæœ‰å®ƒï¼Œè€Œæ˜¯å› ä¸ºä»–ä»¬é¢„æµ‹åˆ°ä¸¤æ”¯è‚¡ç¥¨ä¹‹é—´çš„ä»·æ ¼å·®è·ä¼šæ”¶æ•›ã€‚ å‡è®¾è‹¹æœï¼ˆAAPLï¼‰å’Œå¾®è½¯ï¼ˆMSFTï¼‰çš„è‚¡ç¥¨ä»·æ ¼æœ‰ä¸€å®šçš„ç›¸å…³æ€§ï¼Œè€Œç°åœ¨è¿™ä¸¤è€…çš„ä»·æ ¼å·®è·å¤§äºå†å²å¹³å‡æ°´å¹³ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç›¸å¯¹äºå¾®è½¯ï¼Œè‹¹æœçš„è‚¡ç¥¨è¢«ä½ä¼°äº†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒæŠ•èµ„è€…å¯èƒ½ä¼šè´­ä¹°è‹¹æœè‚¡ç¥¨ï¼Œå¹¶åŒæ—¶å–ç©ºå¾®è½¯è‚¡ç¥¨ï¼Œå¸Œæœ›å½“ä¸¤è€…çš„ä»·æ ¼å·®è·å›å½’åˆ°å†å²æ­£å¸¸æ°´å¹³æ—¶è·åˆ©ã€‚ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå³ä½¿è‹¹æœçš„è‚¡ç¥¨ä»·æ ¼ä¸‹è·Œï¼Œå¦‚æœå¾®è½¯çš„è‚¡ç¥¨ä»·æ ¼ä¸‹è·Œå¾—æ›´å¤šï¼ˆè¿™æ˜¯æœ‰å¯èƒ½çš„ï¼Œå› ä¸ºä¸¤è€…çš„è‚¡ç¥¨ä»·æ ¼æœ‰ç›¸å…³æ€§ï¼‰ï¼Œé‚£ä¹ˆæŠ•èµ„è€…ä»ç„¶æœ‰å¯èƒ½è·åˆ©ï¼Œå› ä¸ºä»–ä»¬æ˜¯ä»ä¸¤è€…çš„ä»·æ ¼å·®è·æ”¶æ•›ä¸­è·åˆ©ï¼Œè€Œä¸æ˜¯ä»å•ä¸€è‚¡ç¥¨çš„æ¶¨è·Œä¸­è·åˆ©ã€‚ ä¸Šé¢çš„è¯ä½¿æˆ‘å¯¹äºå¯¹å†²çš„ç†è§£æ›´åŠ æ·±åˆ»ğŸ‘† spreadé€šå¸¸æŒ‡çš„æ˜¯ä¸¤ä¸ªæˆ–æ›´å¤šç›¸å…³èµ„äº§ä¹‹é—´çš„ä»·æ ¼å·®å¼‚ã€‚æ ¹æ®èµ„äº§çš„ç§ç±»å’Œäº¤æ˜“çš„æ—¶é—´ï¼Œspreadå¯ä»¥åœ¨å¾ˆå¤šä¸åŒçš„æƒ…å†µä¸‹å»ºç«‹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ä¾‹å­ï¼š\nåœ¨åŒä¸€ä¸ªå•†å“çš„ä¸åŒæœˆä»½ä¹‹é—´ã€‚ä¾‹å¦‚å¯ä»¥åœ¨3æœˆä»½çš„åŸæ²¹æœŸè´§å’Œ5æœˆä»½çš„åŸæ²¹æœŸè´§ä¹‹é—´å»ºç«‹ä¸€ä¸ªspreadã€‚è¿™æ˜¯ä¸€ç§å¸¸è§çš„æœŸè´§äº¤æ˜“ç­–ç•¥ï¼ŒæŠ•èµ„è€…é¢„æœŸåŒä¸€å•†å“åœ¨ä¸åŒäº¤å‰²æœˆä»½çš„ä»·æ ¼ä¼šæœ‰ä¸€å®šçš„å˜åŒ–ã€‚(called an interdelivery spread/ calendar spread) åœ¨åŒä¸€ä¸ªæˆ–ç›¸å…³å•†å“ä¹‹é—´å»ºç«‹ï¼Œé€šå¸¸æ˜¯åœ¨åŒä¸€ä¸ªæœˆä»½ã€‚ä¾‹å¦‚ï¼Œåœ¨é»„é‡‘å’Œç™½é“¶ä¹‹é—´å»ºç«‹ä¸€ä¸ªspreadã€‚è¿™ç§ç­–ç•¥é€šå¸¸ç”¨äºå¥—åˆ©äº¤æ˜“ï¼ŒæŠ•èµ„è€…é¢„æœŸä¸¤ç§ç›¸å…³å•†å“çš„ä»·æ ¼å·®å°†å›å½’åˆ°å…¶å†å²å¹³å‡æ°´å¹³ã€‚(intercommodity spread) åœ¨åœ¨ä¸¤ä¸ªä¸åŒçš„äº¤æ˜“æ‰€ä¸Šäº¤æ˜“çš„åŒä¸€ç§æˆ–ç›¸å…³å•†å“ä¹‹é—´å»ºç«‹ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨çº½çº¦å•†å“äº¤æ˜“æ‰€äº¤æ˜“çš„é»„é‡‘æœŸè´§å’Œä¼¦æ•¦é‡‘å±äº¤æ˜“æ‰€äº¤æ˜“çš„é»„é‡‘æœŸè´§ä¹‹é—´å»ºç«‹ä¸€ä¸ªspreadã€‚è¿™ç§ç­–ç•¥é€šå¸¸ç”¨äºåˆ©ç”¨ä¸åŒå¸‚åœºä¹‹é—´çš„ä»·æ ¼å·®å¼‚è¿›è¡Œå¥—åˆ©ã€‚(Intermarket Spread) åœ¨ä¸¤åªè‚¡ç¥¨ä¹‹é—´å»ºç«‹çš„ï¼Œè¿™ä¸¤åªè‚¡ç¥¨é€šå¸¸æ˜¯åœ¨åŒä¸€è¡Œä¸šæˆ–å¸‚åœºä¸­ï¼Œæœ‰ç›¸ä¼¼çš„å•†ä¸šæ¨¡å¼æˆ–ç»æµå½±å“å› ç´ ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨è‹¹æœï¼ˆAAPLï¼‰å’Œå¾®è½¯ï¼ˆMSFTï¼‰ä¹‹é—´å»ºç«‹ä¸€ä¸ªspreadã€‚è¿™ç§ç­–ç•¥é€šå¸¸ç”¨äºåˆ©ç”¨ä¸¤åªè‚¡ç¥¨ä»·æ ¼çš„ç›¸å¯¹æ³¢åŠ¨è¿›è¡Œå¥—åˆ©ã€‚(Pairs Trading) ç¬¬äºŒç±»ç­–ç•¥æ˜¯åŸºäºèµ„äº§ä»·æ ¼è¡Œä¸ºçš„ä¸€ç§æ–¹å¼ã€‚\nè¶‹åŠ¿è¿½è¸ªç­–ç•¥æ˜¯ä¸€ç§åŸºäºå†å²ä»·æ ¼è¶‹åŠ¿é¢„æµ‹æœªæ¥ä»·æ ¼è¶‹åŠ¿çš„ç­–ç•¥ã€‚è¶‹åŠ¿è¿½è¸ªè€…è®¤ä¸ºå¸‚åœºä»·æ ¼å±•ç°å‡ºä¸€å®šçš„åŠ¨é‡æˆ–è¶‹åŠ¿ï¼Œå¹¶ä¼šå°è¯•åˆ©ç”¨è¿™äº›è¶‹åŠ¿è¿›è¡ŒæŠ•èµ„ã€‚å½“èµ„äº§ä»·æ ¼æ˜¾ç°å‡ºä¸Šæ¶¨è¶‹åŠ¿æ—¶ï¼Œè¶‹åŠ¿è¿½è¸ªè€…å°†ä¹°å…¥è¯¥èµ„äº§ï¼›å½“èµ„äº§ä»·æ ¼æ˜¾ç°å‡ºä¸‹è·Œè¶‹åŠ¿æ—¶ï¼Œè¶‹åŠ¿è¿½è¸ªè€…å°†å–å‡ºæˆ–åšç©ºè¯¥èµ„äº§ã€‚ åŠ¨é‡æŠ•èµ„ç­–ç•¥æ˜¯ä¸€ç§åŸºäºèµ„äº§è¿‘æœŸä»·æ ¼è¡¨ç°é¢„æµ‹æœªæ¥ä»·æ ¼è¡¨ç°çš„ç­–ç•¥ã€‚åŠ¨é‡æŠ•èµ„è€…è®¤ä¸ºè¿‡å»ä¸€æ®µæ—¶é—´å†…è¡¨ç°è¾ƒå¥½çš„èµ„äº§å°†åœ¨æœªæ¥ç»§ç»­è¡¨ç°ä¼˜ç§€ï¼Œè€Œè¡¨ç°è¾ƒå·®çš„èµ„äº§å°†åœ¨æœªæ¥ç»§ç»­è¡¨ç°ç–²å¼±ã€‚å› æ­¤ï¼Œä»–ä»¬ä¼šè´­ä¹°è¿‘æœŸè¡¨ç°ä¼˜ç§€çš„èµ„äº§ï¼Œå¹¶å–å‡ºæˆ–åšç©ºè¿‘æœŸè¡¨ç°ç–²å¼±çš„èµ„äº§ã€‚ äºŒè€…åŒºåˆ«ï¼šè¿™ä¸¤ç§ç­–ç•¥éƒ½æ˜¯è¯•å›¾ä»å¸‚åœºè¶‹åŠ¿å’ŒåŠ¨é‡ä¸­è·åˆ©ï¼Œä½†è¶‹åŠ¿è¿½è¸ªæ›´æ³¨é‡é•¿æœŸè¶‹åŠ¿ï¼Œè€ŒåŠ¨é‡æŠ•èµ„æ›´æ³¨é‡çŸ­æœŸä»·æ ¼è¡¨ç°ã€‚\nè·Ÿè¸ªæ­¢æŸå’Œç›ˆåˆ©ç›®æ ‡\nåŠ¨é‡ç­–ç•¥é€šå¸¸ä½¿ç”¨æ­¢æŸï¼ˆStop Lossï¼‰ä½œä¸ºé€€å‡ºç­–ç•¥ï¼Œè€Œå‡å€¼å›å½’ç­–ç•¥é€šå¸¸ä½¿ç”¨åˆ©æ¶¦ç›®æ ‡ï¼ˆProfit Targetï¼‰ä½œä¸ºé€€å‡ºç­–ç•¥ã€‚ Stop Lossï¼šè¿™æ˜¯ä¸€ç§é¢„å…ˆè®¾å®šçš„è®¢å•ï¼Œæ—¨åœ¨é™åˆ¶æŠ•èµ„è€…å¯èƒ½é­å—çš„æŸå¤±ã€‚è¿™é€šå¸¸åœ¨ä»·æ ¼å‘å¯¹æŠ•èµ„è€…ä¸åˆ©çš„æ–¹å‘ç§»åŠ¨æ—¶è§¦å‘ã€‚åœ¨åŠ¨é‡ç­–ç•¥ä¸­ï¼Œæ­¢æŸè®¢å•å¯ä»¥å¸®åŠ©æŠ•èµ„è€…åœ¨å¸‚åœºåè½¬æ—¶ä¿æŠ¤å…¶èµ„æœ¬ã€‚ Profit Targetï¼šè¿™æ˜¯é¢„å…ˆè®¾å®šçš„ä»·æ ¼çº§åˆ«ï¼Œä¸€æ—¦è¾¾åˆ°è¯¥çº§åˆ«ï¼ŒæŠ•èµ„è€…å°†å…³é—­ä½ç½®ä»¥è·å–åˆ©æ¶¦ã€‚åœ¨å‡å€¼å›å½’ç­–ç•¥ä¸­ï¼Œåˆ©æ¶¦ç›®æ ‡å¯ä»¥å¸®åŠ©æŠ•èµ„è€…åœ¨ä»·æ ¼å›å½’åˆ°å…¶å‡å€¼æ—¶é”å®šåˆ©æ¶¦ã€‚ Trailing Stop Lossï¼šè¿™æ˜¯ä¸€ç§åŠ¨æ€çš„æ­¢æŸç­–ç•¥ã€‚å½“äº¤æ˜“ä»·æ ¼å‘æœ‰åˆ©çš„æ–¹å‘ç§»åŠ¨æ—¶ï¼Œè·Ÿè¸ªæ­¢æŸå°†è·Ÿéšå¸‚åœºä»·æ ¼ç§»åŠ¨ï¼Œä»è€Œå…è®¸æŠ•èµ„è€…åœ¨ä¿æŠ¤å…¶èµ„æœ¬çš„åŒæ—¶ï¼Œæ•è·æ›´å¤šçš„åˆ©æ¶¦ã€‚è·Ÿè¸ªæ­¢æŸé€šå¸¸ç›¸å¯¹äºäº¤æ˜“çš„æœ€ä½³ä»·æ ¼è€Œä¸æ˜¯å…¥åœºä»·æ ¼è¿›è¡Œè®¾ç½®ã€‚ å›æº¯æµ‹è¯•ï¼Œä¼˜åŒ–ä»¥åŠäº¤å‰éªŒè¯(W7-W9) äº¤å‰éªŒè¯ æƒ³çŸ¥é“æ¨¡å‹åœ¨æœªæ¥äº¤æ˜“ä¸­è¡¨ç°æ€ä¹ˆæ ·ï¼Œè¦ç”¨åˆ°äº¤å‰éªŒè¯ã€‚ç»Ÿè®¡å­¦ä¸­äº¤å‰éªŒè¯çš„æ¦‚å¿µï¼šæŠŠè®­ç»ƒçš„æ¨¡å‹ä¸€èˆ¬åŒ–åˆ°ä¸å¯è§çš„æ•°æ®é›†ä¸­è¡¨ç°æ€ä¹ˆæ ·ã€‚äº¤å‰éªŒè¯é™ä½äº†data-snooping biasï¼ˆæ•°æ®çª¥æ¢é£é™©ï¼‰\nIn-sampleå’Œout-sample test in-sampleå°±æ˜¯è®­ç»ƒé›†ï¼Œout-sampleå°±æ˜¯æµ‹è¯•é›†\nä½œç”¨\né˜²æ­¢è¿‡æ‹Ÿåˆ è¯„åˆ¤åœ¨ä¸ºæœªæ¥è¡¨ç°çš„é‡è¦æŒ‡æ ‡ æ³¨æ„ï¼šout-sampleä¸­æ€§èƒ½ä¸‹é™æ˜¯å¾ˆæ­£å¸¸çš„ç°è±¡\nRSI strategy RSI(Relative strength Index)ç›¸å¯¹å¼ºåº¦æŒ‡æ•°ã€‚è¿™æ˜¯TTRåŒ…ä¸­çš„ä¸€ä¸ªæ ‡å‡†çš„æŒ‡æ ‡ã€‚è¿™ä¸ªæŒ‡æ ‡è¿”å›ä¸€ä¸ª0-100ä¹‹é—´çš„å€¼ï¼Œå€¼è¶Šé«˜è¡¨æ˜å¸‚åœºæœ€è¿‘æ­£åœ¨ä¸Šæ¶¨è¶‹åŠ¿ï¼Œåä¹‹äº¦ç„¶ã€‚\nBias Look-ahead Bias: è¿™ç§åè¯¯å‘ç”Ÿåœ¨ä½ çš„æ¨¡å‹æˆ–ç­–ç•¥ä½¿ç”¨äº†åœ¨å®é™…æƒ…å†µä¸‹ä¸å¯èƒ½åœ¨å½“å‰æ—¶ç‚¹è·å–çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ä½ åœ¨æ¨¡å‹ä¸­ä½¿ç”¨äº†æ˜å¤©çš„è‚¡ä»·ä½œä¸ºä»Šå¤©æŠ•èµ„å†³ç­–çš„ä¾æ®ï¼Œè¿™å°±äº§ç”Ÿäº†å‘å‰åè¯¯ã€‚ Survivorship Bias: ç”Ÿå­˜åè¯¯å‘ç”Ÿåœ¨ï¼Œå½“ä½ çš„æ ·æœ¬åªåŒ…å«â€œç”Ÿå­˜è€…â€ï¼ˆå³ï¼ŒæˆåŠŸæˆ–è€…æŒç»­å­˜åœ¨çš„ä¾‹å­ï¼‰ï¼Œè€Œå¿½è§†äº†â€œéç”Ÿå­˜è€…â€ï¼ˆå³ï¼Œå¤±è´¥æˆ–è€…å·²ç»ä¸å­˜åœ¨çš„ä¾‹å­ï¼‰ã€‚ä¾‹å¦‚ï¼Œåœ¨è‚¡ç¥¨å¸‚åœºç ”ç©¶ä¸­ï¼Œå¦‚æœä½ åªç ”ç©¶å½“å‰ä»åœ¨äº¤æ˜“çš„å…¬å¸ï¼Œè€Œå¿½è§†äº†å·²ç»ç ´äº§æˆ–è¢«æ”¶è´­çš„å…¬å¸ï¼Œé‚£ä¹ˆä½ çš„ç ”ç©¶å°±å¯èƒ½å­˜åœ¨ç”Ÿå­˜åè¯¯ã€‚ Data-snooping Bias: è¿™ç§åè¯¯å‡ºç°åœ¨è¿‡åº¦æ‹Ÿåˆè¿‡å»çš„æ•°æ®ï¼Œè¯•å›¾æ‰¾å‡ºç¬¦åˆè¿™äº›æ•°æ®çš„æ¨¡å¼æˆ–ç­–ç•¥ï¼Œä½†è¿™äº›æ¨¡å¼æˆ–ç­–ç•¥åœ¨æœªæ¥å¯èƒ½å¹¶ä¸é€‚ç”¨ã€‚è¿™ç§è¿‡åº¦æ‹Ÿåˆå¯èƒ½å¯¼è‡´è¿‡äºä¹è§‚çš„ç­–ç•¥æ€§èƒ½é¢„æœŸã€‚ Time period Bias: è¿™ç§åè¯¯å‡ºç°åœ¨ï¼Œå½“ç­–ç•¥çš„æ€§èƒ½ä¾èµ–äºé€‰æ‹©çš„ç‰¹å®šæ—¶é—´æ®µæ—¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„ç­–ç•¥åœ¨ç‰›å¸‚ä¸­è¡¨ç°å‡ºè‰²ï¼Œä½†åœ¨ç†Šå¸‚ä¸­è¡¨ç°ä¸ä½³ï¼Œé‚£ä¹ˆä½ å°±å¯èƒ½è¿‡äºä¾èµ–ç‰¹å®šçš„æ—¶é—´æ®µï¼ˆä¾‹å¦‚ï¼Œä»…åœ¨ç‰›å¸‚ä¸­ï¼‰è¿›è¡Œç­–ç•¥æµ‹è¯•ã€‚ Confirmation Bias: ç¡®è®¤åè¯¯æ˜¯ä¸€ç§å¿ƒç†å­¦ç°è±¡ï¼Œå½“äººä»¬å€¾å‘äºå¯»æ‰¾å’Œå…³æ³¨é‚£äº›ç¬¦åˆè‡ªå·±é¢„è®¾è§‚ç‚¹çš„ä¿¡æ¯ï¼Œè€Œå¿½è§†æˆ–è€…ä½ä¼°é‚£äº›ä¸è‡ªå·±è§‚ç‚¹ç›¸æ‚–çš„ä¿¡æ¯ã€‚åœ¨äº¤æ˜“ç­–ç•¥çš„å¼€å‘ä¸­ï¼Œå¦‚æœä½ åªå…³æ³¨é‚£äº›æ”¯æŒä½ çš„ç­–ç•¥çš„æµ‹è¯•ç»“æœï¼Œè€Œå¿½è§†äº†é‚£äº›åå¯¹ä½ çš„ç­–ç•¥çš„ç»“æœï¼Œé‚£ä¹ˆä½ å¯èƒ½å°±ä¼šé™·å…¥ç¡®è®¤åè¯¯ã€‚ äº¤å‰éªŒè¯å¯ä»¥é¿å…Data-snooping Biasã€‚\n","permalink":"https://martinspace.top/zh/comp226/","summary":"Rè¯­è¨€åŸºç¡€ï¼ˆW1ï¼‰ åŸºæœ¬æ•°æ®ç±»å‹ character(string) logical(boolean) numeric(number) factors(categories) factorsè¡¨ç¤ºåˆ†ç±»ï¼Œå°†åˆ†ç±»æ•°æ®å­˜å‚¨ä¸ºæ•´æ•°å‘é‡ã€‚ä¸‹é¢ç”¨ä»£ç è§£é‡Š # åˆ›å»ºä¸€ä¸ªæ€§åˆ«çš„factor \u0026gt; gender \u0026lt;- fa","title":"é‡‘èå¸‚åœºäº¤æ˜“(COMP226)"},{"content":"æ—¶é—´å¤æ‚åº¦å’Œonline algorithm (W1) ç®—æ³•åˆ†æä¸­æˆ‘ä»¬å¸¸ç”¨åˆ°ä¸‰ä¸ªç¬¦å·ï¼šOï¼ŒÎ©(Omega) å’Œ Î˜(Theta)\nOè¡¨ç¤ºçš„æ˜¯æ¸è¿›ä¸Šç•Œï¼Œå®ƒæè¿°äº†ç®—æ³•åœ¨æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ï¼Œè¡¨ç¤ºç®—æ³•åœ¨æœ€åæƒ…å†µä¸‹æ‰€éœ€çš„æ—¶é—´ä¸ä¼šè¶…è¿‡Oçš„å‡½æ•°ã€‚ Î©è¡¨ç¤ºæ¸è¿›ä¸‹ç•Œï¼Œå®ƒæè¿°äº†ç®—æ³•åœ¨æœ€å¥½æƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ï¼Œè¡¨ç¤ºç®—æ³•åœ¨æœ€å¥½æƒ…å†µä¸‹æ‰€éœ€çš„æ—¶é—´ä¸ä¼šä½äºÎ©çš„å‡½æ•°ã€‚ Î˜ï¼Œæè¿°äº†ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦çš„æ¸è¿›ä¸Šç•Œå’Œä¸‹ç•Œï¼Œè¡¨ç¤ºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åœ¨æœ€å¥½å’Œæœ€åæƒ…å†µä¸‹çš„å¢é•¿é€Ÿåº¦æ˜¯ç›¸åŒçš„ã€‚ åœ¨çº¿ç®—æ³•æŒ‡çš„æ˜¯ï¼Œç®—æ³•å¿…é¡»åœ¨è¾“å…¥æ•°æ®ä¸æ˜¯å®Œå…¨å¯çŸ¥çš„æƒ…å†µä¸‹ï¼Œå®Œæˆç›¸åº”çš„è®¡ç®—å¹¶è¾“å‡ºè®¡ç®—ç»“æœã€‚\nä¸ä¹‹å¯¹åº”çš„æ˜¯ç¦»çº¿ç®—æ³•ï¼Œå®ƒå……åˆ†åˆ©ç”¨äº†è¾“å…¥æ•°æ®ä¹‹é—´å®Œæ•´çš„å…³è”ç‰¹æ€§ï¼Œå³ç®—æ³•è¿è¡Œå‰æ‰€æœ‰è¾“å…¥æ•°æ®å‡æ˜¯å·²çŸ¥çš„ã€‚\nç«äº‰åˆ†æé’ˆå¯¹çš„æ˜¯åœ¨çº¿ç®—æ³•ï¼Œå·²çŸ¥ä¸€ä¸ªåœ¨çº¿ç®—æ³•Aï¼ŒSæ˜¯é—®é¢˜çš„ä¸€ä¸ªå˜é‡è¾“å…¥åºåˆ—ï¼Œç”¨cost(A, S)è®°å½•ç®—æ³•Aåº”å¯¹Sæ‰€äº§ç”Ÿçš„æˆæœ¬ï¼Œç”¨cost(OPT, S)è®°å½•æœ€ä¼˜ç¦»çº¿ç®—æ³•åº”å¯¹Sæ‰€äº§ç”Ÿçš„è´¹ç”¨ã€‚è‹¥å¯¹äºä»»æ„Séƒ½æœ‰cost(A, S)\u0026lt;a*cost(OPT, S)ï¼Œåˆ™Aæ˜¯ä¸€ä¸ªa-ç«äº‰ç®—æ³•ã€‚\nBSTå’Œå…¶ä»–æœç´¢æ ‘ (W2) é“¾è¡¨ åŒå‘é“¾è¡¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªå‰ç»§(prev)å’Œä¸€ä¸ªåé©±(next)ã€‚ åŒå‘é“¾è¡¨çš„å‡ ä¸ªå¸¸ç”¨æ–¹æ³•\nreplaceElement(p,e) // p - position, e - element. swapElements(p,q) // p,q - positions. insertFirst(e) // e - element. insertLast(e) // e - element. insertBefore(p,e) // p - position, e - element. insertAfter(p,e) // p - position, e - element. remove(p) // p - position. ä»‹ç»å…¶ä¸­ä¸€ä¸ªæ–¹æ³•ï¼šinsertBefore()\næŠ€å·§ï¼šè¦ç¡®ä¿æ¯ä¸ªèŠ‚ç‚¹çš„å‰åä¸¤ä¸ªæŒ‡é’ˆéƒ½æœ‰è¿æ¥ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚\ns.prev = p; /* æŠŠ p èµ‹å€¼ç»™ s çš„å‰é©± */ s.next = p.next; /* æŠŠ p-\u0026gt;next èµ‹å€¼ç»™ s çš„åç»§ */ (p.next).prev = s; /* æŠŠ s èµ‹å€¼ç»™ p-\u0026gt;next çš„å‰é©± */ p.next = s; /* æŠŠ s èµ‹å€¼ç»™ p çš„åç»§ */ Listæ›´æ–°çš„å¤æ‚åº¦åˆ†æï¼ˆremoveå’Œinsertï¼‰\nå¦‚æœå…ƒç´ pçš„ä½ç½®å·²çŸ¥ï¼Œåˆ™å¤æ‚åº¦ä¸ºO(1) å¦‚æœåªçŸ¥é“listçš„å¤´ï¼Œåˆ™å¤æ‚åº¦ä¸ºO(p)ï¼Œå› ä¸ºéœ€è¦éå†listæ¥æ‰¾åˆ°p äºŒåˆ†æŸ¥æ‰¾ï¼ˆBST) ä¸€ä¸ªæœ‰åºæ•°ç»„é€šå¸¸ç§°ä¸ºlookup tableã€‚\nè¾“å…¥ä¸€ä¸ªæœ‰åºæ•°ç»„ è¾“å‡ºè¦æŸ¥æ‰¾çš„å€¼åŠå…¶å¯¹åº”çš„key BINARYSEARCH(S,k ,low ,high) if low\u0026gt;high return no_such_key else mid = Math.floor((low+high)/2) if k = key(mid) return elem(mid) else if k\u0026lt;key(mid) return BINARYSEARCH(S, k, low, mid-1) else return BINARYSEARCH(S, k, mid+1, high) key (i): the key at index i elem(i): the element at index i lookup table å’Œ linked listæ¯”è¾ƒ\nMethod LinkedList lookup table æŸ¥æ‰¾å…ƒç´  O(n) O(logn) æ’å…¥å…ƒç´ (å·²çŸ¥ä½ç½®) O(1) O(n) ç§»é™¤å…ƒç´  O(n) O(n) ClosestKeyBefore O(n) O(logn) æœ‰æ²¡æœ‰ä¸€ç§æ•°æ®ç»“æ„å¯ä»¥æ—¢ä¿è¯æŸ¥æ‰¾çš„æ•ˆç‡åˆä¿è¯æ’å…¥çš„æ•ˆç‡ï¼Ÿï¼ˆç»¼åˆlookupå’Œlinkedlistçš„ä¼˜ç‚¹ï¼‰ \u0026mdash; BST maybe possible.\näºŒå‰æ ‘çš„èŠ‚ç‚¹æ·±åº¦ï¼šèŠ‚ç‚¹çš„ç¥–å…ˆçš„æ•°é‡ï¼ˆæ’é™¤èŠ‚ç‚¹è‡ªå·±ï¼‰ äºŒå‰æ ‘çš„é«˜åº¦=è¯¥æ ‘æœ€å¤§çš„èŠ‚ç‚¹æ·±åº¦ äºŒå‰æ ‘çš„éå†æ–¹æ³•\nå‰åºéå†(pre-order) ä¸­åºéå†(in-order) ååºéå†(post-order) æ‰€æœ‰çš„BSTçš„æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(h)ï¼Œhè¡¨ç¤ºæ ‘çš„é«˜åº¦ã€‚å¦‚æœæƒ…å†µç³Ÿç³•çš„è¯ï¼Œhå¾ˆæœ‰å¯èƒ½ç­‰äºnï¼ˆå¯¹äºä¸€ä¸ªdegenerate treeæ¥è¯´ï¼‰ã€‚ å¦‚æœBSTä¸å¹³è¡¡çš„è¯ï¼Œå®ƒæœ€å·®çš„æœç´¢æ—¶é—´å¯èƒ½æ˜¯O(n)ï¼Œè¿™å°±å¤±å»äº†å®ƒçš„ä¼˜ç‚¹ã€‚\nå› æ­¤æˆ‘ä»¬è¡ç”Ÿå‡ºä¸€ç§å…·æœ‰é«˜åº¦å¹³è¡¡çš„æ€§è´¨çš„æ ‘â€”â€”AVLæ ‘\nAVLæ ‘ AVLæ ‘çš„æ€§è´¨ï¼šå¯¹äºæ ‘Tä¸­çš„æ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹vï¼Œvçš„å­èŠ‚ç‚¹ä¹‹é—´çš„é«˜åº¦å·®æœ€å¤šæ˜¯1ã€‚\nå­˜å‚¨nä¸ªèŠ‚ç‚¹çš„AVLæ ‘çš„é«˜åº¦æ˜¯O(logn)\nè¯æ˜ï¼šä¸€ä¸ªé«˜åº¦ä¸ºhçš„AVLæ ‘ï¼Œä»¤è¿™æ£µæ ‘çš„å†…éƒ¨èŠ‚ç‚¹æœ€å°‘æœ‰$n_h$ä¸ªã€‚æœ€åæƒ…å†µä¸‹ï¼Œå·¦æ ‘çš„é«˜åº¦ä¸ºh-1ï¼Œå³æ ‘é«˜åº¦ä¸ºh-2ï¼Œä¸”ä¸¤é¢—å­æ ‘éƒ½æ˜¯AVLæ ‘ã€‚\næ‰€ä»¥$n_h = n_{h-1} + n_{h-2} + 1$ï¼Œæ„æ€æ˜¯æ•´ä¸ªæ ‘çš„èŠ‚ç‚¹æ˜¯ç”±å·¦å³ä¸¤é¢—å­æ ‘çš„èŠ‚ç‚¹åŠ ä¸Šæ ¹èŠ‚ç‚¹ï¼Œå› ä¸º$n_{h-1} \u0026gt; n_{h-2}$ï¼Œæ‰€ä»¥$n_h\u0026gt;2\\times n_{h-1}$ -\u0026gt; $n_h\u0026gt;2^{{h\\over 2}-1}$\nAVLæ ‘ä¸­çš„æœç´¢æ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(logn) AVLä¸­çš„æ’å…¥å’Œç§»é™¤æ“ä½œè¦å°å¿ƒï¼ˆè¦ä½¿ç”¨rotationæ¥ä¿è¯height balanceï¼‰ æ—‹è½¬è¿™ä¸ªæ“ä½œå¤ªéº»çƒ¦ï¼Œåœ¨bç«™æ‰¾åˆ°ä¸€ä¸ªå®è—åš£å¼ æ•™ç¨‹ï¼Œè®°å½•ä¸€ä¸‹ã€‚\nå®—æ—¨ï¼šè‡ªä¸‹è€Œä¸Šåœ°æ‰¾æœ€å°çš„ä¸€é¢—ä¸å¹³è¡¡å­æ ‘ï¼Œå¦‚æœå‘ä¸Šæ‰¾çš„èŠ‚ç‚¹å¤ªå¤šï¼Œå°±é€‰æ‹©ç¦»æ ¹èŠ‚ç‚¹æœ€è¿‘çš„ä¸‰ä¸ªèŠ‚ç‚¹ï¼ˆåŒ…æ‹¬æ ¹èŠ‚ç‚¹ï¼‰ï¼Œå°†ä¸‰ä¸ªèŠ‚ç‚¹æ‹¿å‡ºæ¥æ ‘çŠ¶æ’åºï¼Œæ’å…¥åŸæ¥çš„ä½ç½®ã€‚å‰©ä¸‹çš„å…ƒç´ æ ¹æ®äºŒå‰æ ‘çš„è§„åˆ™é‡æ–°æ’å…¥ã€‚\nåœ¨ä¸‹é¢è¿™ä¸ªAVLæ ‘ä¸­æ’å…¥90 flowchart TD id1(50)--\u003eid2(26)--\u003eid3(21) id2--\u003eid4(30) id1--\u003eid5(66)--\u003eid6(60) id5--\u003eid7(68)--\u003eid8(67) id7--\u003eid9(70) æ’å…¥åæ•ˆæœå¦‚ä¸‹ flowchart TD id1(50)--\u003eid2(26)--\u003eid3(21) id2--\u003eid4(30) id1--\u003eid5(66)--\u003eid6(60) id5--\u003eid7(68)--\u003eid8(67) id7--\u003eid9(70)--\u003eid10(90) å¾ˆæ˜æ˜¾ï¼Œè¿™ä¸æ˜¯ä¸€é¢—å¹³è¡¡çš„AVLæ ‘ã€‚å› æ­¤ï¼Œä»åº•éƒ¨å¼€å§‹å‘ä¸Šå¯»æ‰¾æœ€å°çš„ä¸å¹³è¡¡å­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œå‘ç°æ˜¯66ã€‚è·¯å¾„æ˜¯90\u0026ndash;\u0026gt;66ï¼Œæ‰¾åˆ°è¿™æ¡è·¯å¾„ä¸Šè·ç¦»66æœ€è¿‘çš„ä¸‰ä¸ªèŠ‚ç‚¹ï¼ˆåŒ…æ‹¬66æœ¬èº«ï¼‰ï¼Œæ‰¾åˆ°äº†66ï¼Œ68ï¼Œ70ä¸‰ä¸ªæ•°ã€‚ å¯¹è¿™ä¸‰ä¸ªæ•°è¿›è¡Œé‡æ–°æ’åˆ—ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º flowchart TD id1(68)--\u003eid2(66) id1--\u003eid3(70) æ’åˆ—åæ’å…¥åŸæ¥çš„ä½ç½®ï¼Œå‰©ä¸‹çš„å…ƒç´ æ ¹æ®äºŒå‰æ ‘çš„è§„åˆ™é‡æ–°æ’å…¥ï¼Œç»“æœå¦‚ä¸‹ flowchart TD id1(50)--\u003eid2(26)--\u003eid3(21) id2--\u003eid4(30) id1--\u003eid5(68)--\u003eid6(66) id5--\u003eid7(70)--\u003eid8(90) id6--\u003eid9(60) id6--\u003eid10(67) æ•´å¥—æ“ä½œè¡Œäº‘æµæ°´ï¼Œååˆ†æ¸…çˆ½ï¼Œçˆ±äº†ã€‚åˆ é™¤ä¹Ÿæ˜¯åŒæ ·çš„æ“ä½œï¼Œåˆ é™¤åä¸å¹³è¡¡ï¼Œæ‰¾åˆ°æœ€å°ä¸å¹³è¡¡æ ‘ï¼Œç„¶åé‡æ–°æ’åˆ—ã€‚åœ¨AVLæ ‘ä¸­ï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½å¯ä»¥åœ¨O(logn)å†…è§£å†³\n(2,4)æ ‘ (2,4)æ ‘çš„å®šä¹‰æ˜¯è¿™æ£µæ ‘çš„å­èŠ‚ç‚¹ï¼Œæœ€å°‘æœ‰ä¸¤ä¸ªï¼Œæœ€å¤šæœ‰å››ä¸ªã€‚æ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹éƒ½åŒ…å«1-3ä¸ªé”®ï¼Œè¿™äº›é”®å®šä¹‰äº†å­˜å‚¨åœ¨å­æ ‘ä¸­çš„é”®çš„èŒƒå›´ã€‚è¿™æ ·çš„é”®è¦ä¿è¯ï¼Œæ¯”å®ƒæœ€å·¦è¾¹çš„å­æ ‘ä¸­æœ€å¤§çš„é”®å¤§ï¼Œæ¯”æœ€å³è¾¹çš„å­æ ‘ä¸­æœ€å°çš„é”®å°ã€‚\n(2,4)æ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½å…·å¤‡ç›¸åŒçš„æ·±åº¦ã€‚\nnä¸ªå…ƒç´ å­˜å‚¨åœ¨(2,4)æ ‘ä¸­ï¼Œå…¶é«˜åº¦ä¸ºO(logn) æ‹†åˆ†ï¼Œè½¬ç§»å’Œèåˆæ“ä½œèŠ±è´¹O(1)çš„æ—¶é—´ æœç´¢ï¼Œæ’å…¥å’Œåˆ é™¤å…ƒç´ éœ€è¦è®¿é—®æ ‘ä¸­O(logn)ä¸ªèŠ‚ç‚¹ã€‚ æ’åº-Sortingï¼ˆW3ï¼‰ æ’åºé—®é¢˜ï¼Œç»™ä¸€ä¸ªé›†åˆCï¼ŒåŒ…å«nä¸ªå…ƒç´ ï¼Œå°†Cä¸­çš„å…ƒç´ ä»¥å‡åºæ–¹å¼é‡æ–°æ’åˆ—ã€‚\næ’åºé€šå¸¸æ˜¯è§£å†³é—®é¢˜è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªå­ä¾‹ç¨‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæƒ³è¦å®ç°ç®—æ³•çš„è‰¯å¥½æ€§èƒ½ï¼Œé«˜æ•ˆçš„æ’åºæ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚\nPriority Queues ä¼˜å…ˆé˜Ÿåˆ—æ˜¯ä¸€ä¸ªå­˜å‚¨å…ƒç´ çš„å®¹å™¨ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æœ‰å¯¹åº”çš„keyã€‚\nä¼˜å…ˆé˜Ÿåˆ—çš„åŸºæœ¬æ–¹æ³•ï¼š\ninsertItem(k, e) removeMin() minElement() minKey() ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—å¯¹ä¸€ä¸ªé›†åˆCè¿›è¡Œæ’åºåˆ†ä¸ºä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤\né¦–å…ˆä½¿ç”¨insertItem(k, e)ï¼Œå°†Cä¸­çš„å…ƒç´ éƒ½æ”¾åœ¨ä¼˜å…ˆé˜Ÿåˆ—Pä¸­ã€‚ ä½¿ç”¨removeMin()æ–¹æ³•ä»¥å‡åºæ–¹å¼ä»Pä¸­æå–å…ƒç´ ã€‚ å † å †æ˜¯ä¸€ç§å®Œå…¨äºŒå‰æ ‘ï¼Œå³é™¤äº†æœ€åä¸€å±‚å¤–ï¼Œå…¶å®ƒå±‚éƒ½æ˜¯æ»¡çš„ï¼Œæœ€åä¸€å±‚ä»å·¦åˆ°å³å¡«æ»¡ã€‚nä¸ªå…ƒç´ çš„é«˜åº¦çš„æ˜¯O(logn)\nå †æ˜¯æœ‰æ•ˆçš„ä¼˜å…ˆé˜Ÿåˆ—çš„å®ç°ï¼Œåœ¨æ’å…¥å…ƒç´ å’Œåˆ é™¤å…ƒç´ æ–¹é¢ï¼Œå †å…è®¸åœ¨logæ—¶é—´å†…æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚\nåœ¨å †ä¸­ï¼Œå…ƒç´ å’Œé”®éƒ½è¢«å­˜åœ¨äºŒå‰æ ‘ä¸­ã€‚å­èŠ‚ç‚¹ä¸­å…ƒç´ çš„é”®è¦å¤§äºç­‰äºå…¶çˆ¶èŠ‚ç‚¹ä¸­çš„é”®ï¼ˆå †åºæ€§-æœ€å°å †ï¼‰\nå †æ’å…¥ å †ä¸­çš„æ’å…¥æ“ä½œï¼Œéœ€è¦ç»´æŠ¤å †åºæ€§\nå°†è¦æ’å…¥çš„å…ƒç´ æ”¾åœ¨å †çš„åº•éƒ¨ï¼ˆæœ€åä¸€ä¸ªå¶å­èŠ‚ç‚¹çš„å³ä¾§ï¼‰ æ¯”è¾ƒè¯¥å…ƒç´ ä¸å…¶çˆ¶èŠ‚ç‚¹çš„å€¼ï¼Œå¦‚æœè¯¥å…ƒç´ çš„å€¼å°äºï¼ˆæœ€å°å †ï¼‰å…¶çˆ¶èŠ‚ç‚¹çš„å€¼ï¼Œåˆ™äº¤æ¢è¿™ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œç„¶åç»§ç»­å‘ä¸Šæ¯”è¾ƒï¼ˆè¿™ä¸ªè¿‡ç¨‹å’Œbubbleç±»ä¼¼ï¼‰ï¼Œç›´åˆ°æ»¡è¶³å †åºæ€§ä¸ºæ­¢ã€‚ æ’å…¥æ“ä½œå®Œæˆåï¼Œå †ä¸­ä¼šå¤šå‡ºä¸€ä¸ªå…ƒç´ ï¼Œéœ€è¦å°†å †çš„å¤§å°åŠ  1ã€‚ï¼ˆå †çš„å¤§å°=å †ä¸­å…ƒç´ æ•°é‡ï¼‰ å †åˆ é™¤ å †ä¸­çš„åˆ é™¤æ“ä½œï¼ŒåŒæ ·éœ€è¦ç»´æŠ¤å †åºæ€§\nå–å‡ºå †é¡¶å…ƒç´  å°†æœ€åä¸€ä¸ªå¶å­èŠ‚ç‚¹çš„å€¼èµ‹ç»™å †é¡¶å…ƒç´ ã€‚å°†æœ€åä¸€ä¸ªå¶å­èŠ‚ç‚¹çš„å€¼æ”¾åˆ°å †é¡¶ï¼Œç›¸å½“äºå°†å †é¡¶å…ƒç´ åˆ é™¤ï¼ŒåŒæ—¶ä¿è¯äº†å †ä»ç„¶æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ã€‚ å¯¹æ–°çš„å †é¡¶å…ƒç´ è¿›è¡Œä¸‹æ»¤æ“ä½œã€‚ä¸‹æ»¤çš„è¿‡ç¨‹ç±»ä¼¼äºæ’å…¥æ“ä½œï¼Œå°†æ–°çš„å †é¡¶å…ƒç´ ä¸å®ƒçš„å­èŠ‚ç‚¹æ¯”è¾ƒï¼Œå¦‚æœå­èŠ‚ç‚¹ä¸­æœ‰æ¯”å®ƒæ›´å°çš„ï¼Œåˆ™äº¤æ¢ä½ç½®ï¼Œç›´åˆ°æ‰¾ä¸åˆ°æ¯”å®ƒå°çš„ä¸ºæ­¢ã€‚ Operation time size,isEmpty O(1) minElement,minKey O(1) insertItem O(logn) removeMin O(logn) å †æ’åº ä»ä¸‹åˆ°ä¸Šæ„é€ ä¸€ä¸ªæœ‰nä¸ªå…ƒç´ çš„å †ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn) å‡åºæå–nä¸ªå…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn) åˆ†æ²»ï¼ˆDivide and Conquerï¼‰ é¡¾åæ€ä¹‰äº†ï¼ŒæŠŠä¸€ä¸ªå¤§é—®é¢˜æ‹†åˆ†ï¼Œè§£å†³å­é—®é¢˜åï¼Œå†è¿›è¡Œåˆå¹¶ã€‚ï¼ˆDivide-Recur-Conquerï¼‰\nå½’å¹¶æ’åºï¼ˆMergeSortï¼‰ åˆ†æ²»çš„ç»å…¸ä¾‹å­ï¼Œmergesort\nå¯¹mergesortçš„divideéƒ¨åˆ†ï¼Œå¾ˆå¥½ç†è§£ï¼Œä½†æ˜¯åˆ°äº†mergeéƒ¨åˆ†å°±æœ‰äº›æ‡µæ‡‚ï¼Œå› ä¸ºæœ‰äº›è¯¾ç¨‹çœç•¥äº†æ­¥éª¤ï¼Œç°åœ¨è®°å½•ä¸€ä¸‹è¯¦ç»†æ­¥éª¤ã€‚\nå‡è®¾åˆ°äº†åˆå¹¶è¿™ä¸€æ­¥ï¼Œç°åœ¨æœ‰ä¸¤ä¸ªæ•°ç»„arr1å’Œarr2\narr1 = [2, 5, 7, 8] arr2 = [1, 3, 6, 9] æˆ‘ä»¬è¦å°†å®ƒä»¬åˆå¹¶æˆä¸€ä¸ªæœ‰åºæ•°ç»„ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å¼€è¾Ÿä¸€ä¸ªé•¿åº¦ä¸ºlen(arr1) + len(arr2)çš„ä¸´æ—¶æ•°ç»„temp\næ¥ä¸‹æ¥ï¼Œéœ€è¦è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆiå’Œjï¼Œåˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ã€‚è¿˜éœ€è¦ä¸€ä¸ªæŒ‡é’ˆkï¼ŒæŒ‡å‘ä¸´æ—¶æ•°ç»„çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼Œç”¨äºå­˜å‚¨æ’åºåçš„å…ƒç´ ã€‚\næ—¶é—´å¤æ‚åº¦åˆ†æ\nnä¸ªå…ƒç´ è¿›è¡Œmergesortçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)\nå°†mergesortçš„è¿‡ç¨‹ç†è§£ä¸ºäºŒå‰æ ‘ï¼Œé‚£ä¹ˆè¿™é¢—äºŒå‰æ ‘çš„é«˜åº¦ä¸ºO(logn)ã€‚è¿™é¢—äºŒå‰æ ‘ä¸­æ¯ä¸ªå­èŠ‚ç‚¹çš„å¤æ‚åº¦ä¸ºO(n)ï¼Œå› ä¸ºè¦è¿›è¡Œæ’åºï¼Œæœ€åæƒ…å†µä¸‹ï¼Œæ¯ä¸ªå…ƒç´ éƒ½ä¼šè¢«è®¿é—®ä¸€æ¬¡ã€‚å› æ­¤æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ã€‚ç©ºé—´å¤æ‚åº¦ä¸ºO(n)ï¼Œå› ä¸ºéœ€è¦å¦å¼€è¾Ÿä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œå­˜å‚¨æ’åºå¥½çš„æ•°æ®ã€‚\nCounting inversions é•¿è¯çŸ­è¯´ï¼Œä¸€ç»„åºåˆ—ï¼Œæœ‰ä¸€å¯¹æ•°iå’Œjï¼Œéƒ½æœ‰i\u0026lt;j, è€Œä¸”a[i]\u0026gt;a[j]ï¼Œåˆ™ç§°(i, j)æ˜¯ä¸€ä¸ªé€†åºå¯¹ï¼ŒCounting inversionså°±æ˜¯ä¸€ç§è®¡ç®—é€†åºå¯¹æ•°é‡çš„ç®—æ³•ã€‚\næœ€ç¬¨çš„è§£å†³åŠæ³•ï¼šæ‰¾å‡ºæ‰€æœ‰æ•°å¯¹å¹¶ä¸€ä¸ªä¸€ä¸ªæŸ¥çœ‹ã€‚è¿™æ ·åšçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)ï¼Œå¤ªè´µï¼Œåšä¸èµ·ã€‚\nä½¿ç”¨åˆ†æ²»ï¼Œå¯ä»¥æŠŠæ—¶é—´å¤æ‚åº¦å‹ç¼©åˆ°O(nlogn)\nå…·ä½“åšæ³•\nå°†ä¸€ä¸ªåºåˆ—æŒ‰ç…§ä¸­é—´ä½ç½®åˆ†ä¸ºå·¦å³ä¸¤ä¸ªå­åºåˆ—ï¼Œé€’å½’åœ°å¯¹å·¦å³ä¸¤ä¸ªå­åºåˆ—è¿›è¡Œæ’åºï¼Œå¹¶è®¡ç®—å®ƒä»¬å†…éƒ¨çš„é€†åºå¯¹æ•°ã€‚ å°†å·¦å³ä¸¤ä¸ªå­åºåˆ—åˆå¹¶ä¸ºä¸€ä¸ªæœ‰åºçš„åºåˆ—ï¼ŒåŒæ—¶è®¡ç®—å·¦å³ä¸¤ä¸ªå­åºåˆ—ä¹‹é—´çš„é€†åºå¯¹æ•°ã€‚ è¿”å›å·¦å³ä¸¤ä¸ªå­åºåˆ—å†…éƒ¨çš„é€†åºå¯¹æ•°ã€å·¦å³ä¸¤ä¸ªå­åºåˆ—ä¹‹é—´çš„é€†åºå¯¹æ•°ä»¥åŠåˆå¹¶åçš„æœ‰åºåºåˆ—ã€‚ é€†åºå¯¹æ•°=ä¸¤ä¸ªå­åºåˆ—å†…éƒ¨çš„é€†åºå¯¹æ•° + å·¦å³ä¸¤ä¸ªå­åºåˆ—ä¹‹é—´çš„é€†åºå¯¹æ•° æ—¶é—´å¤æ‚åº¦åˆ†æ\nå› ä¸ºéœ€è¦éå†ä¸¤ä¸ªå­åºåˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œå› æ­¤å¤æ‚åº¦æ˜¯O(n)ï¼Œnæ˜¯åºåˆ—ä¸­å…ƒç´ çš„æ•°é‡ã€‚ ç”±äºæ¯æ¬¡é€’å½’çš„æ—¶å€™ï¼Œé—®é¢˜è§„æ¨¡å‡åŠï¼Œå› æ­¤å½’å¹¶æ’åºéœ€è¦é€’å½’ logn å±‚ æ¯å±‚çš„å¤æ‚åº¦æ˜¯O(n)ï¼Œå› æ­¤å½’å¹¶æ’åºæ—¶é—´å¤æ‚åº¦æ˜¯O(nlogn) å¿«æ’ï¼ˆQuickSortï¼‰ å¿«æ’ä¹Ÿæ˜¯åˆ†æ²»ç®—æ³•çš„ä¸€ç§ï¼Œä½†æ˜¯è¿™ç§æ’åºæ–¹æ³•ä¸åŒäºå½’å¹¶æ’åºã€‚\nåŸºæœ¬æ€æƒ³ï¼šéšæœºé€‰æ‹©ä¸€ä¸ªåŸºå‡†å…ƒç´ (pivot element)ï¼Œç„¶åå°†æ•°ç»„åˆ†ä¸ºä¸¤ä¸ªå­åºåˆ—ï¼Œå°äºåŸºå‡†å…ƒç´ çš„æ”¾åœ¨å·¦è¾¹ï¼Œå¤§äºåŸºå‡†å…ƒç´ çš„æ”¾åœ¨å³è¾¹ï¼Œç„¶åé€’å½’åœ°å¯¹ä¸¤éƒ¨åˆ†æ’åºï¼ŒçŸ¥é“åºåˆ—å˜å¾—æœ‰åºã€‚\nå…·ä½“è¿‡ç¨‹\né€‰æ‹©ä¸€ä¸ªåŸºå‡†å…ƒç´ ï¼ˆpivotï¼‰ï¼Œå¯ä»¥é€‰æ‹©ç¬¬ä¸€ä¸ªå…ƒç´ ã€æœ€åä¸€ä¸ªå…ƒç´ ã€ä¸­é—´çš„å…ƒç´ æˆ–è€…éšæœºé€‰æ‹©ã€‚ ä»åºåˆ—çš„ä¸¤ç«¯å¼€å§‹å‘ä¸­é—´æ‰«æï¼Œå·¦ç«¯æ‰¾åˆ°ä¸€ä¸ªæ¯”åŸºå‡†å…ƒç´ å¤§çš„æ•°ï¼Œå³ç«¯æ‰¾åˆ°ä¸€ä¸ªæ¯”åŸºå‡†å…ƒç´ å°çš„æ•°ï¼Œäº¤æ¢è¿™ä¸¤ä¸ªæ•°çš„ä½ç½®ã€‚ ç»§ç»­æ‰«æï¼Œç›´åˆ°å·¦å³ä¸¤ä¸ªç«¯ç‚¹ç›¸é‡ã€‚æ­¤æ—¶ï¼Œæ‰€æœ‰æ¯”åŸºå‡†å…ƒç´ å°çš„æ•°éƒ½åœ¨åŸºå‡†å…ƒç´ çš„å·¦è¾¹ï¼Œæ¯”åŸºå‡†å…ƒç´ å¤§çš„æ•°éƒ½åœ¨åŸºå‡†å…ƒç´ çš„å³è¾¹ã€‚ é€’å½’åœ°å¯¹å·¦å³ä¸¤ä¸ªå­åºåˆ—è¿›è¡Œå¿«é€Ÿæ’åºã€‚ å½“åºåˆ—ä¸­åªå‰©ä¸‹ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæ’åºç»“æŸã€‚ æ—¶é—´å¤æ‚åº¦åˆ†æ æœ€åæƒ…å†µä¸‹ï¼Œæ¯æ¬¡åˆ’åˆ†éƒ½åªèƒ½å°†åºåˆ—åˆ†æˆä¸€ä¸ªå…ƒç´ å’Œ n - 1 ä¸ªå…ƒç´ ä¸¤éƒ¨åˆ†ï¼Œè¿™ç§æƒ…å†µä¸‹é€’å½’æ ‘çš„æ·±åº¦ä¸º nï¼Œæ¯å±‚çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ï¼ˆå› ä¸ºéœ€è¦éå†æ‰€æœ‰ n ä¸ªå…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼‰ã€‚å› æ­¤ï¼Œæœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸º O($n^2$)ã€‚\nåœ¨æœ€å¥½æƒ…å†µä¸‹ï¼Œæ¯æ¬¡åˆ’åˆ†éƒ½å°†åºåˆ—åˆ†æˆé•¿åº¦ç›¸ç­‰çš„ä¸¤éƒ¨åˆ†ï¼Œè¿™ç§æƒ…å†µä¸‹é€’å½’æ ‘çš„æ·±åº¦ä¸º log(n)ï¼Œæ¯å±‚çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚å› æ­¤ï¼Œæœ€å¥½æƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)ã€‚\nå¦‚ä½•é¿å…worst case? éšæœºé€‰æ‹©pivotã€‚éšå³å¿«æ’çš„æœŸæœ›è¿è¡Œæ—¶é—´æ˜¯O(nlogn)\nå¦‚æœåˆ†å‰²çš„ä¸¤éƒ¨åˆ†çš„é•¿åº¦éƒ½ä¸å¤§äºåºåˆ—é•¿åº¦çš„3/4ï¼Œåˆ™è¿™æ ·çš„pivotå°±æ˜¯å¥½çš„éšæœºpivotã€‚æ‰€ä»¥æˆåŠŸé€‰æ‹©ä¸€ä¸ªå¥½çš„éšæœºpivotçš„æ¦‚ç‡æ˜¯1/2\nçº¿æ€§æ—¶é—´æ’åºï¼ˆBucket Sorting) æ¡¶æ’åºå°±æ˜¯å°†æ•°æ®åˆ†åˆ°ä¸åŒçš„æ¡¶é‡Œï¼Œç„¶åå¯¹æ¯ä¸ªæ¡¶ä¸­çš„æ•°æ®è¿›è¡Œæ’åºï¼Œæœ€åæŠŠæ‰€æœ‰æ¡¶ä¸­çš„æ•°æ®åˆå¹¶èµ·æ¥å¾—åˆ°æœ‰åºåºåˆ—\nå…·ä½“è¿‡ç¨‹\nå°†å¾…æ’åºçš„æ•°æ®åˆ†é…åˆ°ä¸åŒçš„æ¡¶ä¸­ã€‚ å¯¹æ¯ä¸ªæ¡¶ä¸­çš„æ•°æ®è¿›è¡Œæ’åºï¼Œå¯ä»¥é€‰æ‹©ä»»æ„ä¸€ç§æ’åºç®—æ³•ï¼Œæ¯”å¦‚æ’å…¥æ’åºã€å½’å¹¶æ’åºç­‰ã€‚ å°†å„ä¸ªæ¡¶ä¸­çš„æ•°æ®æŒ‰ç…§é¡ºåºåˆå¹¶èµ·æ¥ï¼Œå¾—åˆ°æœ‰åºåºåˆ—ã€‚ æ¡¶æ’åºé€‚ç”¨äºæ•°æ®åˆ†å¸ƒæ¯”è¾ƒå‡åŒ€çš„åœºæ™¯ï¼Œå¦‚æœæ•°æ®åˆ†å¸ƒä¸å‡åŒ€ï¼Œæœ‰äº›æ¡¶çš„æ•°æ®é‡ä¼šæ¯”è¾ƒå¤§ï¼Œå°±ä¼šå½±å“æ¡¶æ’åºçš„æ•ˆç‡ã€‚æ¯”å¦‚å¯¹æˆç»©è¿›è¡Œæ’åºï¼Œå¯ä»¥å°†åˆ†æ•°åˆ†ä¸º 0-59ã€60-69ã€70-79ã€80-89ã€90-100 ç­‰äº”ä¸ªåŒºé—´ï¼Œåˆ†åˆ«æ”¾åˆ°å¯¹åº”çš„æ¡¶ä¸­è¿›è¡Œæ’åºã€‚\nåŸºæ•°æ’åºï¼ˆRadix Sortingï¼‰ è¿™æ˜¯ä¸€ç§éæ¯”è¾ƒæ’åºç®—æ³•ï¼Œå®ƒæ˜¯æ ¹æ®æ¯ä¸ªä½çš„å€¼æ¥è¿›è¡Œæ’åºçš„ã€‚ åœ¨æ¯ä¸€åˆ—ä¸Šè¿›è¡Œæ¡¶æ’åºï¼Œç„¶åé€åˆ—è¿›è¡Œæ’åºã€‚å¯ä»¥å°†å¾…æ’åºçš„æ•°æ®æŒ‰ç…§ä½æ•°çš„ä¸åŒï¼Œå°†å…¶åˆ†é…åˆ°ä¸åŒçš„æ¡¶ä¸­è¿›è¡Œæ’åºï¼Œæœ€åå°†æ‰€æœ‰æ¡¶ä¸­çš„æ•°æ®æŒ‰é¡ºåºåˆå¹¶èµ·æ¥ã€‚\næ—¶é—´å¤æ‚åº¦åˆ†æ åŸºæ•°æ’åºçš„æ—¶é—´å¤æ‚åº¦å–å†³äºæ¯æ¬¡æ’åºçš„å­æ’åºç®—æ³•\nå¦‚æœä½¿ç”¨æ’å…¥æ’åºä½œä¸ºå­æ’åºç®—æ³•ï¼ŒåŸºæ•°æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º O($d\\cdot(n+k)$)ï¼Œå…¶ä¸­ d è¡¨ç¤ºå¾…æ’åºæ•°æ®çš„ä½æ•°ï¼Œn è¡¨ç¤ºå¾…æ’åºæ•°æ®çš„ä¸ªæ•°ï¼Œk è¡¨ç¤ºæ¡¶çš„ä¸ªæ•°ã€‚ å¦‚æœä½¿ç”¨quicksortæˆ–mergesortä½œä¸ºå­æ’åºç®—æ³•ï¼ŒåŸºæ•°æ’åºçš„æ—¶é—´å¤æ‚åº¦å¯ä»¥é™ä½åˆ° O($d\\cdot n$)ï¼Œä½†æ˜¯ç©ºé—´å¤æ‚åº¦ä¼šç•¥æœ‰å¢åŠ ã€‚ ç»†è¯´åˆ†æ²»ï¼ˆW4ï¼‰ æˆ‘ä»¬é€šå¸¸ä½¿ç”¨é€’å½’æ¥åˆ†æåˆ†æ²»ç®—æ³•çš„è¿è¡Œæ—¶é—´ã€‚\nå½“è¾“å…¥æ•°æ®çš„å¤§å°ä¸ºnæ—¶ï¼Œä½¿ç”¨T(n)æ¥è¡¨ç¤ºè¿è¡Œæ—¶é—´ã€‚\nä»¥Mergesortä¸ºä¾‹\nT(n) = c if n$\u0026lt;$2 T(n) = 2$\\times$T(n/2) + cn if n$\\ge$2 cæ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œè¡¨ç¤ºåˆå¹¶å½“å‰å±‚çš„ä¸¤ä¸ªå­åˆ—è¡¨æ—¶éœ€è¦åšå¤šå°‘æ¬¡æ¯”è¾ƒæˆ–ç§»åŠ¨æ“ä½œï¼Œå› ä¸ºå…·ä½“è®¡ç®—cçš„å¤§å°ä¸å…·ä½“çš„ç®—æ³•æœ‰å…³ï¼Œæ‰€ä»¥åªç”¨ä¸€ä¸ªå¸¸æ•°æ¥è¡¨ç¤ºï¼Œcnçš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(n)ã€‚2$\\times$T(n/2) è¡¨ç¤ºé€’å½’æ’åº2ä¸ªå­åºåˆ—çš„æ—¶é—´å¤æ‚åº¦ã€‚\nåˆ†æ²»çš„é€’å½’è¡¨è¾¾å¼ T(n) = c if n$\\le$d T(n) = aT(n/b) + f(n) if n$\u0026gt;$d è¡¨è¾¾å¼ä¸­ï¼Œaè¡¨ç¤ºæ¯æ¬¡é€’å½’éœ€è¦è§£å†³çš„å­é—®é¢˜çš„æ•°é‡ï¼Œbè¡¨ç¤ºå­é—®é¢˜çš„è§„æ¨¡ï¼Œf(n)è¡¨ç¤ºéé€’å½’éƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦ã€‚\nä¸¾ä¸ªä¾‹å­$T(n) = 3T(n/2) + n^2$ ã€‚è¿™ä¸ªé€’å½’å¼çš„æ„æ€æ˜¯å°†ä¸€ä¸ªè§„æ¨¡ä¸º n çš„é—®é¢˜åˆ†æˆ 3 ä¸ªè§„æ¨¡ä¸º n/2 çš„å­é—®é¢˜æ¥è§£å†³ï¼Œç„¶åå†ç”¨ O($n^2$) çš„æ—¶é—´å°†è¿™äº›å­é—®é¢˜çš„è§£åˆå¹¶èµ·æ¥å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚\nä¸»å®šç†ï¼ˆMaster Methodï¼‰ ç¬¬ä¸€ç§æƒ…å†µï¼Œè¡¨ç¤ºå­é—®é¢˜çš„æ—¶é—´å¤æ‚åº¦æ˜¯ä¸»è¦å› ç´ ï¼Œå³æ—¶é—´å¤æ‚åº¦ä¸»è¦æ˜¯å­é—®é¢˜è¯´äº†ç®—ã€‚ ç¬¬äºŒç§æƒ…å†µï¼Œè¡¨ç¤ºå­é—®é¢˜è§„æ¨¡ä¸åŸé—®é¢˜è§„æ¨¡ç›¸ç­‰ï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥å°†åŸé—®é¢˜åˆ†æˆå‡ ä¸ªå¤§å°ç›¸ç­‰çš„å­é—®é¢˜ï¼Œå¹¶ä¸”è§£å†³æ¯ä¸ªå­é—®é¢˜çš„å¤æ‚åº¦ç›¸åŒã€‚ä¾‹å¦‚mergesortã€‚ ç¬¬ä¸‰ç§æƒ…å†µï¼Œè¡¨ç¤ºå­é—®é¢˜è§„æ¨¡å¯¹ä¸»é—®é¢˜çš„æ—¶é—´å¤æ‚åº¦å½±å“å¾ˆå°ï¼Œä¸»è¦ç”±f(n)å†³å®šã€‚ æ•´æ•°å¿«é€Ÿä¹˜æ³•ï¼ˆFast multiplication of integersï¼‰ å½“æœ‰ä¸¤ä¸ªéå¸¸å¤§çš„æ•´æ•°ç›¸ä¹˜ï¼ˆä½æ•°å¾ˆå¤šï¼‰ï¼Œå…¶æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)ï¼Œå› ä¸ºæ•°å­—ä¸­çš„æ¯ä¸€ä½éƒ½è¦å’Œå¦ä¸€ä¸ªæ•°çš„æ‰€æœ‰ä½è¿›è¡Œä¹˜æ³•æ“ä½œã€‚å¿«é€Ÿæ•´æ•°ä¹˜æ³•å°±æ˜¯æ‰¾å‡ºç®—æ³•æ¥ç¼©å°æ—¶é—´å¤æ‚åº¦ã€‚\nKaratsuba Algorithm åˆ©ç”¨åˆ†æ²»çš„æ€æƒ³ï¼Œå‡è®¾æˆ‘ä»¬è¦è®¡ç®—ä¸¤ä¸ªnä½æ•´æ•°xå’Œyçš„ç§¯ï¼Œxå’Œyå¯ä»¥åˆ†åˆ«è¡¨ç¤ºä¸º\n$x = a * 10^{n/2} + b$ $y = c * 10^{n/2} + d$ å…¶ä¸­ï¼Œè¿™é‡Œä»¥åè¿›åˆ¶ä¸ºä¾‹ï¼Œå¦‚æœæ˜¯äºŒè¿›åˆ¶ï¼ŒæŠŠ10æ›¿æ¢æˆ2å°±å¯ä»¥ã€‚aå’Œcæ˜¯xå’Œyçš„é«˜ä½éƒ¨åˆ†ï¼Œbå’Œdæ˜¯å®ƒä»¬çš„ä½ä½éƒ¨åˆ†\nå› æ­¤ï¼Œ$xy=ac \\cdot 10^n + (ad + bc) \\cdot 10^{n/2} + bd$ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡é€’å½’è®¡ç®—è¿™äº›å€¼ï¼Œå¹¶ç»„åˆèµ·æ¥å¾—åˆ°æœ€ç»ˆç»“æœã€‚ç”±äºad+bc=(a+b)(c+d)-ac-bdï¼Œacå’Œbdç”¨åˆ°çš„æ˜¯å‰åå·²ç»æ±‚å‡ºæ¥çš„å€¼ï¼Œå› æ­¤æ¯æ¬¡åªéœ€è¦è¢«åˆ†è§£æˆ3ä¸ªå­é—®é¢˜å³å¯ï¼Œå³\nè®¡ç®—acçš„å€¼ è®¡ç®—bdçš„å€¼ è®¡ç®—(a+b)(c+d)çš„å€¼ ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºé€’å½’è¡¨è¾¾å¼ä¸ºT(n) = 3T(n/2)+cnï¼Œå³è¿›è¡Œäº†3æ¬¡ä¹˜æ³•è®¡ç®—å’Œ6æ¬¡åŠ å‡æ³•è®¡ç®—ã€‚æ ¹æ®ä¸»å®šç†ï¼Œ$cn\u0026lt;log3$ï¼Œå› æ­¤è¿™ç§ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º$n^{log3}\u0026lt;n^2$ï¼Œæ­¤å¤„logä»¥2ä¸ºåº•ã€‚\nçŸ©é˜µä¹˜æ³•ï¼ˆMatrix Multiplicationï¼‰ æ ¹æ®å›¾ä¸­çš„é€’å½’è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºæ—¶é—´å¤æ‚åº¦ä¸ºO($n^3$)ï¼Œå¾ˆè´¹é’±ã€‚\nStrassenâ€™s Algorithm ç†è§£äº†ä¸Šé¢å›¾ä¸­çš„ä¸œè¥¿ï¼Œè¿™ä¸ªç®—æ³•å°±å¾ˆå¥½ç†è§£äº†ã€‚è¿™ä¸ªäººæ‰¾åˆ°äº†ä¸€ç§æ–¹æ³•ï¼Œç”¨æ›´å°‘çš„æ­¥éª¤å°±å¯ä»¥è§£å†³çŸ©é˜µä¹˜æ³•ã€‚ é¦–å…ˆæ‰¾åˆ°7ä¸ªçŸ©é˜µä¹˜ç§¯\n$S_1$ $S_2$ $S_3$ $S_4$ $S_5$ $S_6$ $S_7$ a(f-h) (a+b)h (c+d)e d(g-e) (a+d)(e+h) (b-d)(g+h) (c-a)(e+f) ä¹‹åï¼Œç»“æœå¯ä»¥ç”¨å¦‚ä¸‹å¼å­è¡¨ç¤º\n$I = S_4 + S_5 + S_6 âˆ’ S_2$ $J = S_1 + S_2$ $K = S_3 + S_4$ $L = S_1 + S_5 + S_7 âˆ’ S_3$ å› æ­¤ï¼Œé€’å½’è¡¨è¾¾å¼å¯ä»¥å†™æˆ\n$T (n) = 7T(n/2) + bn^2$\nåœ¨æ ¹æ®master methodå¯ä»¥å¾—å‡ºï¼Œæ—¶é—´å¤æ‚åº¦æœ‰æ‰€ç¼©å°ï¼Œå˜æˆäº†O($n^{\\log_2 7}$)\næµ…è¯´è´ªå¿ƒï¼ˆW5ï¼‰ ä¸€äº›å¹¿æ³›åº”ç”¨åœ¨ä¸åŒé—®é¢˜ä¸Šçš„ç®—æ³•å·¥å…·\nè´ªå¿ƒ åˆ†æ²» åŠ¨æ€è§„åˆ’ ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å°±åº”è¯¥æ˜¯è´ªå¿ƒã€‚è´ªå¿ƒç®—æ³•èƒ½æ±‚å‡ºè§£çš„é—®é¢˜å…·å¤‡greedy-choiceçš„å±æ€§ã€‚\nGreedy-choice property\nGreedy-choice propertyæ˜¯æŒ‡æ¯ä¸€æ­¥æ‰€åšçš„è´ªå¿ƒé€‰æ‹©éƒ½èƒ½å¯¼è‡´å±€éƒ¨æœ€ä¼˜è§£ï¼ˆå³å½“å‰æƒ…å†µä¸‹æœ€ä¼˜çš„è§£ï¼‰ï¼Œä»è€Œæœ€ç»ˆå¾—åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚\nå¯ä»¥è¢«è´ªå¿ƒç®—æ³•è§£å†³çš„é—®é¢˜\nFractional Knapsack Problem Interval Scheduling Task Scheduling Minimum spanning trees Shortest Paths Change Making Maximum Spacing k-clustering FKP FKPé—®é¢˜æŒ‡çš„æ˜¯ï¼šä¸€ä¸ªå«æœ‰nä¸ªå…ƒç´ çš„é›†åˆSï¼ŒSä¸­çš„æ¯ä¸ªå…ƒç´ iéƒ½æœ‰ä¸€ä¸ªæ­£çš„æ”¶ç›Šå’Œæ­£çš„æƒé‡ã€‚ç›®çš„æ˜¯åœ¨ä¸è¶…è¿‡æ€»æƒé‡Wçš„æƒ…å†µä¸‹ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§æ”¶ç›Šçš„å­é›†ã€‚\néœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè¿™ä¸ªé—®é¢˜å’Œ0/1èƒŒåŒ…é—®é¢˜ä¸åŒï¼ˆæ¯ä¸ªç‰©å“åªèƒ½é€‰æ‹©æ”¾æˆ–è€…ä¸æ”¾ï¼‰ã€‚FKPå¯ä»¥å°†ç‰©å“åˆ†æˆä¸€éƒ¨åˆ†æ”¾å…¥èƒŒåŒ…ï¼Œè€Œä¸å¿…å®Œå…¨èˆå¼ƒã€‚å¯¹0/1èƒŒåŒ…é—®é¢˜ï¼Œgreedyé€šå¸¸ä¸ä¼šå‘ç°æœ€ä¼˜è§£ã€‚ï¼ˆåŠ¨æ€è§„åˆ’å¯ä»¥\nå¯¹äºåˆ†å‰²æˆçš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å…¶ä»½æ•°å®šä¹‰ä¸º$x_i$ï¼Œå¯¹äºæ‰€æœ‰çš„å…ƒç´ iï¼Œ$x_i\u0026lt;w_i$ã€‚å› æ­¤å›ºå®šæ€»æƒé‡ä¸‹æ€»æ”¶ç›Šçš„å…¬å¼ä¸º $$\\sum_{i\\in S} b_i(x_i/w_i)$$ å› æ­¤æˆ‘ä»¬å¯ä»¥è®¡ç®—æ¯ä¸ªå…ƒç´ içš„ä»·å€¼æŒ‡æ•°ã€‚$v_i = b_i/w_i$ã€‚è¿™å¯ä»¥è®¡ç®—å‡ºæ¯å•ä½é‡é‡çš„ä»·å€¼ï¼Œä»·å€¼æŒ‡æ•°è¶Šé«˜çš„ç‰©å“è¶Šå®¹æ˜“è¢«ä¼˜å…ˆé€‰æ‹©ã€‚\nè¯´åˆ°ä¼˜å…ˆé€‰æ‹©å°±ä¼šæƒ³èµ·ä¼˜å…ˆé˜Ÿåˆ—ï¼Œæƒ³åˆ°ä¼˜å…ˆé˜Ÿåˆ—å°±ä¼šæƒ³èµ·å †ã€‚æŠŠæœ€å¤§çš„ä»·å€¼æŒ‡æ•°æ’åœ¨å †çš„æ ¹èŠ‚ç‚¹ã€‚å»ºé€ ä¸€ä¸ªå †éœ€è¦çš„æ—¶é—´å¤æ‚åº¦ä¸ºO($n\\log n$)ã€‚æ¯æ¬¡è´ªå¿ƒé€‰æ‹©ï¼ˆç§»èµ°å †ä¸­å‰©ä¸‹çš„æœ€å¤§çš„ä»·å€¼æŒ‡æ•°ï¼‰éœ€è¦O($\\log n$)ã€‚\nå› æ­¤ï¼Œç»™å‡ºä¸€ä¸ªFKPé—®é¢˜ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥æ„é€ å‡ºä¸€ä¸ªæœ€å¤§æ”¶ç›Šçš„å­é›†åœ¨O($n\\log n$)æ—¶é—´å†…ã€‚\nInterval Scheduling Interval SchedulingæŒ‡çš„é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬æœ‰ä¸€ç³»åˆ—ä»»åŠ¡åœ¨ä¸€ä¸ªé›†åˆä¸­ã€‚ç°åœ¨åªæœ‰ä¸€ä¸ªæœºå™¨å»å¤„ç†è¿™äº›ä»»åŠ¡ã€‚æˆ‘ä»¬çš„ç›®çš„æ˜¯é€‰æ‹©ä¸€ä¸ªè°ƒåº¦é¡ºåºä½¿å¾—ä»»åŠ¡çš„å®Œæˆæ•°é‡æœ€å¤§åŒ–ã€‚\næ€ä¹ˆåŠï¼Ÿæ‰¾æœ€å…ˆå¼€å§‹çš„ä»»åŠ¡ï¼Ÿé‚£ä¸‡ä¸€è¿™ä¸ªä»»åŠ¡å’Œå¤§éƒ¨åˆ†å…¶ä»–ä»»åŠ¡éƒ½å†²çªæ€ä¹ˆåŠï¼Ÿé‚£æ‰¾å…·æœ‰æœ€å°æ—¶é—´é—´éš”çš„ä¸¤ä¸ªä»»åŠ¡ï¼Ÿé‚£å’Œå…¶ä»–ä»»åŠ¡æ—¶é—´é—´éš”å¾ˆé•¿æ€ä¹ˆåŠï¼Ÿæˆ–è€…æ‰¾ä¸€ä¸ªå’Œå¤§éƒ¨åˆ†ä»»åŠ¡éƒ½ä¸å†²çªçš„ä»»åŠ¡ï¼ŸåŒæ ·æ— æ³•ä¿è¯ä¸Šè¿°é—®é¢˜è¢«è§£å†³ï¼ˆæ²¡æ³•ä¿è¯ä¸­é—´æœ‰å¾ˆå¤šä¸è¯¥æµªè´¹çš„æ—¶é—´è¢«æµªè´¹ï¼‰\nç»¼åˆä¸Šé¢çš„æƒ³æ³•ï¼Œæˆ‘ä»¬å‘ç°é—®é¢˜å¹¶ä¸æ˜¯å‡ºç°åœ¨è°å…ˆå¼€å§‹ï¼Œè€Œæ˜¯å¦‚ä½•ä¿è¯å¼€å§‹åä¸æµªè´¹ä¸è¯¥æµªè´¹çš„æ—¶é—´ã€‚å› æ­¤å¯ä»¥æƒ³åˆ°\næŠŠä»»åŠ¡æŒ‰ç…§ç»“æŸæ—¶é—´è¿›è¡Œæ’åºï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªç»“æŸçš„ä»»åŠ¡ä½œä¸ºç¬¬ä¸€ä¸ªï¼Œç„¶åç§»é™¤æ‰€æœ‰å’Œè¿™ä¸ªä»»åŠ¡å†²çªçš„ä»»åŠ¡ã€‚ç„¶åä¸€ç›´é‡å¤è¿™æ ·åšï¼Œç›´åˆ°é›†åˆä¸­ä¸ºç©ºã€‚è¿™æ ·å°±å¯ä»¥ä¿è¯ä¸æµªè´¹è¿‡å¤šçš„æ—¶é—´ã€‚è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO($n\\log n$)ã€‚ä¸»è¦æ˜¯æ’åºçš„æ—¶é—´ã€‚\nTask Scheduling Interval Schedulingæ˜¯åªç”¨ä¸€ä¸ªæœºå™¨è°ƒç”¨ä»»åŠ¡ï¼ŒTask Schedulingæ˜¯å¯ä»¥ç”¨å‡ å°æœºå™¨è°ƒç”¨ä»»åŠ¡ï¼Œç›®çš„æ˜¯æ±‚å‡ºæƒ³å¤„ç†æ‰€æœ‰é—®é¢˜ï¼Œæœºå™¨çš„æœ€å°ä½¿ç”¨æ•°é‡ã€‚è´ªå¿ƒä»ç„¶å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªä¸è¿‡æˆ‘ä»¬å¯ä»¥è€ƒè™‘ç”¨åˆå§‹æ—¶é—´æ¥æ’åºäº†ã€‚\nå¯¹äºæ¯ä¸€ä¸ªä»»åŠ¡iï¼Œå¦‚æœè¿™å°æœºå™¨ç©ºé—²å¯ä»¥å¤„ç†ï¼Œé‚£ä¹ˆå°±æŠŠè¿™ä¸ªä»»åŠ¡åˆ†é…ç»™è¿™å°æœºå™¨ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬åˆ†é…ä¸€ä¸ªæ–°æœºå™¨å»å¤„ç†å®ƒã€‚é‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°æ‰€æœ‰ä»»åŠ¡éƒ½è¢«å¤„ç†ã€‚\nå¤„ç†nä¸ªä»»åŠ¡ï¼Œç”¨æœ€å°‘çš„æœºå™¨æ•°é‡ï¼Œäº§ç”Ÿè¿™ä¸ªè°ƒåº¦çš„æ—¶é—´å¤æ‚åº¦ä¸ºO($n\\log n$)\nä¸ºä»€ä¹ˆè´ªå¿ƒæœ‰æ•ˆï¼Ÿï¼ˆè¯æ˜ï¼‰\nå‡è®¾ç°åœ¨çš„ç®—æ³•å¯ä»¥æ‰¾åˆ°kä¸ªæœºå™¨æ¥è§£å†³é—®é¢˜ï¼Œçªç„¶å†’å‡ºæ¥ä¸ªè¯´æ³•è¯´ç”¨k-1ä¸ªæœºå™¨å°±å¯ä»¥è§£å†³ã€‚\nå‡è®¾kæ˜¯ç°åœ¨çš„ç®—æ³•åˆ†é…çš„æœ€åä¸€ä¸ªæœºå™¨ã€‚ä»»åŠ¡iæ˜¯è¿™å°æœºå™¨ä¸Šè¢«åˆ†é…çš„ç¬¬ä¸€ä¸ªä»»åŠ¡ã€‚æ ¹æ®æˆ‘ä»¬çš„ç®—æ³•æ¥è®²ï¼Œä»»åŠ¡iä¹‹æ‰€ä»¥è¢«åˆ†é…åˆ°ç¬¬kä¸ªæœºå™¨ä¸Šï¼Œæ˜¯å› ä¸ºå‰©ä¸‹k-1å°æœºå™¨ä¸Šçš„ä»»åŠ¡éƒ½ä¸ä»»åŠ¡iå†²çªã€‚ä¹Ÿå°±æ˜¯è¯´è¿™äº›ä»»åŠ¡éƒ½æ˜¯å¼€å§‹æ—¶é—´åœ¨iä¹‹å‰ï¼Œä½†æ˜¯åœ¨iä¹‹åç»“æŸã€‚å¦‚æœè¿™äº›ä»»åŠ¡éƒ½æ˜¯è¿™æ ·ï¼Œé‚£ä¹Ÿè¯´æ˜äº†ä»–ä»¬ä¹‹é—´ä¹Ÿæ˜¯ä¸¤ä¸¤å†²çªçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé›†åˆä¸­æœ‰kä¸ªä»»åŠ¡æ˜¯ä¸¤ä¸¤å†²çªçš„ï¼Œé‚£å°±ä¸å¯èƒ½ç”¨k-1å°æœºå™¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å› æ­¤ï¼Œè´ªå¿ƒç»™äº†ä¸€ä¸ªå…¨å±€æœ€ä¼˜è§£ã€‚\nClustering è¿™ä¸ªé—®é¢˜è¯´ç™½äº†å°±æ˜¯è·ç¦»é—®é¢˜ï¼Œæœ‰ä¸‰ç‚¹è§„åˆ™\nd($p_i, p_i$) = 0, å¯¹äºæ‰€æœ‰çš„i d($p_i, p_j$) = 0, $i\\neq j$ d($p_i, p_j$) = d($p_j, p_i$) Maximum Spacing Clustering ç›®çš„ï¼šç»™nä¸ªå¯¹è±¡å’Œä¸€ä¸ªkå€¼ï¼Œæ‰¾åˆ°å…·æœ‰æœ€å¤§ç°‡é—´è·çš„kèšç±»ã€‚\nå·²çŸ¥Nä¸ªç‚¹ï¼Œç»™å‡ºä¸€å¯¹ç‚¹ä¹‹é—´è·ç¦»çš„å®šä¹‰ï¼ˆæ¯”å¦‚æ¬§å‡ é‡Œå¾·è·ç¦»ï¼‰ï¼Œspacingå®šä¹‰ä¸ºä»»æ„ä¸¤ä¸ªå±äºä¸åŒç±»çš„ç‚¹ä¹‹é—´è·ç¦»çš„æœ€å°å€¼ï¼Œè¦æ±‚èšæˆkä¸ªç±»ï¼Œä½¿å¾—spacingæœ€å¤§ã€‚ç±»ä¼¼kruskalç®—æ³•ï¼Œå°†æ‰€æœ‰è¾¹ä»å°åˆ°å¤§æ’åºï¼Œå¼€å§‹æ¯ä¸ªç‚¹å±äº1ä¸ªclusterï¼Œç„¶åå°†è·ç¦»æœ€å°çš„ä¸¤ä¸ªç‚¹åˆå¹¶ï¼Œç»§ç»­ä¸‹å»ï¼Œç›´åˆ°åªå‰©ä¸‹kä¸ªclusterã€‚\né€šè¿‡å°†ç‚¹åˆ†ç»„åˆ°ç°‡ä¸­ï¼Œä½¿å¾—æ¯ä¸ªç°‡å†…éƒ¨çš„ç‚¹ä¹‹é—´è·ç¦»çš„æœ€å°å€¼å°½å¯èƒ½å¤§ï¼Œè¿›è€Œä½¿å¾—ä¸åŒç°‡ä¹‹é—´çš„æœ€å°è·ç¦»å°½å¯èƒ½å¤§ã€‚æœ€å¤§åŒ–ä¸¤ä¸ªclusterä¹‹é—´æœ€è¿‘çš„ä¸¤ä¸ªç‚¹ï¼Œæ‰èƒ½è¾¾åˆ°è‰¯å¥½çš„èšç±»æ•ˆæœï¼ˆç±»ä¼¼æ”¾ç¼©æ€æƒ³ï¼‰ã€‚\næ—¶é—´å¤æ‚åº¦åˆ†æ\nå‡è®¾æœ‰nä¸ªç‚¹ï¼Œå·²çŸ¥å¯¹nä¸ªå…ƒç´ è¿›è¡Œæ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºO($n\\log n$)ï¼Œä½†æ˜¯æˆ‘ä»¬è¦è®¡ç®—ä¸¤ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»å¹¶è¿›è¡Œæ’åºï¼Œå› æ­¤$n\\log n$ä¸­çš„n=$n^2$ï¼Œæ‰€ä»¥æ˜¯$n^2\\log n^2 = 2n^2 \\log n$ã€‚å› æ­¤æ—¶é—´å¤æ‚åº¦ä¸ºO($n^2\\log n$)\nèŠèŠåŠ¨æ€è§„åˆ’ ï¼ˆW6ï¼‰ åŠ¨æ€è§„åˆ’çš„æ€æƒ³å’Œåˆ†æ²»æ¯”è¾ƒåƒï¼Œéƒ½æ˜¯å°†ä¸€ä¸ªå¤§é—®é¢˜æ‹†åˆ†æˆå¾ˆå¤šå­é—®é¢˜æ¥è§£å†³ã€‚åŒºåˆ«æ˜¯ï¼Œ\nåˆ†æ²»å°†é—®é¢˜æ‹†å¼€åï¼Œæ±‚å¾—å­é—®é¢˜çš„è§£ï¼Œåœ¨è§£å†³é—®é¢˜æ˜¯è¦åˆå¹¶å­é—®é¢˜ï¼ˆé‡å¤é€’å½’è°ƒç”¨ï¼‰å¾—åˆ°æœ€ç»ˆè§£ã€‚ åŠ¨æ€è§„åˆ’æ˜¯å°†é—®é¢˜æ‹†æˆè‹¥å¹²å­é—®é¢˜ï¼Œæ±‚å¾—å­é—®é¢˜çš„è§£å¹¶å­˜å‚¨èµ·æ¥ï¼Œä»¥ä¾¿ä¸‹ä¸€æ¬¡éœ€è¦æ±‚è§£ç›¸åŒçš„å­é—®é¢˜æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨å·²ç»æ±‚è§£è¿‡çš„ç»“æœã€‚ å½“æš´åŠ›è§£æ³•ä¸å¯è¡Œçš„æ—¶å€™ï¼ŒåŠ¨æ€è§„åˆ’é€šå¸¸ä¼šæ´¾ä¸Šç”¨åœºã€‚\nä½¿ç”¨åŠ¨æ€è§„åˆ’çš„å¸¸ç”¨æ‰‹æ®µå°±æ˜¯å…ˆæ‰¾åˆ°é—®é¢˜çš„é€’å½’è§£ï¼Œç„¶åå­˜å‚¨å­é—®é¢˜çš„è§£è‡ªåº•å‘ä¸Šè¿­ä»£è®¡ç®—ã€‚ä»€ä¹ˆæ˜¯é€’å½’è§£ï¼Ÿæ–æ³¢é‚£å¥‘æ•°åˆ—ä¸­f(n) = f(n-1) + f(n-2)å°±æ˜¯ä¸€ä¸ªé€’å½’è§£ã€‚\nmemoization æ­£å¸¸æƒ…å†µä¸‹ï¼ŒåŠ¨æ€è§„åˆ’æ˜¯éœ€è¦æŒ‡æ•°çº§çš„æ—¶é—´å¤æ‚åº¦ï¼Œå› ä¸ºå®ƒéœ€è¦è®¡ç®—æ‰€æœ‰æƒ…å†µç„¶åå–æœ€ä¼˜è§£ã€‚ä½†æ˜¯ä½¿ç”¨å¤‡å¿˜å½•ï¼Œå°†è®¡ç®—è¿‡çš„å­é—®é¢˜çš„è§£å­˜å…¥æ•°æ®ç»“æ„ä¸­ï¼Œä¸ç®¡æ˜¯æ•°ç»„è¿˜æ˜¯HashMapï¼Œè¿™å¯ä»¥é¿å…é‡å¤è®¡ç®—ç›¸åŒçš„å­é—®é¢˜ï¼Œå°†æŒ‡æ•°çº§çš„æ—¶é—´å¤æ‚åº¦é™åˆ°å¤šé¡¹å¼çº§åˆ«ã€‚\n0-1èƒŒåŒ…é—®é¢˜ å›°æ‰°äº†æˆ‘ä¸€æ™šä¸Šçš„é—®é¢˜ï¼Œç»ˆäºææ‡‚äº†ã€‚æˆ‘ä¸»è¦çš„è¯¯åŒºåœ¨äºç”¨è´ªå¿ƒçš„æ€æƒ³æ¥çœ‹è¿™é“åŠ¨æ€è§„åˆ’çš„é¢˜ç›®ã€‚åŠ¨æ€è§„åˆ’å°±æ˜¯æ‰¾å‡ºæ‰€æœ‰å¯èƒ½çš„æƒ…å†µï¼Œç„¶ååœ¨è¿™äº›å¯èƒ½çš„æƒ…å†µä¸­æ‰¾å‡ºæœ€ä¼˜è§£ã€‚\né¦–å…ˆå®šä¹‰çŠ¶æ€dp[i][j]ï¼Œæ„æ€æ˜¯å‰iä¸ªç‰©å“ï¼Œåœ¨èƒŒåŒ…å‰©ä½™é‡é‡ä¸ºjæ—¶ï¼Œå¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼ã€‚ å› æ­¤çŠ¶æ€è½¬ç§»æ–¹ç¨‹å¯ä»¥æœ‰å¦‚ä¸‹å®šä¹‰ å¦‚æœè¦è£…çš„ç¬¬iä¸ªç‰©å“çš„é‡é‡å¤§äºèƒŒåŒ…çš„å‰©ä½™é‡é‡jï¼Œé‚£ä¹ˆä¸è£…è¿™ä¸ªç‰©å“ï¼Œåˆ™dp[i][j] = dp[i-1][j]ã€‚ å¦‚æœè¦è£…çš„ç¬¬iä¸ªç‰©å“çš„é‡é‡å°äºèƒŒåŒ…çš„å‰©ä½™é‡é‡jï¼Œé‚£ä¹ˆå¯ä»¥é€‰æ‹©è£…æˆ–ä¸è£…ï¼Œä¸¤ç§æƒ…å†µä¸­ï¼Œä»·å€¼æ›´å¤§çš„ä¸€ç§ï¼Œå³$dp[i][j] = max(dp[i-1][j], dp[i-1][j-w_i] + v_i)$ã€‚ åˆ°è¿™é‡Œæˆ‘å°±æœ‰ç–‘é—®äº†ï¼Œæ—¢ç„¶æŠŠä¸œè¥¿è£…è¿›å»äº†ï¼Œæ€ä¹ˆå¯èƒ½æ¯”ä¸è£…è¿™ä¸ªä¸œè¥¿çš„ä»·å€¼è¦å°ï¼Ÿè¿™ä¸ªmaxçš„å­˜åœ¨æ ¹æœ¬å°±æ²¡æ„ä¹‰ï¼Ÿ è¿™æ˜¯å› ä¸ºï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œé€‰æ‹©å½“å‰ç‰©å“å¯èƒ½ä¼šå¯¼è‡´åœ¨ä¹‹åçš„å†³ç­–ä¸­é”™è¿‡æ›´é«˜ä»·å€¼çš„ç‰©å“ã€‚ é—®é¢˜åˆæ¥äº†ï¼Œé‚£æˆ‘æ€ä¹ˆèƒ½åœ¨è£…è¿™ä¸ªç‰©å“çš„æ—¶å€™çŸ¥é“ä¹‹åçš„äº‹æƒ…ï¼Ÿ æˆ‘çš„è¿™ä¸ªæ€è·¯å°±æ˜¯è´ªå¿ƒçš„æ€æƒ³ï¼Œæ€»æ˜¯è€ƒè™‘å½“å‰æ­¥éª¤ï¼Œä½†å®é™…çš„åŠ¨æ€è§„åˆ’çš„æ­¥éª¤æ˜¯è¿™æ ·çš„\nğŸŒ° ä¸¾ä¸ªä¾‹å­ï¼Œæœ‰ä¸‰ä¸ªç‰©å“123ï¼ŒW=5, w={1,4,3}, v={2,4,7}\nå½“æˆ‘ä»¬è€ƒè™‘ç‰©å“ 2 æ—¶ï¼Œå‡è®¾æˆ‘ä»¬é€‰æ‹©äº†å®ƒã€‚è¿™å°†å¯¼è‡´èƒŒåŒ…å‰©ä½™æ‰¿é‡ä¸º 5-4=1ï¼Œæˆ‘ä»¬æ— æ³•å†é€‰æ‹©ç‰©å“ 3ï¼Œå› ä¸ºå®ƒçš„é‡é‡è¶…è¿‡äº†å‰©ä½™æ‰¿é‡ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥é€‰æ‹©1ï¼Œç°åœ¨èƒŒåŒ…ä¸­ç‰©å“çš„æ€»ä»·å€¼ä¸º v1 + v2 = 6ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ä¸é€‰æ‹©ç‰©å“ 2ï¼Œè¿™å°†ä¿ç•™è¶³å¤Ÿçš„ç©ºé—´æ¥å®¹çº³ç‰©å“ 3ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒèƒŒåŒ…ä¸­ç‰©å“çš„æ€»ä»·å€¼ä¸º v1 + v3 = 9ï¼Œè¿™æ¯”é€‰æ‹©ç‰©å“ 2 çš„æƒ…å†µè¦é«˜ã€‚\n// i=1 (ç‰©å“1) dp[1][0] = max(dp[0][0], dp[0][-1]) = 0 dp[1][1] = max(dp[0][1], dp[0][0] + 2) = 2 dp[1][2] = max(dp[0][2], dp[0][1] + 2) = 2 dp[1][3] = max(dp[0][3], dp[0][2] + 2) = 2 dp[1][4] = max(dp[0][4], dp[0][3] + 2) = 2 dp[1][5] = max(dp[0][5], dp[0][4] + 2) = 2 // i=2 (ç‰©å“2) dp[2][0] = max(dp[1][0], dp[1][-4]) = 0 dp[2][1] = max(dp[1][1], dp[1][-3]) = 2 dp[2][2] = max(dp[1][2], dp[1][-2]) = 2 dp[2][3] = max(dp[1][3], dp[1][-1]) = 2 dp[2][4] = max(dp[1][4], dp[1][0] + 4) = 4 dp[2][5] = max(dp[1][5], dp[1][1] + 4) = 6 // i=3 (ç‰©å“3) dp[3][0] = max(dp[2][0], dp[2][-3]) = 0 dp[3][1] = max(dp[2][1], dp[2][-2]) = 2 dp[3][2] = max(dp[2][2], dp[2][-1]) = 2 dp[3][3] = max(dp[2][3], dp[2][0] + 7) = 7 dp[3][4] = max(dp[2][4], dp[2][1] + 7) = 9 dp[3][5] = max(dp[2][5], dp[2][2] + 7) = 9 å› æ­¤ï¼Œé€»è¾‘åº”è¯¥æ˜¯ä¸¤ä¸ªå¾ªç¯ï¼Œå¤–é¢çš„å¾ªç¯æ˜¯ç‰©å“çš„ä¸ªæ•°ï¼Œå†…éƒ¨çš„å¾ªç¯æ˜¯èƒŒåŒ…æ€»å®¹é‡ï¼Œå¯¹äºæ¯ä¸ªç‰©å“ï¼Œéƒ½è¦è®¡ç®—å‡ºå…¶åœ¨ä¸åŒå‰©ä½™å®¹é‡ä¸‹æ‰€å¯¹åº”çš„ä»·å€¼ã€‚æœ€åæ‰èƒ½é€šè¿‡maxå–åˆ°æœ€å¤§å€¼ã€‚\nWeighted Interval Scheduling åœ¨è´ªå¿ƒç®—æ³•ä¸­ï¼Œæœ‰æåˆ°è¿‡Interval Schedulingï¼Œæ„æ€æ˜¯æœ‰å¤šä¸ªä»»åŠ¡ï¼Œåœ¨ä¸€å°æœºå™¨ä¸Šè°ƒåº¦ï¼Œé—®æœ€å¤šå¯ä»¥è°ƒåº¦å¤šå°‘ä¸ªä»»åŠ¡ã€‚è€ŒWeighted Interval Schedulingï¼Œæ„æ€æ˜¯æ¯ä¸ªä»»åŠ¡éƒ½å¸¦æœ‰ä»·å€¼ï¼Œé—®å¦‚ä½•è°ƒåº¦æ‰èƒ½ä½¿ä»·å€¼æœ€å¤§åŒ–ã€‚\nè¿™ä¸ªé—®é¢˜ç”¨è´ªå¿ƒç»™å‡ºçš„æ–¹æ¡ˆå¾ˆå¯èƒ½ä¸æ˜¯æœ€ä¼˜è§£ï¼Œéœ€è¦ä½¿ç”¨åŠ¨æ€è§„åˆ’ã€‚\né¦–å…ˆæˆ‘ä»¬å®šä¹‰p(j)ï¼Œp(j)è¡¨ç¤ºå’Œä»»åŠ¡jä¸ç›¸äº¤ï¼Œä½†æ˜¯æœ€æ¥è¿‘çš„ä»»åŠ¡iï¼Œi\u0026lt;jã€‚\næ¥ä¸‹æ¥å®šä¹‰çŠ¶æ€ï¼Œå¯¹äºä¸€ä¸ªä»»åŠ¡nï¼Œæœºå™¨åªæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œè°ƒåº¦æˆ–è€…ä¸è°ƒåº¦ã€‚\nå¦‚æœè°ƒåº¦åºåˆ—åŒ…å«nï¼Œé‚£ä¹ˆè¿™ä¸ªåºåˆ—ä¸€å®šæ˜¯{1, 2, \u0026hellip;, p(n)} å¦‚æœè°ƒåº¦åºåˆ—ä¸åŒ…å«nï¼Œé‚£ä¹ˆè¿™ä¸ªåºåˆ—ä¸€å®šæ˜¯{1, 2, \u0026hellip;, n-1} ç„¶åå®šä¹‰åºåˆ—$S_j$æ˜¯å¯¹äºåºåˆ—{1, 2, \u0026hellip;, j}çš„æœ€ä¼˜è§£ï¼ŒOpt(j)ä»£è¡¨$S_j$çš„å€¼ã€‚\nIf $j\\in S_j$ $Opt(j) = v_j + Opt(p(j))$ If $j\\notin S_j$ $Opt(j) = Opt(j-1)$ ç”±æ­¤å¯å¾—ï¼Œ$ Opt(j) = max ({ v_j + Opt(p(j)), Opt(j-1) }) $\nä¸ºäº†é¿å…æŒ‡æ•°çº§çš„æ—¶é—´å¤æ‚åº¦ï¼Œå…ˆè®¡ç®—å‡ºOpt(1)åˆ°Opt(n)çš„å€¼ï¼Œä¹‹åå†æ‰¾Opt(n)çš„å€¼éœ€è¦O(nlogn)çš„æ—¶é—´å¤æ‚åº¦\næ¢ç§˜å›¾-æœ€çŸ­è·¯å¾„ï¼ˆW7ï¼‰ Connectivity information é€šå¸¸æ˜¯æè¿°ä¸€ä¸ªç½‘ç»œä¸­èŠ‚ç‚¹ä¹‹é—´è¿æ¥æ–¹å¼çš„ä¿¡æ¯ã€‚\nGraph å›¾æ˜¯ä¸€ä¸ªå¯¹è±¡çš„é›†åˆï¼ŒåŒ…æ‹¬é¡¶ç‚¹å’Œè¾¹ã€‚\nSome Terminologies\nä¸€æ¡edgeçš„ä¸¤ä¸ªé¡¶ç‚¹æ—¶adjacentçš„ ä¸€æ¡edge incidentåœ¨è¿™ä¸ªé¡¶ç‚¹ä¸Šï¼Œå¦‚æœè¿™ä¸ªé¡¶ç‚¹æ˜¯edgeçš„ä¸€ä¸ªé¡¶ç‚¹ ä»ä¸€ä¸ªé¡¶ç‚¹å‡ºå‘çš„æœ‰å‘è¾¹ç§°ä¸ºoutgoing edgeï¼Œ-\u0026gt; ä¸€ä¸ªé¡¶ç‚¹æ¥å—çš„æœ‰å‘è¾¹ç§°ä¸ºincoming edgeï¼Œ\u0026lt;- ä¸€ä¸ªé¡¶ç‚¹vçš„degreeè¡¨ç¤ºincidentåœ¨å½“å‰é¡¶ç‚¹ä¸Šè¾¹çš„æ•°é‡ï¼Œè®°ä¸ºdeg(v) å¯¹äºæœ‰å‘å›¾ï¼Œincomingå’Œoutgoingçš„edgeï¼Œè®°ä¸ºindeg(v)å’Œoutdeg(v) Theorem\nå¯¹äºæœ‰mæ¡è¾¹çš„æ— å‘å›¾ï¼Œ$\\sum_{v \\in V} deg(v) = 2m$ å¯¹äºæœ‰mæ¡è¾¹çš„æœ‰å‘å›¾ï¼Œ$\\sum_{v \\in V} indeg(v) = \\sum_{v \\in V} outdeg(v) = m$ å¦‚æœæ— å‘å›¾ä¸­æ¯ä¸€å¯¹é¡¶ç‚¹ä¹‹é—´éƒ½æœ‰è¾¹è¿æ¥ï¼Œåˆ™è¿™ä¸ªå›¾æ˜¯ç®€å•å›¾ï¼Œsimple graph\nå¦‚æœæœ‰å‘å›¾ä¸­æ¯ä¸€å¯¹é¡¶ç‚¹ä¹‹é—´æœ€å¤šæœ‰ä¸€æ¡è¾¹è¿æ¥ï¼Œåˆ™è¿™ä¸ªå›¾æ˜¯ç®€å•å›¾ã€‚\nspanning subgraphæŒ‡çš„æ˜¯åŒ…å«å›¾Gä¸­æ‰€æœ‰é¡¶ç‚¹çš„å­å›¾\nspanning treeç”Ÿæˆæ ‘æ˜¯ä¸€ä¸ªå›¾çš„spanning graphï¼ŒåŒæ—¶è¿˜æ˜¯ä¸€é¢—free tree\nå¦‚æœè¿™ä¸ªå›¾ä¸æ˜¯connectedï¼Œé‚£ä¹ˆå›¾Gçš„æœ€å¤§è¿æ¥å­å›¾å«åšå›¾Gçš„connected componentã€‚\nConnected, treeå’Œforestçš„å…³ç³»\nå…¨è¿æ¥å›¾æ˜¯æœ€å¯†é›†çš„å½¢å¼ï¼Œä»»æ„ä¸¤ç‚¹éƒ½ç›´æ¥ç›¸è¿ï¼› æ ‘æ˜¯æ— ç¯ä¸”è¿é€šçš„ï¼Œè¾¹æ•°æ°å¥½æ¯”èŠ‚ç‚¹æ•°å°‘ä¸€ï¼› æ£®æ—åˆ™æ˜¯å¤šä¸ªæ ‘çš„é›†åˆï¼Œå¯èƒ½æ˜¯ä¸è¿é€šçš„ã€‚ Gæ˜¯ä¸€ä¸ªæœ‰nèŠ‚ç‚¹å’Œmæ¡è¾¹çš„æ— å‘å›¾\nå¦‚æœGæ˜¯ä¸€é¢—æ ‘ï¼Œm = n-1ã€‚ æ•°å­¦å½’çº³æ³•è¯æ˜ Base caseè€ƒè™‘åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„å›¾ï¼Œæ­¤æ—¶å®ƒæ²¡æœ‰è¾¹ï¼Œæ»¡è¶³èŠ‚ç‚¹æ•°ï¼ˆ1ï¼‰ç­‰äºè¾¹æ•°ï¼ˆ0ï¼‰åŠ ä¸€çš„æ¡ä»¶ã€‚åªæœ‰ä¸¤ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œä¹Ÿæ»¡è¶³æ¡ä»¶ã€‚ Hypothesis å‡è®¾æ‰€æœ‰å…·æœ‰kä¸ªèŠ‚ç‚¹çš„æ ‘éƒ½æ»¡è¶³â€œèŠ‚ç‚¹æ•°ç­‰äºè¾¹æ•°+1â€çš„è§„åˆ™ã€‚ Induction step ç°åœ¨æœ‰ä¸€ä¸ªk+1ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œé€‰æ‹©ä¸€ä¸ªå¶å­èŠ‚ç‚¹å¹¶ç§»é™¤ï¼Œå‰©ä¸‹çš„å›¾ä»ç„¶æ˜¯ä¸€é¢—æ ‘ï¼Œè¿™æ£µæ ‘æ»¡è¶³æˆ‘ä»¬çš„å‡è®¾â€œæœ‰kä¸ªèŠ‚ç‚¹å’Œk-1æ¡è¾¹â€ã€‚ç„¶åï¼Œå°†ç§»é™¤çš„å¶å­èŠ‚ç‚¹å’Œè¾¹åŠ å›åˆ°å›¾ä¸­ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†åŸå§‹çš„æ ‘ï¼Œå®ƒæœ‰k+1ä¸ªèŠ‚ç‚¹å’Œkæ¡è¾¹ã€‚å› æ­¤è¿™æ£µæ ‘ä¹Ÿæ»¡è¶³â€œm=n+1â€çš„è§„åˆ™ å¦‚æœGçš„è¾¹çš„æ•°é‡å¤§äºèŠ‚ç‚¹çš„æ•°é‡ï¼Œå³$m\\geq n$ï¼Œé‚£ä¹ˆGä¸­å­˜åœ¨cycleã€‚ æ•°å­¦å½’çº³æ³•è¯æ˜ Base case è€ƒè™‘èŠ‚ç‚¹æ•°ä¸º1ï¼Œ2ï¼Œ3ã€‚å¦‚æœæƒ³è¦æœ‰ç¯ï¼Œè¾¹çš„æ•°é‡ä¸€å®šè¦å¤§äºç­‰äºèŠ‚ç‚¹æ•°ã€‚ Hypothesis èŠ‚ç‚¹å°äºkçš„å›¾ä¸­ï¼Œè¾¹çš„æ•°é‡å¤§äºç­‰äºèŠ‚ç‚¹æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå›¾ä¸­ä¸€å®šå­˜åœ¨ç¯ã€‚ Induction step ç°åœ¨ä¸€ä¸ªå›¾ä¸­æœ‰k+1ä¸ªèŠ‚ç‚¹ï¼Œæƒ³è¦è¯æ˜å½“è¾¹çš„æ•°é‡\u0026gt;=èŠ‚ç‚¹æ•°æ—¶ï¼Œè¿™ä¸ªå›¾ä¸­å­˜åœ¨ç¯ã€‚ç°åœ¨ç§»é™¤å›¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹åŠå…¶æ‰€è¿æ¥çš„æ‰€æœ‰è¾¹ã€‚å› ä¸ºä¸çŸ¥é“ç§»é™¤çš„èŠ‚ç‚¹é™„å¸¦å‡ æ¡è¾¹ï¼Œæ‰€ä»¥åˆ†æˆä¸¤ç§æƒ…å†µè®¨è®º ç§»é™¤çš„ç‚¹çš„deg=1ï¼Œç§»é™¤äº†ä¸€ä¸ªèŠ‚ç‚¹å’Œä¸€æ¡è¾¹ï¼Œé‚£ä¹ˆç°åœ¨è¾¹çš„æ•°é‡ä¾ç„¶å¤§äºç­‰äºèŠ‚ç‚¹çš„æ•°é‡ï¼Œç¬¦åˆæˆ‘ä»¬çš„å‡è®¾ã€‚å› æ­¤k+1ä¸ªèŠ‚ç‚¹æ—¶å›¾ä¸­å¿…å®šæœ‰ç¯ã€‚ ç§»é™¤çš„ç‚¹çš„deg\u0026gt;1ï¼Œç§»é™¤çš„è¿™ä¸ªèŠ‚ç‚¹ç”±äºè¿æ¥äº†å¤šäºä¸€æ¡çš„è¾¹ï¼Œæ‰€ä»¥åœ¨ç§»é™¤å®ƒä¹‹å‰ï¼Œå›¾ä¸­å¿…ç„¶å·²ç»å­˜åœ¨ç¯ã€‚å› æ­¤ï¼Œå¯¹äºèŠ‚ç‚¹æ•°ä¸ºk+1å¹¶ä¸”è¾¹æ•°å¤§äºç­‰äºk+1çš„å›¾ï¼Œä»ç„¶å¯ä»¥ç¡®å®šå›¾ä¸­ä¸€å®šå­˜åœ¨ç¯ã€‚ å¦‚æœGä¸­æ²¡æœ‰cycleï¼Œé‚£ä¹ˆ$m\\leq n-1$ ä¸Šé¢çš„åè¯ï¼Œæ²¡å•¥å¥½è¯´çš„äº†ã€‚ å¦‚æœGæ˜¯connected(è¿é€šï¼Œæ³¨æ„å’Œå…¨è¿æ¥çš„åŒºåˆ«)ï¼Œé‚£ä¹ˆ$m\\geq n-1$ æ•°å­¦å½’çº³æ³•è¯æ˜ Base case è€ƒè™‘èŠ‚ç‚¹æ•°1ï¼Œ2ã€‚éƒ½æ˜¯è¿é€šçš„ã€‚ Hypoithesis å‡è®¾èŠ‚ç‚¹æ•°é‡å°äºæˆ–ç­‰äºkçš„å›¾ï¼Œå¦‚æœè¾¹çš„æ•°é‡\u0026gt;=èŠ‚ç‚¹æ•°é‡å‡1ï¼Œé‚£ä¹ˆå›¾ä¸€å®šæ˜¯è¿é€šçš„ã€‚ Indection step ç°åœ¨ä¸€ä¸ªå›¾ä¸­æœ‰k+1ä¸ªèŠ‚ç‚¹ï¼Œæƒ³è¦è¯æ˜å½“è¾¹çš„æ•°é‡\u0026gt;=èŠ‚ç‚¹æ•°-1æ—¶å›¾æ˜¯è¿é€šçš„ï¼ˆå³è¾¹çš„æ•°é‡ä¸ºkï¼‰ã€‚å‡è®¾å½“å‰çš„å›¾æ˜¯ä¸è¿é€šçš„ï¼Œå³æœ‰è‡³å°‘ä¸¤ä¸ªå­å›¾ã€‚é‚£ä¹ˆå½“å‰è¾¹çš„æ•°é‡ä¸€å®šæ˜¯å°äºèŠ‚ç‚¹æ•°é‡-2ã€‚è¿™ä¸å½“å‰çš„å‡è®¾çŸ›ç›¾ï¼Œå› æ­¤è¿™ä¸ªå›¾æ˜¯è¿é€šçš„ã€‚ Adjacency list and matrix é¢†æ¥åˆ—è¡¨å’Œé‚»æ¥çŸ©é˜µæ˜¯è¡¨ç¤ºå›¾çš„ä¸¤ç§ä¸»è¦çš„æ•°æ®ç»“æ„\né‚»æ¥çŸ©é˜µæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå…¶ä¸­çš„è¡Œå’Œåˆ—éƒ½ä»£è¡¨å›¾ä¸­çš„èŠ‚ç‚¹ã€‚å¦‚æœèŠ‚ç‚¹iå’ŒèŠ‚ç‚¹jä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ï¼Œé‚£ä¹ˆçŸ©é˜µçš„ç¬¬iè¡Œç¬¬jåˆ—ï¼ˆå’Œç¬¬jè¡Œç¬¬iåˆ—ï¼Œå¦‚æœæ˜¯æ— å‘å›¾ï¼‰çš„å…ƒç´ å°±æ˜¯1ï¼ˆæˆ–è€…æ˜¯è¾¹çš„æƒé‡ï¼Œå¦‚æœæ˜¯åŠ æƒå›¾ï¼‰ï¼Œå¦åˆ™å°±æ˜¯0ã€‚ é‚»æ¥åˆ—è¡¨ï¼šé‚»æ¥åˆ—è¡¨æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œä»£è¡¨ä¸€ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰é‚»å±…ã€‚å¦‚æœèŠ‚ç‚¹iå’ŒèŠ‚ç‚¹jä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ï¼Œé‚£ä¹ˆèŠ‚ç‚¹jå°±ä¼šå‡ºç°åœ¨èŠ‚ç‚¹içš„é“¾è¡¨ä¸­ï¼ˆèŠ‚ç‚¹iä¹Ÿä¼šå‡ºç°åœ¨èŠ‚ç‚¹jçš„é“¾è¡¨ä¸­ï¼Œå¦‚æœæ˜¯æ— å‘å›¾ï¼‰ã€‚ Diagraph æœ‰å‘å›¾ å¦‚æœä¸€ä¸ªæœ‰å‘å›¾ä¸Šä»»æ„ä¸¤ä¸ªç‚¹u, véƒ½æ»¡è¶³u reaches vï¼Œv reaches uï¼Œé‚£ä¹ˆè¿™ä¸ªå›¾æ˜¯å¼ºè¿æ¥\næœ‰å‘å›¾çš„cycleç¤ºä¾‹ flowchart LR id1(A)--\u003eid2(B)--\u003eid3(C) id3--\u003eid4(D) id4--\u003eid6(E)--\u003eid7(F) id7--\u003eid1 å¦‚æœä¸€ä¸ªæœ‰å‘å›¾æ²¡æœ‰cycleï¼Œè¿™ä¸ªæœ‰å‘å›¾æ˜¯acyclicã€‚\nDFS \u0026amp; BFS æ·±åº¦ä¼˜å…ˆæœç´¢å’Œå¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(n+mï¼‰ï¼Œnè¡¨ç¤ºå›¾ä¸­èŠ‚ç‚¹çš„æ•°é‡ï¼Œmè¡¨ç¤ºå›¾ä¸­è¾¹çš„æ•°é‡ã€‚å› ä¸ºåœ¨æœç´¢è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦è¢«è®¿é—®ï¼Œæ¯æ¡è¾¹ä¹Ÿä¼šè¢«æ£€æŸ¥ï¼Œå› ä¸ºéœ€è¦é€šè¿‡è¾¹æ¥æ‰¾åˆ°èŠ‚ç‚¹çš„é‚»å±…ã€‚\nDFSä½¿ç”¨æ ˆå®ç°ï¼ŒBFSä½¿ç”¨é˜Ÿåˆ—å®ç°ã€‚\nDFSå®ç°\nvoid DFS(int vertex, boolean visited[]) { visited[vertex] = true; System.out.print(vertex + \u0026#34; \u0026#34;); Iterator\u0026lt;Integer\u0026gt; it = adjLists[vertex].listIterator(); while (it.hasNext()) { int adj = it.next(); if (!visited[adj]) DFS(adj, visited); } } void DFS(int vertex) { boolean visited[] = new boolean[numVertices]; DFS(vertex, visited); } BFSå®ç°\nvoid BFS(int vertex) { boolean visited[] = new boolean[numVertices]; LinkedList\u0026lt;Integer\u0026gt; queue = new LinkedList\u0026lt;\u0026gt;(); visited[vertex] = true; queue.add(vertex); while (!queue.isEmpty()) { int s = queue.poll(); System.out.print(s + \u0026#34; \u0026#34;); Iterator\u0026lt;Integer\u0026gt; it = adjLists[s].listIterator(); while (it.hasNext()) { int n = it.next(); if (!visited[n]) { visited[n] = true; queue.add(n); } } } } ä¸¤ç§ç®—æ³•éƒ½ä½¿ç”¨äº†ä¸€ä¸ª boolean æ•°ç»„æ¥è¿½è¸ªå“ªäº›é¡¶ç‚¹å·²ç»è¢«è®¿é—®è¿‡ã€‚ç„¶åï¼ŒDFS ä½¿ç”¨äº†é€’å½’æ¥è®¿é—®é¡¶ç‚¹çš„æ¯ä¸ªé‚»å±…ï¼ŒBFS ä½¿ç”¨äº†ä¸€ä¸ªé˜Ÿåˆ—æ¥æŒ‰ç…§è·ç¦»é¡¶ç‚¹çš„é¡ºåºè®¿é—®é‚»å±…ã€‚\nå•æºæœ€çŸ­è·¯å¾„ \u0026amp; Dijkstraâ€™s algorithm sssp(single-source shortest path)é—®é¢˜æ˜¯åŸºäºå¸¦æƒé‡çš„å›¾ã€‚æ‰¾åˆ°ä»ä¸€ä¸ªé¡¶ç‚¹åˆ°å¦ä¸€ä¸ªé¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œæ¯æ¡è¾¹éƒ½æ˜¯å¸¦æœ‰æƒé‡çš„ã€‚\nDijkstraçš„ç®—æ³•åŸºäºå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œå®ƒè€ƒè™‘äº†è¾¹çš„æƒé‡ã€‚\nåœ¨å¼€å§‹æ—¶ï¼Œå°†æºèŠ‚ç‚¹çš„è·ç¦»è®¾ä¸º0ï¼Œå°†æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹çš„è·ç¦»è®¾ä¸ºæ— ç©·å¤§ å°†æ‰€æœ‰èŠ‚ç‚¹æ”¾å…¥ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼ˆæˆ–è€…æœ€å°å †ï¼‰ï¼Œå…¶ä¸­ä¼˜å…ˆçº§ç”±èŠ‚ç‚¹åˆ°æºèŠ‚ç‚¹çš„è·ç¦»å†³å®šã€‚ ä»ä¼˜å…ˆé˜Ÿåˆ—ä¸­å–å‡ºè·ç¦»æœ€å°çš„èŠ‚ç‚¹ï¼Œå¯¹å…¶æ‰€æœ‰æœªè®¿é—®è¿‡çš„é‚»å±…è¿›è¡Œæ¾å¼›æ“ä½œï¼ˆå¦‚æœé€šè¿‡å½“å‰èŠ‚ç‚¹åˆ°è¾¾é‚»å±…çš„è·ç¦»å°äºé‚»å±…å½“å‰çš„è·ç¦»ï¼Œåˆ™æ›´æ–°é‚»å±…çš„è·ç¦»ã€‚ï¼‰ å°†å½“å‰èŠ‚ç‚¹æ ‡è®°ä¸ºå·²è®¿é—®ï¼Œå¹¶å°†å…¶ä»ä¼˜å…ˆé˜Ÿåˆ—ä¸­ç§»é™¤ã€‚ é‡å¤ä¸Šä¸¤ä¸ªæ­¥éª¤ï¼Œç›´åˆ°ä¼˜å…ˆé˜Ÿåˆ—ä¸ºç©ºï¼Œå³æ‰€æœ‰å¯è¾¾çš„èŠ‚ç‚¹éƒ½å·²è®¿é—®ã€‚ ç»†è‡´è¯´ä¸‹æ¾å¼›æ“ä½œï¼šæˆ‘ä»¬æ£€æŸ¥é€šè¿‡uåˆ°vçš„è·¯å¾„æ˜¯å¦æ¯”å½“å‰ä»æºèŠ‚ç‚¹åˆ°vçš„è·¯å¾„æ›´çŸ­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æ¯”è¾ƒd[v]å’Œd[u] + w(u, v)ã€‚å¦‚æœd[u] + w(u, v)æ›´å°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ›´æ–°d[v]çš„å€¼ä¸ºd[u] + w(u, v)ã€‚æœ‰ç‚¹åŠ¨æ€è§„åˆ’çš„æ€æƒ³ã€‚\næœ€å¤§æµé—®é¢˜å’ŒäºŒåˆ†å›¾åŒ¹é… Ford-Fulkerson algorithm è¿™æ˜¯è§£å†³æœ€å¤§æµé—®é¢˜çš„ç®—æ³•\næœ€å¤§æµé—®é¢˜ï¼šæœ‰ä¸€ä¸ªæœ‰å‘å›¾ï¼Œå…¶ä¸­æ¯æ¡è¾¹éƒ½æœ‰ä¸€å®šçš„å®¹é‡ã€‚è¿˜æœ‰ä¸¤ä¸ªç‰¹æ®Šçš„èŠ‚ç‚¹ï¼šæºèŠ‚ç‚¹ï¼ˆsourceï¼‰å’Œæ±‡ç‚¹ï¼ˆsinkï¼‰ã€‚ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ç§æ–¹å¼ï¼Œä½¿å¾—ä»æºèŠ‚ç‚¹åˆ°æ±‡ç‚¹çš„æµé‡æœ€å¤§ï¼ŒåŒæ—¶éµå®ˆæ¯æ¡è¾¹çš„å®¹é‡é™åˆ¶ã€‚ä¸‹é¢æ˜¯æœ€å¤§æµé—®é¢˜çš„å›¾ã€‚ flowchart LR id1(s)--3/7--\u003eid2(v1)--2/2--\u003eid3(v4)--6/6--\u003eid4(t) id2--1/1--\u003eid5--4/5--\u003eid3 id1--5/5--\u003eid5(v3)--2/3--\u003eid4 id1--6/6--\u003eid6(v2)--6/9--\u003eid7(v5)--6/8--\u003eid4 id6--0/3--\u003eid5 æ•°å­—çš„å«ä¹‰ï¼š3/7ï¼Œè¯¥æ¡è¾¹æ‰¿æ‹…çš„æœ€å¤§æµé‡ä¸º7ï¼Œç°åœ¨é€šè¿‡å·²ç»è¿™æ¡è¾¹çš„æµé‡ä¸º3ã€‚\nFord-Fulkerson algorithmçš„é‡è¦æ€æƒ³\naugmenting paths å¢å¹¿è·¯å¾„ï¼šæ˜¯ä¸€æ¡ä»æºç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„ï¼Œè·¯å¾„ä¸Šçš„æ‰€æœ‰è¾¹çš„å‰©ä½™å®¹é‡éƒ½å¤§äºé›¶ã€‚ residual networks æ®‹å‰ç½‘ç»œ Forward edges åŸå§‹ç½‘ç»œä¸­å­˜åœ¨çš„è¾¹ï¼Œå®ƒä»¬åœ¨æ®‹å·®ç½‘ç»œä¸­çš„å®¹é‡ç­‰äºåŸå§‹å®¹é‡å‡å»å½“å‰æµé‡ã€‚è¡¨ç¤ºå¯ä»¥åœ¨è¿™æ¡è¾¹ä¸Šå¢åŠ å¤šå°‘æµé‡ã€‚ Backward edges åŸå§‹ç½‘ç»œä¸­ä¸å­˜åœ¨çš„è¾¹ï¼Œå®ƒä»¬åœ¨æ®‹å·®ç½‘ç»œä¸­è¡¨ç¤ºå¯ä»¥å‡å°‘å¤šå°‘æµé‡ã€‚å‘åè¾¹æ˜¯åŸå§‹è¾¹çš„åå‘è¾¹ï¼Œå®¹é‡ç­‰äºåŸå§‹è¾¹çš„å½“å‰æµé‡ cuts å‰Šå‡ æ²¡æœ‰å¢å¹¿è·¯å¾„å­˜åœ¨æ—¶ï¼Œæµé‡æ˜¯æœ€å¤§çš„ã€‚ ä¸€ä¸ªcut(S, T) æ˜¯å¯¹å›¾ G = (V, E) çš„é¡¶ç‚¹é›† V çš„ä¸€ç§åˆ’åˆ†ï¼Œå…¶ä¸­ V æ˜¯é¡¶ç‚¹é›†ï¼ŒE æ˜¯è¾¹é›†ã€‚åœ¨è¿™ä¸ªåˆ’åˆ†ä¸­ï¼ŒS å’Œ T = V - S æ˜¯ä¸¤ä¸ªä¸ç›¸äº¤çš„å­é›†ï¼Œå®ƒä»¬çš„å¹¶é›†æ˜¯ Vï¼Œå³æ¯ä¸ªé¡¶ç‚¹è¦ä¹ˆåœ¨ S ä¸­ï¼Œè¦ä¹ˆåœ¨ T ä¸­ï¼Œä¸”æºç‚¹ s å±äº Sï¼Œæ±‡ç‚¹ t å±äº Tã€‚ä¸€ä¸ªcutçš„å®¹é‡æ˜¯æ‰€æœ‰ä» S åˆ° T çš„è¾¹çš„å®¹é‡ä¹‹å’Œ Max-Flow/Min-Cut Theorem: Max-Flowçš„å€¼ç­‰äºMin-cutçš„å®¹é‡\nBipartite graphs \u0026amp; Max matching Bipartite graphs\nåœ¨ä¸€ä¸ªäºŒåˆ†å›¾ä¸­ï¼Œæ‰€æœ‰çš„é¡¶ç‚¹å¯ä»¥è¢«åˆ†ä¸ºä¸¤ä¸ªä¸äº¤çš„é›†åˆï¼ˆæˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºéƒ¨åˆ†æˆ–è€…åˆ†åŒºï¼‰ï¼Œå¹¶ä¸”å›¾ä¸­çš„æ¯ä¸€æ¡è¾¹éƒ½è¿æ¥äº†ä¸€ä¸ªé›†åˆä¸­çš„é¡¶ç‚¹å’Œå¦ä¸€ä¸ªé›†åˆä¸­çš„é¡¶ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å­˜åœ¨ä¸€æ¡è¾¹è¿æ¥äº†åŒä¸€ä¸ªé›†åˆä¸­çš„ä¸¤ä¸ªé¡¶ç‚¹ã€‚\nMax matching\nä¸€ä¸ªåŒ¹é…æ˜¯å›¾ä¸­ä¸€ç»„è¾¹çš„é›†åˆï¼Œæ»¡è¶³è¿™ç»„è¾¹ä¸­çš„ä»»æ„ä¸¤æ¡è¾¹éƒ½ä¸å…±äº«é¡¶ç‚¹ã€‚æœ€å¤§åŒ¹é…åˆ™æ˜¯åŒ…å«è¾¹æ•°æœ€å¤šçš„åŒ¹é…ã€‚ å¸¸è§çš„ç»å…¸é—®é¢˜ï¼šå‡è®¾æœ‰ä¸€ç»„å·¥äººå’Œä¸€ç»„ä»»åŠ¡ï¼Œæ¯ä¸ªå·¥äººå¯ä»¥å®Œæˆç‰¹å®šçš„ä»»åŠ¡ï¼Œä½†æ¯ä¸ªå·¥äººä¸€æ¬¡åªèƒ½å®Œæˆä¸€ä¸ªä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡ä¹Ÿåªèƒ½ç”±ä¸€ä¸ªå·¥äººå®Œæˆã€‚è¿™æ ·çš„é—®é¢˜å¯ä»¥é€šè¿‡å¯»æ‰¾äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ¥è§£å†³ã€‚\nåŠ å¯†ä¸æ•°è®º æ•°è®º å¯æ•´é™¤æ€§ a|bè¡¨ç¤ºaèƒ½æ•´é™¤bï¼Œbæ˜¯açš„å€æ•°ï¼Œb=akã€‚ å¦‚æœ a|b å¹¶ä¸” b|c, é‚£ä¹ˆ a|c. (transitivity) å¦‚æœ a|b å¹¶ä¸” a|c, é‚£ä¹ˆ a|(i Â· b + j Â· c). iå’Œjæ˜¯ä»»æ„æ•´æ•° å¦‚æœ a|b å¹¶ä¸” b|aï¼Œé‚£ä¹ˆaå’Œbäº’ä¸ºç›¸åæ•°ã€‚ ç®—æœ¯åŸºæœ¬ç†è®º ä¸€ä¸ªè´¨æ•°é›†åˆ$p$ = {$p_1, p_2, \u0026hellip;, p_k$}ï¼Œä¸€ä¸ªæ•´æ•°é›†åˆ$e$ = {$e_1, e_2, \u0026hellip;, e_k$} ä»»ä½•ä¸€ä¸ªæ•´æ•°méƒ½å¯ä»¥è¡¨ç¤ºæˆ$m$ = $p_1^{e_1}p_2^{e_2}\u0026hellip;p_k^{e_k}$ æœ€å¤§å…¬çº¦æ•°(GCD) gcd(a,b)=1ï¼Œaå’Œbæ˜¯relatively prime a\u0026gt;0, gcd(a,0)=a or gcd(0,a)=a gcd(a,b)=gcd(|a|,|b|)ï¼Œæ— è®ºabæ˜¯æ­£æ˜¯è´Ÿã€‚ gcd(0,0) is undefined. The modulo operator and congruences(æ¨¡å’ŒåŒä½™) å¦‚æœ a mod n = b mod n. In this case, a is congruent to b modulo nï¼ˆaå’Œbå¯¹nåŒä½™ï¼‰, note a $\\equiv$ b (mod n) å¦‚æœa $\\equiv$ b (mod n)ï¼Œæ„å‘³ç€a-b=kn âˆ’10 mod 3 = 2, -10/3 = -4, so -10 - (-4)*3 = 2 Euclidâ€™s algorithm ä¸€ç§æ‰¾æœ€å¤§å…¬çº¦æ•°çš„ç®—æ³• å¦‚æœ$a\\ge b \u0026gt; 0$ï¼Œgcd(a, b) = gcd(b, a mod b) while b!=0 do (a,b)\u0026lt;-(b,a mod b) return a åŠ å¯†é€šä¿¡ å¯¹ç§°åŠ å¯† ä¼ ç»ŸåŠ å¯†æœºåˆ¶ä¸­ï¼ŒAliceå’ŒBobå…±äº«ä¸€ä¸ªå…¬é’¥kã€‚è¿™ä¸ªå…¬é’¥æ˜¯ç”¨æ¥åŠ å¯†å’Œè§£å¯†çš„ï¼Œä¹‹æ‰€ä»¥å«å¯¹ç§°åŠ å¯†ï¼Œæ˜¯å› ä¸ºå‘å‡ºè€…å’Œæ¥æ”¶è€…ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªå¯†é’¥æ¥åŠ å¯†/è§£å¯†ä¿¡æ¯ã€‚\nå¯¹ç§°å¯†ç ä¸­æœ€ç®€å•çš„ä¸€ç§å½¢å¼æ˜¯substitution cipher(æ›¿æ¢å¯†ç )ã€‚åŠ å¯†è¿‡ç¨‹ï¼š\nåŠ å¯†ï¼šæ˜æ–‡Mä¸­çš„æ¯ä¸ªå­—ç¬¦xéƒ½é€šè¿‡å¯†é’¥Ï€æ˜ å°„åˆ°å¯¹åº”çš„å­—ç¬¦yã€‚æ¯”å¦‚ï¼Œå¦‚æœÏ€å®šä¹‰ä¸º\u0026quot;Aå˜ä¸ºDï¼ŒBå˜ä¸ºH\u0026quot;ï¼Œé‚£ä¹ˆæ˜æ–‡\u0026quot;AB\u0026quot;å°±ä¼šè¢«åŠ å¯†ä¸º\u0026quot;DH\u0026quot;ã€‚ ä¼ è¾“ï¼šåŠ å¯†åçš„å¯†æ–‡Cè¢«å‘é€ç»™æ¥æ”¶è€…ã€‚ æ¥æ”¶è€…åœ¨çŸ¥é“å¯†é’¥Ï€çš„æƒ…å†µä¸‹å¯ä»¥è½»æ¾åœ°è§£å¯†å¯†æ–‡ï¼š è§£å¯†ï¼šå¯†æ–‡Cä¸­çš„æ¯ä¸ªå­—ç¬¦yéƒ½é€šè¿‡Ï€çš„é€†æ’åˆ—$x=Ï€^{âˆ’1}(y)$æ˜ å°„å›åŸå§‹çš„å­—ç¬¦xã€‚ç»§ç»­ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æœæ¥æ”¶è€…çŸ¥é“\u0026quot;Aå˜ä¸ºDï¼ŒBå˜ä¸ºH\u0026quot;ï¼Œé‚£ä¹ˆä»–å°±å¯ä»¥å°†å¯†æ–‡\u0026quot;DH\u0026quot;è§£å¯†å›åŸå§‹çš„æ˜æ–‡\u0026quot;AB\u0026quot;ã€‚ ç¼ºç‚¹ï¼šä½†è¿™å¾ˆå®¹æ˜“è¢«ç ´è§£ã€‚ã€‚ã€‚ å¦ä¸€ç§æ˜¯å‡¯æ’’å¯†ç ã€‚æ˜æ–‡ä¸­çš„æ¯ä¸ªå­—ç¬¦xè¢«æ›¿æ¢æˆæ–°çš„å­—ç¬¦yï¼Œå…¶è®¡ç®—å…¬å¼ä¸º y = (x + k) mod nã€‚å…¶ä¸­ï¼š\nnæ˜¯å­—æ¯è¡¨çš„å¤§å°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨è‹±è¯­å­—æ¯è¡¨ï¼Œé‚£ä¹ˆnå°±æ˜¯26ï¼Œå› ä¸ºè‹±è¯­å­—æ¯è¡¨åŒ…å«26ä¸ªå­—æ¯ã€‚ kæ˜¯ç§˜å¯†å¯†é’¥ï¼Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå¹¶ä¸”æ»¡è¶³1 â‰¤ k \u0026lt; nã€‚è¿™ä¸ªå¯†é’¥å†³å®šäº†å­—ç¬¦æ›¿æ¢çš„ä½ç§»ã€‚ä¾‹å¦‚ï¼Œå¦‚æœk = 3ï¼Œé‚£ä¹ˆå­—æ¯\u0026quot;A\u0026quot;å°±ä¼šè¢«æ›¿æ¢æˆå­—æ¯\u0026quot;D\u0026quot;ï¼Œå­—æ¯\u0026quot;B\u0026quot;æ›¿æ¢æˆ\u0026quot;E\u0026quot;ï¼Œä¾æ­¤ç±»æ¨ã€‚å½“åˆ°è¾¾å­—æ¯è¡¨çš„æœ«å°¾æ—¶ï¼Œä¼šä»å­—æ¯è¡¨çš„å¼€å¤´ç»§ç»­æ›¿æ¢ã€‚ ç¼ºç‚¹ï¼škå€¼æœ‰é™ï¼Œéå¸¸å®¹æ˜“è¢«æš´åŠ›ç ´è§£ï¼Œä»Šå¤©ä¹Ÿæ²¡äººç”¨ã€‚ã€‚ã€‚ ä¸€ç§å®‰å…¨çš„å¯¹ç§°åŠ å¯†(OTP)ä¸€æ¬¡æ€§å¯†ç æœ¬æ–¹æ¡ˆã€‚å…¶å·¥ä½œåŸç†å¦‚ä¸‹ï¼š\nç”Ÿæˆå¯†é’¥ï¼šAliceå’ŒBobå…±äº«ä¸€ä¸ªéšæœºæ¯”ç‰¹ä¸²Kï¼Œé•¿åº¦è‡³å°‘ä¸ä»–ä»¬è¦å‘é€çš„æ¶ˆæ¯Mä¸€æ ·é•¿ã€‚æ¯”ç‰¹ä¸²Kç”¨äºåŠ å¯†å’Œè§£å¯†çš„å¯¹ç§°å¯†é’¥ã€‚ åŠ å¯†ï¼šAliceå°†æ˜æ–‡æ¶ˆæ¯Mä¸å¯†é’¥Kè¿›è¡Œå¼‚æˆ–æ“ä½œ($0\\oplus0=1\\oplus1=0, 0\\oplus1=1$)ï¼Œç”Ÿæˆå¯†æ–‡Cã€‚å› ä¸ºKæ˜¯éšæœºçš„ï¼Œæ‰€ä»¥Cä¹Ÿæ˜¯éšæœºçš„ï¼Œæ²¡æœ‰ä»»ä½•å¯ä»¥ç”¨æ¥çŒœæµ‹Mæˆ–Kçš„æ¨¡å¼ã€‚ ä¼ è¾“ï¼šå¯†æ–‡Cè¢«å‘é€ç»™Bobã€‚ è§£å¯†ï¼šBobæ”¶åˆ°å¯†æ–‡Cåï¼Œä»–ä¹Ÿå°†Cä¸åŒæ ·çš„å¯†é’¥Kè¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œæ¢å¤å‡ºæ˜æ–‡æ¶ˆæ¯Mã€‚è¿™æ˜¯å› ä¸ºä»»ä½•æ•°å€¼ä¸è‡ªèº«å¼‚æˆ–ä¸¤æ¬¡éƒ½ä¼šè¿”å›åŸå§‹å€¼ã€‚$C\\oplus K = (M\\oplus K)\\oplus K=M\\oplus(K\\oplus K)=M\\oplus0=M$ã€‚ æ‰€ä»¥ï¼Œç†è®ºä¸Šè®²åªè¦å¯†é’¥Kä¸è¢«æ‹¦æˆªçªƒå–ï¼Œä¸”æ¯ä¸ªå¯†é’¥åªä½¿ç”¨ä¸€æ¬¡ï¼Œé‚£ä¹ˆå¯†æ–‡å°±æ— æ³•è¢«ç ´è§£ã€‚ ç¼ºç‚¹ï¼šKä¼šéå¸¸å¤§ï¼Œå¹¶ä¸”åªèƒ½ç”¨ä¸€æ¬¡ï¼Œå¾ˆå¤šåº”ç”¨åœºæ™¯è¢«é™åˆ¶ä½äº†ã€‚æˆ‘ä»¬å€¾å‘äºå¯ä»¥é‡å¤ä½¿ç”¨å¹¶ä¸”ç®€çŸ­çš„å¯†é’¥ éå¯¹ç§°åŠ å¯† åŸºäºOTPçš„éœ€æ±‚ç—›ç‚¹ï¼Œå…¬é’¥åŠ å¯†å‡ºç°äº†\nå…¬é’¥åŠ å¯† å‡è®¾åŠ å¯†å‡½æ•°æ˜¯Eï¼Œè§£å¯†å‡½æ•°æ˜¯Dï¼Œæ¶ˆæ¯æ˜¯Mï¼Œå…¬é’¥åŠ å¯†æœ‰ä¸€ä¸‹å‡ ä¸ªæ€§è´¨\nD(E(M)) = Mï¼Œç»åŠ å¯†å‡½æ•°å¤„ç†åå†è§£å¯†ï¼Œå¾—åˆ°åŠ å¯†å‰çš„æ¶ˆæ¯M Då’ŒEå‡½æ•°éƒ½å¾ˆæ˜“äºè®¡ç®—ã€‚èŠ±è´¹å¤ªé•¿æ—¶é—´ä¼šä½¿å¾ˆå¤šåº”ç”¨åœºæ™¯å¤±å»æ„ä¹‰ ç”±Dæ¨å¯¼å‡ºEè¢«è®¤ä¸ºæ˜¯ä¸å¯èƒ½çš„ï¼Œä¸ç„¶æ¯ä¸ªäººéƒ½å¾ˆå®¹æ˜“è¢«æ”»å‡» E(D(M)) = Mï¼Œåœ¨ä¸€äº›å…¬é’¥ç³»ç»Ÿä¸­ï¼Œè¿™æ˜¯æˆç«‹çš„ï¼Œä½†ä¸æ˜¯æ‰€æœ‰çš„å…¬é’¥ç³»ç»Ÿéƒ½æ»¡è¶³è¿™ä¸ªå±æ€§ã€‚å®ƒè¡¨æ˜è§£å¯†åçš„æ¶ˆæ¯å¯ä»¥å†æ¬¡è¢«åŠ å¯†å›åˆ°åŸå§‹æ¶ˆæ¯ã€‚è¿™ä¸ªæ€§è´¨åœ¨æŸäº›æƒ…å†µä¸‹æ˜¯æœ‰ç”¨çš„ï¼Œæ¯”å¦‚æ•°å­—ç­¾åï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„å…¬é’¥å¯†ç ä½“ç³»éƒ½éœ€è¦ï¼ˆæˆ–æ»¡è¶³ï¼‰è¿™ä¸ªæ€§è´¨ã€‚ åŠ å¯†å‡½æ•°Eä¹Ÿè¢«ç§°ä¸ºå•å‘å‡½æ•°ï¼Œå³æ— æ³•é€šè¿‡å®ƒæ¨å¯¼å‡ºDã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¿™ç§åŠ å¯†æ–¹å¼å«åšå…¬é’¥åŠ å¯†ã€‚åŠ å¯†å‡½æ•°æ˜¯å…¬æœ‰çš„ï¼Œè§£å¯†å‡½æ•°Eæ˜¯ç§æœ‰çš„ã€‚è¿™å°±ä¸éœ€è¦æ‹…å¿ƒæ¶ˆæ¯å‘é€è¿‡ç¨‹ä¸­çš„å®‰å…¨ï¼Œå› ä¸ºåªè¦è§£å¯†å‡½æ•°ä¸è¢«å·èµ°ï¼Œå³ä½¿æ¶ˆå¤±è¢«åŠè·¯æ‹¦æˆªä¹Ÿæ— æ³•è¢«è§£å¯†ã€‚ RSAåŠ å¯†æ¨¡å¼ RSAæ˜¯æœ€æ—©æå‡ºçš„ä¸€ç§å…¬é’¥åŠ å¯†ç®—æ³•ä¹‹ä¸€ã€‚\nä¸»è¦æ€æƒ³ï¼š på’Œqæ˜¯ä¸¤ä¸ªä¸åŒçš„å¤§è´¨æ•°ã€‚ä»¤n=pq, $\\phi(n)=(p-1)(q-1)$ï¼Œé€‰æ‹©ä¸¤ä¸ªæ•°å­—eå’Œdæ»¡è¶³ä»¥ä¸‹æ¡ä»¶\n$1\u0026lt;e\u0026lt;\\phi(n)$ $e, \\phi(n)$æ˜¯relatively primeï¼Œå³$gcd(e, \\phi(n))=1$ $ed\\equiv 1 ($ mod $ \\phi(n))$ (e, n)è¿™ä¸ªå€¼å¯¹å°±æ˜¯å…¬é’¥ï¼Œdå°±æ˜¯ç§é’¥ã€‚\nRSAåŠ å¯†\nMæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œ0\u0026lt;M\u0026lt;nï¼ŒMæ˜¯æ¯ä¸ªå­—ç¬¦çš„ASCIIå€¼çš„æ‹¼æ¥ï¼Œå¦‚æœå¤§äºç­‰äºnï¼Œå°±æŠŠMæ‹†æˆå‡ å— ç”¨å…¬é’¥eå’Œnæ¥åŠ å¯†Mï¼Œ$C = M^e$ mod $n$ RSAè§£å¯†\n$M = C^d$ mod $n$ è¯æ˜è¿‡ç¨‹åœ¨è¿™é‡Œ NP Complete Hard computational problems æœ‰å¾ˆå¤šé—®é¢˜éš¾ä»¥æ‰¾åˆ°ä¸€ä¸ªæœ‰æ•ˆçš„ç®—æ³•æ¥è§£å†³ã€‚ä½†æ˜¯æˆ‘ä»¬ä¹Ÿæ— æ³•è¯æ˜å‡ºè¿™äº›é—®é¢˜å°±æ˜¯éš¾ä»¥è§£å†³çš„ï¼Œæˆ‘ä»¬åªæ˜¯æ— æ³•ç¡®å®šæ˜¯å¦æœ‰ç®—æ³•å­˜åœ¨æ¥è§£å†³è¿™ç§é—®é¢˜è¿˜æ˜¯è¯´è¿™ç§é—®é¢˜å°±æ˜¯æ— æ³•è§£å†³çš„ã€‚æ‰€è°“æœ‰æ•ˆçš„ç®—æ³•æŒ‡çš„æ˜¯å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è§£å†³æ‰€æœ‰è¾“å…¥çš„å‡½æ•°ã€‚\n0-1èƒŒåŒ…é—®é¢˜å°±æ˜¯ä¸€ä¸ªå¾ˆå…¸å‹çš„NPå®Œå…¨é—®é¢˜ï¼Œå› ä¸ºå…¶æ—¶é—´å¤æ‚åº¦æ˜¯ O(nW)ï¼Œï¼ˆn æ˜¯ç‰©å“çš„æ•°é‡ï¼ŒW æ˜¯èƒŒåŒ…çš„å®¹é‡ï¼‰ã€‚åŠ¨æ€è§„åˆ’è§£æ³•çš„æ—¶é—´å¤æ‚åº¦ O(nW) è¢«è®¤ä¸ºæ˜¯éå¤šé¡¹å¼çš„ï¼Œå› ä¸º W æ˜¯èƒŒåŒ…å®¹é‡çš„å…·ä½“æ•°å€¼ï¼Œè€Œä¸æ˜¯å®ƒçš„ä½æ•°ï¼ˆæ‰€ä»¥O(nW)å®é™…æ˜¯O(nlogW)ï¼Œæ•´æ•°Wç”¨logWä½çš„äºŒè¿›åˆ¶æ•°å­—è¡¨ç¤ºã€‚ç›¸å½“äºæ‰§è¡Œäº†$2^W$æ¬¡æ“ä½œï¼Œè¿™æ˜¯ä¸€ä¸ªæŒ‡æ•°æ—¶é—´çš„ç®—æ³•ï¼‰ã€‚æ‰€ä»¥ï¼Œå¦‚æœ W çš„å€¼å¢é•¿éå¸¸å¤§ï¼Œé‚£ä¹ˆç®—æ³•çš„è¿è¡Œæ—¶é—´ä¼šæ€¥å‰§å¢é•¿ã€‚\nä½†æ˜¯å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…éªŒè¯ä¸€ä¸ªç»™å®šçš„è§£æ˜¯å¦æ­£ç¡®ã€‚ è¿™æ˜¯é€šè¿‡æ£€æŸ¥ç»™å®šè§£çš„æ€»ä»·å€¼å’Œæ€»é‡é‡æ¥å®Œæˆçš„ã€‚ å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¯èƒ½çš„è§£ï¼Œå³ä¸€ä¸ªæ ‡è¯†æ¯ä¸ªç‰©å“æ˜¯å¦è¢«é€‰æ‹©æ”¾å…¥èƒŒåŒ…çš„å‘é‡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤åœ¨å¤šé¡¹å¼æ—¶é—´å†…éªŒè¯è¿™ä¸ªè§£æ˜¯å¦æœ‰æ•ˆï¼š\nåˆå§‹åŒ–æ€»é‡é‡å’Œæ€»ä»·å€¼ä¸º0ã€‚ éå†ç‰©å“åˆ—è¡¨ï¼Œå¯¹äºæ¯ä¸ªè¢«é€‰æ‹©çš„ç‰©å“ï¼Œå°†å…¶é‡é‡åŠ åˆ°æ€»é‡é‡ï¼Œå¹¶å°†å…¶ä»·å€¼åŠ åˆ°æ€»ä»·å€¼ã€‚ æœ€åï¼Œæˆ‘ä»¬æ£€æŸ¥æ€»é‡é‡æ˜¯å¦è¶…è¿‡èƒŒåŒ…çš„å®¹é‡ã€‚å¦‚æœè¶…è¿‡ï¼Œé‚£ä¹ˆè¿™ä¸ªè§£æ˜¯æ— æ•ˆçš„ã€‚å¦‚æœæ²¡æœ‰è¶…è¿‡ï¼Œé‚£ä¹ˆè¿™ä¸ªè§£æ˜¯æœ‰æ•ˆçš„ï¼Œæ€»ä»·å€¼æ˜¯æˆ‘ä»¬å¾—åˆ°çš„è§£çš„ä»·å€¼ã€‚ è¿™ä¸ªè¿‡ç¨‹çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ï¼Œå…¶ä¸­ n æ˜¯ç‰©å“çš„æ•°é‡ï¼Œå› æ­¤å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…å®Œæˆã€‚ Hamiltonian Graph å¦‚æœä¸€ä¸ªå›¾æ˜¯å“ˆå¯†é¡¿å›¾ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªå›¾ä¸­å°±å¯ä»¥æ‰¾åˆ°ä¸€æ¡è·¯å¾„ï¼Œè¯¥è·¯å¾„æ°å¥½è®¿é—®å›¾ä¸­çš„æ¯ä¸ªé¡¶ç‚¹ä¸€æ¬¡ï¼Œå¹¶ä¸”å¦‚æœè¿™ä¸ªè·¯å¾„æ˜¯é—­ç¯ï¼ˆå³èµ·å§‹å’Œç»ˆæ­¢äºåŒä¸€é¡¶ç‚¹ï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç¡®å®šä¸€ä¸ªç»™å®šçš„å›¾æ˜¯å¦æ˜¯å“ˆå¯†é¡¿å›¾æ˜¯ä¸€ä¸ªè‘—åçš„NPå®Œå…¨é—®é¢˜ï¼Œæ„å‘³ç€æ²¡æœ‰å·²çŸ¥çš„å¤šé¡¹å¼æ—¶é—´ç®—æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\nå†³ç­–/ä¼˜åŒ–é—®é¢˜ å†³ç­–é—®é¢˜(decision problem)çš„è¾“å‡ºè¦ä¹ˆæ˜¯yesè¦ä¹ˆæ˜¯noã€‚ ä¼˜åŒ–é—®é¢˜(optimisation problem)ä¸­æˆ‘ä»¬å°è¯•æœ€å¤§æˆ–æœ€å°åŒ–æŸäº›å‡½æ•°ã€‚ ä¸€ä¸ªä¼˜åŒ–é—®é¢˜é€šè¿‡æ·»åŠ ä¸€ä¸ªå‚æ•°kå°±å¯ä»¥è½¬æ¢æˆå†³ç­–é—®é¢˜ã€‚è¿™ä¸ªå‡½æ•°çš„å€¼æ˜¯å¦æœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰ä¸ºkã€‚ å¦‚æœè§£å†³ä¸€ä¸ªå†³ç­–é—®é¢˜å¾ˆå›°éš¾ï¼Œé‚£ä¹ˆä¸å…¶ç›¸å…³çš„ä¼˜åŒ–é—®é¢˜ä¹Ÿä¼šå˜çš„å¾ˆå›°éš¾ã€‚ ä¸€ä¸ªğŸŒ°ï¼Œè¿˜æŒºåŠ©äºç†è§£çš„ã€‚\nä¼˜åŒ–é—®é¢˜ï¼šGæ˜¯ä¸€ä¸ªè¿é€šå›¾ï¼Œæ¯æ¡è¾¹çš„æƒé‡éƒ½æ˜¯æ•´æ•°ã€‚æ±‚Gçš„æœ€å°ç”Ÿæˆæ ‘çš„æƒé‡å€¼ å†³ç­–é—®é¢˜ï¼šGæ˜¯ä¸€ä¸ªè¿é€šå›¾ï¼Œæ¯æ¡è¾¹çš„æƒé‡éƒ½æ˜¯æ•´æ•°ï¼Œç°åœ¨æœ‰ä¸€ä¸ªæ•´æ•°kï¼Œæ˜¯å¦æœ‰è¿™æ ·ä¸€ä¸ªç”Ÿæˆæ ‘æƒé‡å€¼ä¸è¶…è¿‡kï¼Ÿ ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ€æƒ³æ‰¾åˆ°ä¼˜åŒ–è§£\nå‡è®¾Bæ˜¯0-1èƒŒåŒ…é—®é¢˜çš„æœ€å¤§å¯èƒ½æ”¶ç›Š æˆ‘ä»¬é¦–å…ˆé—®ï¼Œæ˜¯å¦æœ‰ä¸€ä¸ªå­é›†èƒ½ä½¿æ”¶ç›Šè¾¾åˆ°è‡³å°‘B/2ï¼Ÿ å¦‚æœå­˜åœ¨è¿™æ ·çš„å­é›†ï¼Œæˆ‘ä»¬ç»§ç»­é—®ï¼Œæ˜¯å¦æœ‰ä¸€ä¸ªå­é›†èƒ½ä½¿æ”¶ç›Šè¾¾åˆ°è‡³å°‘3B/4ï¼Ÿ å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„å­é›†ï¼Œæˆ‘ä»¬ç»§ç»­é—®ï¼Œæ˜¯å¦æœ‰ä¸€ä¸ªå­é›†èƒ½ä½¿æ”¶ç›Šè¾¾åˆ°è‡³å°‘B/4ï¼Ÿ è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ä¸æ–­åœ°åœ¨å¯èƒ½çš„æœ€å¤§æ”¶ç›ŠèŒƒå›´å†…è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œé€æ­¥ç¼©å°æœç´¢èŒƒå›´ï¼Œç›´åˆ°æ‰¾åˆ°æœ€å¤§å¯èƒ½æ”¶ç›Šã€‚è¿™ä¸ªç­–ç•¥çš„æ•ˆç‡åœ¨äºå®ƒåˆ©ç”¨äº†äºŒåˆ†æŸ¥æ‰¾çš„æ€æƒ³ï¼Œæ¯æ¬¡éƒ½å°†æœç´¢èŒƒå›´å‡åŠï¼Œä»è€Œå‡å°‘äº†éœ€è¦æ£€æŸ¥çš„å¯èƒ½æ€§ã€‚ Complexity Class P è¿™æ˜¯ä¸€ä¸ªå†³ç­–é—®é¢˜çš„é›†åˆï¼Œè¿™äº›å†³ç­–é—®é¢˜çš„æœ€åçš„æƒ…å†µéƒ½å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è¢«è§£å†³ã€‚\né¦–å…ˆï¼Œå†³ç­–é—®é¢˜æ˜¯é‚£äº›è¾“å‡ºç»“æœä¸º\u0026quot;æ˜¯\u0026quot;æˆ–\u0026quot;å¦\u0026quot;çš„é—®é¢˜ï¼Œä¾‹å¦‚â€œè¿™ä¸ªå›¾æœ‰æ²¡æœ‰å“ˆå¯†å°”é¡¿è·¯å¾„ï¼Ÿâ€æˆ–è€…â€œè¿™ä¸ªæ•°æ˜¯ä¸æ˜¯ç´ æ•°ï¼Ÿâ€\nè¿™æ®µè¯ä¸­çš„ç®—æ³•Aæ˜¯ä¸€ä¸ªå‡è®¾å­˜åœ¨çš„ç®—æ³•ï¼Œå®ƒå¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è§£å†³ä¸€ä¸ªå†³ç­–é—®é¢˜ã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœå†³ç­–é—®é¢˜sçš„ç­”æ¡ˆæ˜¯â€œæ˜¯â€ï¼Œé‚£ä¹ˆç®—æ³•Aå¯ä»¥åœ¨æ—¶é—´p(|s|)å†…ç¡®å®šè¿™ä¸ªç»“æœã€‚è¿™é‡Œï¼Œ|s|è¡¨ç¤ºé—®é¢˜sçš„â€œå¤§å°â€ï¼Œè€Œp(Â·)æ˜¯ä¸€ä¸ªå¤šé¡¹å¼ã€‚\nè¿™æ„å‘³ç€ï¼Œå¦‚æœæˆ‘ä»¬èƒ½æ‰¾åˆ°è¿™æ ·çš„ç®—æ³•Aï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½è¯´è¿™ä¸ªå†³ç­–é—®é¢˜å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è§£å†³ï¼Œæˆ–è€…è¯´è¿™ä¸ªé—®é¢˜åœ¨è®¡ç®—å¤æ‚æ€§ç†è®ºä¸­å±äºPç±»é—®é¢˜ã€‚\nComplexity Class P é—®é¢˜ä¸¾ä¾‹\nminimum spanning tree, fractional knapsack, shortest paths in graphs with non-negative edge weights, maximum flows, Euler tours, and task scheduling. Efficient Certification ç²—æµ…çš„è¯´å°±æ˜¯å¯¹æŸä¸ªé—®é¢˜ç»™å‡ºä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ£€æŸ¥è¿™ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯å¦æ­£ç¡®ã€‚è¯ä¹¦æŒ‡çš„å°±æ˜¯ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆã€‚\nComplexity class NP è¿™ä¸ªé›†åˆåŒ…å«æ‰€æœ‰èƒ½åœ¨å¤šé¡¹å¼æ—¶é—´å†…è¢«â€œéªŒè¯â€æˆ–â€œè¯æ˜â€å…¶è§£çš„å†³ç­–é—®é¢˜ã€‚NPç±»ç”±å†³ç­–é—®é¢˜ç»„æˆï¼Œè¿™äº›å†³ç­–é—®é¢˜ä¸­éƒ½å­˜åœ¨Efficient Certificationã€‚\nP21-41 lec10d\n","permalink":"https://martinspace.top/zh/comp202/","summary":"æ—¶é—´å¤æ‚åº¦å’Œonline algorithm (W1) ç®—æ³•åˆ†æä¸­æˆ‘ä»¬å¸¸ç”¨åˆ°ä¸‰ä¸ªç¬¦å·ï¼šOï¼ŒÎ©(Omega) å’Œ Î˜(Theta) Oè¡¨ç¤ºçš„æ˜¯æ¸è¿›ä¸Šç•Œï¼Œå®ƒæè¿°äº†ç®—æ³•åœ¨æœ€åæƒ…å†µä¸‹","title":"ç®—æ³•(COMP202)"},{"content":"å¤ï¼ˆé¢„ï¼‰ä¹ è¿‡ç¨‹ä¸­é‡åˆ°Petri netï¼Œè®°å½•ä¸€ä¸‹\nPetri Netæ˜¯ä¸€ç§ç³»ç»Ÿæ¨¡å‹ã€‚å› ä¸ºä¸ç¡®å®šå“ªä¸ªtransitionä¼šå…ˆfireï¼Œæ‰€ä»¥å®ƒæ˜¯éç¡®å®šæ€§çš„ï¼Œé€šå¸¸è¢«ç”¨äºå»ºç«‹ç¦»æ•£åˆ†å¸ƒå¼ç³»ç»Ÿã€‚\nPetri Netç»„æˆå…ƒç´ \nplace: é€šå¸¸ç”¨åœ†åœˆè¡¨ç¤º token: åœ¨placeä¸­ï¼Œé€šå¸¸ç”¨å®å¿ƒç‚¹è¡¨ç¤º transition: é€šå¸¸ç”¨ç›´è§’çŸ©å½¢æˆ–å®å¿ƒçŸ©å½¢è¡¨ç¤º arc: é€šå¸¸æ˜¯å¸¦ç®­å¤´çš„ä¸€æ¡çº¿ï¼Œæƒé‡å¯ä»¥é€šè¿‡æ ‡æ•°å­—åœ¨çº¿ä¸Šï¼Œæˆ–è€…ç”»å‡ºå‡ æ¡arcæ¥è¡¨ç¤ºã€‚ flowchart LR br\u003c--\u003eid1((...)) id1((...))==2==\u003err id2((..))--\u003ebr id2((..))==2==\u003ebb bb--\u003eid2((..)) rr--\u003eid2((..)) æ‰¾å‡ºä¸Šè¿°Petri netä¸­reachable stateå’Œdeadlock stateçš„æ•°é‡\nflowchart TD id1(3, 2)==bb/br==\u003eid2(3, 1) id1(3, 2)==rr==\u003eid3(1, 3) id2(3, 1)==rr==\u003eid4(1, 2) id3(1, 3)==bb/br==\u003eid4(1, 2) id3(1, 3)==br==\u003eid5(3, 0) id4(1, 2)==bb/br==\u003eid6(1, 1) id5(3, 0)==rr==\u003eid6(1, 1) id6(1, 1)==br==\u003eid7(1, 0) ç”±ä¸Šå›¾å¯çŸ¥ï¼Œè¿™é‡Œæœ‰7ä¸ªreachable statesï¼Œä¸€ä¸ªæ­»é”çŠ¶æ€ï¼Œå½“å·¦ä¾§placeä¸­æ²¡æœ‰tokenå¹¶ä¸”å³ä¾§placeåªæœ‰1ä¸ªtokenæ—¶ï¼Œrr, bb, bréƒ½ä¸æ˜¯enabledçš„çŠ¶æ€ï¼Œå› æ­¤éƒ½ä¸èƒ½è¢«fireã€‚æ‰€ä»¥åªæœ‰ä¸€ä¸ªæ­»é”çŠ¶æ€ã€‚\n","permalink":"https://martinspace.top/zh/petri-net/","summary":"å¤ï¼ˆé¢„ï¼‰ä¹ è¿‡ç¨‹ä¸­é‡åˆ°Petri netï¼Œè®°å½•ä¸€ä¸‹ Petri Netæ˜¯ä¸€ç§ç³»ç»Ÿæ¨¡å‹ã€‚å› ä¸ºä¸ç¡®å®šå“ªä¸ªtransitionä¼šå…ˆfireï¼Œæ‰€ä»¥å®ƒæ˜¯éç¡®å®šæ€§çš„ï¼Œé€š","title":"High-level Petri Net(COMP201)"},{"content":"å°†xå‡åˆ°0çš„æœ€å°æ“ä½œæ•°(1658) ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° x ã€‚æ¯ä¸€æ¬¡æ“ä½œæ—¶ï¼Œä½ åº”å½“ç§»é™¤æ•°ç»„ nums æœ€å·¦è¾¹æˆ–æœ€å³è¾¹çš„å…ƒç´ ï¼Œç„¶åä» x ä¸­å‡å»è¯¥å…ƒç´ çš„å€¼ã€‚è¯·æ³¨æ„ï¼Œéœ€è¦ ä¿®æ”¹ æ•°ç»„ä»¥ä¾›æ¥ä¸‹æ¥çš„æ“ä½œä½¿ç”¨ã€‚\nå¦‚æœå¯ä»¥å°† xÂ æ°å¥½ å‡åˆ°Â 0 ï¼Œè¿”å› æœ€å°æ“ä½œæ•° ï¼›å¦åˆ™ï¼Œè¿”å› -1 ã€‚\nç¤ºä¾‹1 è¾“å…¥ï¼šnums = [1,1,4,2,3], x = 5 è¾“å‡ºï¼š2 è§£é‡Šï¼šæœ€ä½³è§£å†³æ–¹æ¡ˆæ˜¯ç§»é™¤åä¸¤ä¸ªå…ƒç´ ï¼Œå°† x å‡åˆ° 0 ã€‚ åŒæŒ‡é’ˆ è¿™é‡Œå¼•ç”¨çµç¥çš„ä¸€å¥è¯\nçª—å£å¤§å°ä¸å›ºå®šçš„å«åšåŒæŒ‡é’ˆï¼Œçª—å£å¤§å°å›ºå®šçš„å«åšæ»‘åŠ¨çª—å£ã€‚ æˆ‘è§‰å¾—å¾ˆåˆç†ï¼Œè™½ç„¶å®˜æ–¹ç§°è‡ªå·±çš„è§£æ³•ä¸ºæ»‘åŠ¨çª—å£ï¼Œæˆ‘æ›´æ„¿æ„ç§°å…¶ä¸ºåŒæŒ‡é’ˆã€‚\nclass Solution { public int minOperations(int[] nums, int x) { int n = nums.length; //è®¡ç®—å‡ºæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ æ€»å’Œ int sum = Arrays.stream(nums).sum(); if(sum\u0026lt;x){ return -1; } int right = 0; // lsumè®°å½•å‰ç¼€çš„å’Œï¼Œrsumè®°å½•åç¼€çš„å’Œ int lsum = 0, rsum = sum; int ans = n+1; // åˆå§‹ä½¿å‰ç¼€ä¸ºç©ºï¼Œleft=-1ï¼› // åç¼€ä¸ºæ•´ä¸ªæ•°ç»„ï¼Œrightä¸æ–­å‘å³ç§»å¹¶åšå‡æ³•ã€‚ // å½“lsum+rsum\u0026lt;xæ—¶ï¼Œå‰ç¼€æŒ‡é’ˆå‘å³ç§»åŠ¨ï¼Œå¹¶åšåŠ æ³•ã€‚ // æœ€åçš„ç»“æœè®¡ç®—æ˜¯æ ¹æ®å·¦å³æŒ‡é’ˆçš„ä½ç½®ï¼Œ(left+1)+(n-right) // left+1è¡¨ç¤ºå·¦è¾¹æ“ä½œå¤šå°‘æ¬¡ï¼Œn-rightè¡¨ç¤ºå³è¾¹æ“ä½œå¤šå°‘æ¬¡ for(int left = -1; left\u0026lt;n; ++left){ if(left!=-1){ lsum += nums[left]; } while(right\u0026lt;n \u0026amp;\u0026amp; lsum+rsum\u0026gt;x){ rsum -= nums[right]; ++right; } if(lsum+rsum==x){ ans = Math.min(ans, left+1+n-right); } } return ans \u0026gt; n ? -1 : ans; } } å¤æ‚åº¦åˆ†æ æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„ nums çš„é•¿åº¦ã€‚left å’Œ right å‡æœ€å¤šéå†æ•´ä¸ªæ•°ç»„ä¸€æ¬¡ã€‚\nç©ºé—´å¤æ‚åº¦ï¼šO(1)\nè¿˜åŸæ’åˆ—çš„æœ€å°‘æ“ä½œæ­¥æ•°(1806) è¿™é“é¢˜æœ‰æ„æ€ï¼Œæ•°å­¦è§£æ³•ï¼Œå®è¯è¯´é«˜ä¸­æ¯•ä¸šåå°±å¾ˆå°‘æ¥è§¦æ•°å­¦äº†ï¼Œä½†æ˜¯å¥½åœ¨æˆ‘è¿˜çœ‹çš„æ‡‚ç­”æ¡ˆï¼Œå†™åœ¨åšå®¢é‡Œè®°å½•ä¸€ä¸‹å§ã€‚\nç»™ä½ ä¸€ä¸ªå¶æ•° nâ€‹â€‹â€‹â€‹â€‹â€‹ ï¼Œå·²çŸ¥å­˜åœ¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ’åˆ— perm ï¼Œå…¶ä¸­ perm[i] == iâ€‹ï¼ˆä¸‹æ ‡ ä» 0 å¼€å§‹ è®¡æ•°ï¼‰ã€‚\nä¸€æ­¥æ“ä½œä¸­ï¼Œä½ å°†åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ arr ï¼Œå¯¹äºæ¯ä¸ª i ï¼š\nå¦‚æœ i % 2 == 0 ï¼Œé‚£ä¹ˆ arr[i] = perm[i / 2] å¦‚æœ i % 2 == 1 ï¼Œé‚£ä¹ˆ arr[i] = perm[n / 2 + (i - 1) / 2] ç„¶åå°† arrâ€‹â€‹ èµ‹å€¼â€‹â€‹ç»™ perm ã€‚\nè¦æƒ³ä½¿ perm å›åˆ°æ’åˆ—åˆå§‹å€¼ï¼Œè‡³å°‘éœ€è¦æ‰§è¡Œå¤šå°‘æ­¥æ“ä½œï¼Ÿè¿”å›æœ€å°çš„ éé›¶ æ“ä½œæ­¥æ•°ã€‚\næ¬§æ‹‰å®šç†\u0026amp;æ¬§æ‹‰å‡½æ•° è®°å½•é¢˜ç›®ä¹‹å‰ï¼Œè¦å…ˆå†™ä¸€ä¸‹æ¬§æ‹‰å®šç†å’Œæ¬§æ‹‰å‡½æ•°ï¼Œæ–¹ä¾¿æ›´å¤šäººçœ‹æ‡‚è¿™é“é¢˜ã€‚\næ¬§æ‹‰å®šç†ï¼šå½“aå’Œmä¸¤ä¸ªæ•°äº’ç´ æ—¶ï¼Œå³gcd(a, m)=1ï¼Œåˆ™a^(Ïˆ(m)) = 1(mod m) æ¬§æ‹‰å‡½æ•°ï¼šÏˆ(m)å°±æ˜¯æ¬§æ‹‰å‡½æ•°è¡¨ç¤ºçš„æ˜¯å°äºç­‰äºmå’Œmäº’è´¨çš„æ•°çš„ä¸ªæ•° æ•°å­¦è§£æ³• å¯¹äºåŸæ’åˆ—ä¸­çš„ç¬¬iä¸ªå…ƒç´ ï¼Œè®¾g(i)ä¸ºè¿›è¡Œä¸€æ¬¡æ“ä½œåï¼Œè¯¥å…ƒç´ çš„æ–°ä¸‹æ ‡ï¼Œ\ng(i)ä¸ºå¶æ•°ï¼Œarr[g(i)] = perm[g(i)/2]ï¼Œä»¤x=g(i)/2ï¼Œåˆ™ç­‰å¼è½¬æ¢ä¸ºarr[2x] = perm[x]ï¼Œxâˆˆ[0, (nâˆ’1)/2] g(i)ä¸ºå¥‡æ•°ï¼Œarr[g(i)] = perm[n/2+(g(i)-1)/2]ï¼Œä»¤x=n/2 + (g(i)-1)/2ï¼Œåˆ™ç­‰å¼è½¬æ¢ä¸ºarr[2x-n-1] = perm[x]ï¼Œxâˆˆ[n/2, n-1] å› æ­¤å¯ä»¥æ€»ç»“å‡º\n0 \u0026lt;= i \u0026lt; n/2ï¼Œg(i) = 2i; n/2 \u0026lt;= i \u0026lt; nï¼Œg(i) = 2i-(n-1); å¯¹äºé™¤é¦–å°¾å…ƒç´ å¤–çš„å…¶ä»–å…ƒç´ ï¼Œä¸Šè¿°è¡¨è¾¾å¼å¯è½¬æ¢ä¸ºå¯¹(n-1)å–æ¨¡ï¼Œå¯ä»¥è½¬æ¢ä¸ºg(i) = 2i(mod(n-1))ï¼Œè¿™ä¸ªæ–¹æ³•å¾ˆå¾®å¦™ï¼Œæˆ‘è¿™ä¸ªæ°´å¹³è‚¯å®šæ˜¯æƒ³ä¸åˆ°äº†ã€‚\nä»¤ g^k (i) è¡¨ç¤ºåŸæ’åˆ— perm ä¸­ç¬¬ iä¸ªå…ƒç´ ç»è¿‡ k æ¬¡å˜æ¢åçš„ä¸‹æ ‡\nä¸¾ä¾‹ï¼š g^2 (i) = g(g(i))\næ‰€ä»¥ï¼Œg^k (i) = 2^k i(mod(n-1))\næ ¹æ®ä¸Šè¿°æ¨è®ºï¼Œæˆ‘ä»¬ç›´æ¥æ¨¡æ‹Ÿå³æ‰¾åˆ°æœ€å°çš„ k ä½¿å¾—æ»¡è¶³ 2^k â‰¡ 1(mod(nâˆ’1)) å³å¯ã€‚\nä»£ç \nclass Solution { public int reinitializePermutation(int n) { if (n == 2) { return 1; } int step = 1, pow2 = 2; while (pow2 != 1) { step++; pow2 = pow2 * 2 % (n - 1); } return step; } } å¤æ‚åº¦åˆ†æ æ¬§æ‹‰å®šç†å’Œæ¬§æ‹‰å‡½æ•°ç”¨æ¥è®¡ç®—æ—¶é—´å¤æ‚åº¦\nç”±äºnæ˜¯å¶æ•°ï¼Œåˆ™n-1ä¸€å®šæ˜¯å¥‡æ•°ï¼Œn-1å’Œ2äº’è´¨ï¼Œæ ¹æ®æ¬§æ‹‰å®šç†ï¼Œgcd(2, n-1)=1ï¼Œæ‰€ä»¥2^(Ïˆ(n-1)) = 1(mod (n-1))\nç”±æ­¤å¯çŸ¥ï¼Œk = Ïˆ(n-1)ï¼Œæ‰€ä»¥kä¸€å®šå°äºn-1ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸è¶…è¿‡ O(n)ã€‚\nç ´è§£ä¿é™©ç®±(753) æ¬§æ‹‰å›è·¯é¢˜ç›®ã€‚Leetcodeçš„æ¯æ—¥ä¸€é¢˜çœŸçš„å¾ˆè€—è´¹ç²¾ç¥ï¼Œä½†æ˜¯éƒ½å¾ˆæœ‰æ„æ€ï¼Œå€¼å¾—è®°å½•ä¸€ä¸‹ã€‚\næœ‰ä¸€ä¸ªéœ€è¦å¯†ç æ‰èƒ½æ‰“å¼€çš„ä¿é™©ç®±ã€‚å¯†ç æ˜¯Â n ä½æ•°, å¯†ç çš„æ¯ä¸€ä½æ˜¯Â kÂ ä½åºåˆ—Â 0, 1, ..., k-1Â ä¸­çš„ä¸€ä¸ª ã€‚\nä½ å¯ä»¥éšæ„è¾“å…¥å¯†ç ï¼Œä¿é™©ç®±ä¼šè‡ªåŠ¨è®°ä½æœ€åÂ nÂ ä½è¾“å…¥ï¼Œå¦‚æœåŒ¹é…ï¼Œåˆ™èƒ½å¤Ÿæ‰“å¼€ä¿é™©ç®±ã€‚\nä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾å¯†ç æ˜¯Â 345ï¼Œä½ å¯ä»¥è¾“å…¥Â 012345Â æ¥æ‰“å¼€å®ƒï¼Œåªæ˜¯ä½ è¾“å…¥äº† 6Â ä¸ªå­—ç¬¦ã€‚(ä¿é™©ç®±ä¾æ—§è¯†åˆ«æœ€åä¸‰ä½è¾“å…¥)\nè¯·è¿”å›ä¸€ä¸ªèƒ½æ‰“å¼€ä¿é™©ç®±çš„æœ€çŸ­å­—ç¬¦ä¸²ã€‚\nè´ªå¿ƒæ„é€  è¿™é“é¢˜çš„æ–¹æ³•å¾ˆå·§å¦™ï¼Œå€¼å¾—è®°å½•ä¸€ä¸‹\nå°†æ‰€æœ‰çš„n-1ä½æ•°ä½œä¸ºèŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰kæ¡è¾¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹é€šè¿‡ä¸€æ¡è¾¹å¯ä»¥èµ°åˆ°å¯¹åº”çš„å¦ä¸€ä¸ªèŠ‚ç‚¹ã€‚\nèƒ½æ„é€ å‡ºè¿ç»­å€¼çš„æœ€å¤§æ•°ç›®(1798) ç»™ä¸€ä¸ªé•¿åº¦ä¸º nÂ çš„æ•´æ•°æ•°ç»„Â coinsÂ ï¼Œå®ƒä»£è¡¨ä½ æ‹¥æœ‰çš„Â nÂ ä¸ªç¡¬å¸ã€‚ç¬¬Â iÂ ä¸ªç¡¬å¸çš„å€¼ä¸ºÂ coins[i]Â ã€‚å¦‚æœä½ ä»è¿™äº›ç¡¬å¸ä¸­é€‰å‡ºä¸€éƒ¨åˆ†ç¡¬å¸ï¼Œå®ƒä»¬çš„å’Œä¸ºÂ xÂ ï¼Œé‚£ä¹ˆç§°ï¼Œä½ å¯ä»¥Â æ„é€ Â å‡ºÂ xÂ ã€‚\nè¯·è¿”å›ä» 0Â å¼€å§‹ï¼ˆåŒ…æ‹¬Â 0Â ï¼‰ï¼Œä½ æœ€å¤šèƒ½æ„é€ å‡ºå¤šå°‘ä¸ªè¿ç»­æ•´æ•°ã€‚(ä½ å¯èƒ½æœ‰å¤šä¸ªç›¸åŒå€¼çš„ç¡¬å¸ã€‚)\næ€»ç»“ è¿™é“é¢˜æˆ‘æœ€åˆçš„åšæ³•æ˜¯ç”¨hashmapå­˜å‚¨coinsçš„å€¼ï¼Œç„¶åéå†coinsä¸­çš„å…ƒç´ ï¼Œç”¨ç›®æ ‡å€¼coinsä¸­çš„å…ƒç´ ï¼Œç„¶åçœ‹è¯¥å…ƒç´ åœ¨hashmapä¸­æ˜¯å¦å­˜åœ¨ï¼Œä½†æ˜¯æˆ‘å¿½ç•¥äº†å¯èƒ½æœ‰ç›¸åŒç¡¬å¸è¿™ä¸ªé—®é¢˜ã€‚\nçœ‹äº†ç­”æ¡ˆå‘ç°è¿™é“é¢˜æ€è·¯å¾ˆå·§ï¼Œç†è§£äº†åŠå¤©æ‰ç»•è¿‡è¿™ä¸ªå¼¯ã€‚é¦–å…ˆå°†coinsæ•°ç»„å‡åºæ’åˆ—ï¼Œç„¶åå®šä¹‰ä¸€ä¸ªåŒºé—´[l, r]ï¼Œè¿™ä¸ªåŒºé—´æ„æ€æ˜¯æœ‰ä¸€ä¸²è¿ç»­çš„æ•´æ•°ï¼Œä»låˆ°rã€‚é‚£ä¹ˆç°åœ¨å¯ä»¥è®¾ä¸€ä¸ªåŒºé—´[0, x]ï¼Œæ‰¾åˆ°ä¸€ä¸ªå€¼yï¼Œå¦‚æœy\u0026lt;=x+1ï¼Œé‚£ä¹ˆå°±è¯æ˜[0, x+y]ä¹Ÿæ˜¯ä¸€ç»„è¿ç»­çš„æ•´æ•°ã€‚å°±æ˜¯è¿™é‡Œï¼Œæˆ‘ç†è§£äº†æœ‰ä¸€ä¼šæ‰ååº”è¿‡æ¥ã€‚é€šä¿—ä¸€ç‚¹è®²ï¼Œå·²çŸ¥0åˆ°xè¿™ä¸²è¿ç»­æ•´æ•°ï¼Œæ–°æ¥ä¸€ä¸ªyï¼Œy+0ä¸€å®šè¦å°äºç­‰äºx+1ï¼Œæ‰å¯ä»¥ä¿æŒè¿ç»­ã€‚ä¸¾ä¸ªä¾‹å­ï¼šç°åœ¨æœ‰ä¸€ä¸²è¿ç»­çš„æ•´æ•°[0, 2]ï¼Œé‚£ä¹ˆä¸‹ä¸€ä¸ªæ•°(å³y)ä¸€å®šè¦å°äºç­‰äº3ã€‚å› ä¸ºå‰æ–¹åºåˆ—ä¸­æœ‰0, 1, 2ã€‚0+3=3, 1+3 = 4, 2+3 = 5ã€‚ ä»£ç å¦‚ä¸‹\nclass Solution { public int getMaximumConsecutive(int[] coins) { int res = 1; //å…ˆå°†æ•°ç»„å‡åºæ’åˆ— Arrays.sort(coins); for (int coin : coins) { //åˆ¤æ–­y,è‹¥\u0026gt;x+1, åˆ™æ¨å‡ºå¾ªç¯ï¼Œè¯´æ˜åé¢ä¹Ÿä¸ä¼šæœ‰å€¼æ»¡è¶³æ¡ä»¶äº† //å¦åˆ™ï¼Œå°†ç»“æœ+1 if (coin \u0026gt; res) { break; } res += i; } return res; } } å—é™æ¡ä»¶ä¸‹å¯åˆ°è¾¾çš„èŠ‚ç‚¹æ•°ç›®(2368) è¿™é“é¢˜è®°å½•ä¸‹æ·±åº¦ä¼˜å…ˆæœç´¢å†™æ³•ï¼ˆæ¯æ¬¡éƒ½æ˜¯çœ‹æ‡‚äº†ç„¶åå†é‡åˆ°é¢˜åˆå¿˜è®°äº†æ€ä¹ˆå†™ï¼‰\né¢˜ç›®æè¿°ï¼šç°æœ‰ä¸€æ£µç”± n ä¸ªèŠ‚ç‚¹ç»„æˆçš„æ— å‘æ ‘ï¼ŒèŠ‚ç‚¹ç¼–å·ä» 0 åˆ° n - 1 ï¼Œå…±æœ‰ n - 1 æ¡è¾¹ã€‚\nç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ edges ï¼Œé•¿åº¦ä¸º n - 1 ï¼Œå…¶ä¸­ edges[i] = [ai, bi] è¡¨ç¤ºæ ‘ä¸­èŠ‚ç‚¹ ai å’Œ bi ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ã€‚å¦ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ restricted è¡¨ç¤ºå—é™èŠ‚ç‚¹ã€‚\nåœ¨ä¸è®¿é—®å—é™èŠ‚ç‚¹çš„å‰æä¸‹ï¼Œè¿”å›ä½ å¯ä»¥ä»èŠ‚ç‚¹ 0 åˆ°è¾¾çš„ æœ€å¤š èŠ‚ç‚¹æ•°ç›®ã€‚\næ³¨æ„ï¼ŒèŠ‚ç‚¹ 0 ä¸ ä¼šæ ‡è®°ä¸ºå—é™èŠ‚ç‚¹ã€‚\næ·±åº¦ä¼˜å…ˆæœç´¢ ä¸»è¦æ˜¯é€’å½’æ€æƒ³ï¼Œç›®å‰è¿˜ä¸å…·å¤‡ï¼Œå¾—å¤šç»ƒã€‚\nclass Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; g; // ä»èŠ‚ç‚¹xå‡ºå‘ï¼Œå¯ä»¥åˆ°è¾¾çš„èŠ‚ç‚¹æ•°é‡ï¼Œfaè¡¨ç¤ºçˆ¶èŠ‚ç‚¹ï¼Œåˆå§‹é€šå¸¸ä¸º-1 int dfs(int x, int fa) { int cnt = 1; for(int y : g[x]) { if(y!=fa) { cnt+=dfs(y,x); } } return cnt; } int reachableNodes(int n, vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; edges, vector\u0026lt;int\u0026gt;\u0026amp; restricted) { unordered_set\u0026lt;int\u0026gt; r(restricted.begin(), restricted.end()); g.resize(n); // éå†è¾¹ï¼Œä¸¤ä¸ªç‚¹ä¸åœ¨å—é™èŠ‚ç‚¹ä¸­æ‰èƒ½è¢«åŠ å…¥ä¸´æ¥çŸ©é˜µg for(auto\u0026amp; e:edges) { int x=e[0], y=e[1]; // c++20å¯ç”¨containsï¼Œæ—§ç‰ˆæœ¬ç”¨r.find(x) == r.end() \u0026amp;\u0026amp; r.find(y) == r.end() if(!r.contains(x) \u0026amp;\u0026amp; !r.contains(y)) { g[x].push_back(y); g[y].push_back(x); } } return dfs(0, -1); } }; å²›å±¿æ•°é‡ (200) æ·±æœç»§ç»­ç»ƒä¹ ï¼Œå¥½åƒæœ‰ç‚¹çœ‰ç›®äº†ã€‚\né¢˜ç›®æè¿°ï¼šç»™ä½ ä¸€ä¸ªç”± \u0026lsquo;1\u0026rsquo;ï¼ˆé™†åœ°ï¼‰å’Œ \u0026lsquo;0\u0026rsquo;ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚\nå²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚\næ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚\næ€è·¯æ¯”è¾ƒç®€å•ï¼šéå†æ•´ä¸ªäºŒç»´æ•°ç»„ï¼Œç¢°åˆ°äº†1å°±å¼€å§‹æ·±æœï¼Œæ·±æœçš„è¿‡ç¨‹ä¸­æŠŠ1æ ‡è®°æˆ0ã€‚è¿™æ ·éå†å®Œå°±èƒ½ç»Ÿè®¡å‡ºå²›å±¿ä¸ªæ•°äº†ã€‚\nclass Solution { private: void dfs(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; grid, int r, int c) { int nr = grid.size(); int nc = grid[0].size(); grid[r][c] = \u0026#39;0\u0026#39;; if(r-1 \u0026gt;= 0 \u0026amp;\u0026amp; grid[r-1][c] == \u0026#39;1\u0026#39;) dfs(grid, r-1, c); if(r+1 \u0026lt; nr \u0026amp;\u0026amp; grid[r+1][c] == \u0026#39;1\u0026#39;) dfs(grid, r+1, c); if(c-1 \u0026gt;= 0 \u0026amp;\u0026amp; grid[r][c-1] == \u0026#39;1\u0026#39;) dfs(grid, r, c-1); if(c+1 \u0026lt; nc \u0026amp;\u0026amp; grid[r][c+1] == \u0026#39;1\u0026#39;) dfs(grid, r, c+1); } public: int numIslands(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; grid) { int nr = grid.size(); if (!nr) return 0; int nc = grid[0].size(); int num_islands = 0; for(int r = 0; r\u0026lt;nr; r++) { for(int c = 0; c\u0026lt;nc; c++) { if(grid[r][c] == \u0026#39;1\u0026#39;) { num_islands++; dfs(grid, r, c); } } } return num_islands; } }; åˆ°è¾¾ç›®çš„åœ°çš„æ–¹æ¡ˆæ•° (1976) é¢˜ç›®æè¿°ï¼šä½ åœ¨ä¸€ä¸ªåŸå¸‚é‡Œï¼ŒåŸå¸‚ç”± n ä¸ªè·¯å£ç»„æˆï¼Œè·¯å£ç¼–å·ä¸º 0 åˆ° n - 1 ï¼ŒæŸäº›è·¯å£ä¹‹é—´æœ‰ åŒå‘ é“è·¯ã€‚è¾“å…¥ä¿è¯ä½ å¯ä»¥ä»ä»»æ„è·¯å£å‡ºå‘åˆ°è¾¾å…¶ä»–ä»»æ„è·¯å£ï¼Œä¸”ä»»æ„ä¸¤ä¸ªè·¯å£ä¹‹é—´æœ€å¤šæœ‰ä¸€æ¡è·¯ã€‚\nç»™ä½ ä¸€ä¸ªæ•´æ•° n å’ŒäºŒç»´æ•´æ•°æ•°ç»„ roads ï¼Œå…¶ä¸­ roads[i] = [ui, vi, timei] è¡¨ç¤ºåœ¨è·¯å£ ui å’Œ vi ä¹‹é—´æœ‰ä¸€æ¡éœ€è¦èŠ±è´¹ timei æ—¶é—´æ‰èƒ½é€šè¿‡çš„é“è·¯ã€‚ä½ æƒ³çŸ¥é“èŠ±è´¹ æœ€å°‘æ—¶é—´ ä»è·¯å£ 0 å‡ºå‘åˆ°è¾¾è·¯å£ n - 1 çš„æ–¹æ¡ˆæ•°ã€‚\nè¯·è¿”å›èŠ±è´¹ æœ€å°‘æ—¶é—´ åˆ°è¾¾ç›®çš„åœ°çš„ è·¯å¾„æ•°ç›® ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œå°†ç»“æœå¯¹ 109 + 7 å–ä½™ åè¿”å›ã€‚\næ¶‰åŠåˆ°æƒé‡çš„å›¾è¦è€ƒè™‘Dijkstraç®—æ³•ï¼Œè¿™é“é¢˜æ˜¯ç»Ÿè®¡æœ€å°æƒé‡å’Œè·¯å¾„çš„ä¸ªæ•°ï¼Œæ‰€ä»¥å°±Dijkstra+åŠ¨æ€è§„åˆ’ã€‚\nclass Solution { public: int countPaths(int n, vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; \u0026amp;roads) { vector\u0026lt;vector\u0026lt;long long\u0026gt;\u0026gt; g(n, vector\u0026lt;long long\u0026gt;(n, LLONG_MAX / 2)); // é‚»æ¥çŸ©é˜µ for (auto \u0026amp;r : roads) { int x = r[0], y = r[1], d = r[2]; g[x][y] = d; g[y][x] = d; } vector\u0026lt;long long\u0026gt; dis(n, LLONG_MAX / 2); // é˜²æ­¢æº¢å‡º dis[0] = 0; vector\u0026lt;int\u0026gt; f(n), done(n); f[0] = 1; while (true) { int x = -1; for (int i = 0; i \u0026lt; n; i++) { if (!done[i] \u0026amp;\u0026amp; (x \u0026lt; 0 || dis[i] \u0026lt; dis[x])) { x = i; } } if (x == n - 1) { // ä¸å¯èƒ½æ‰¾åˆ°æ¯” dis[n-1] æ›´çŸ­ï¼Œæˆ–è€…ä¸€æ ·çŸ­çš„æœ€çŸ­è·¯äº†ï¼ˆæ³¨æ„æœ¬é¢˜è¾¹æƒéƒ½æ˜¯æ­£æ•°ï¼‰ return f[n - 1]; } done[x] = true; // æœ€çŸ­è·¯é•¿åº¦å·²ç¡®å®šï¼ˆæ— æ³•å˜å¾—æ›´å°ï¼‰ for (int y = 0; y \u0026lt; n; y++) { // å°è¯•æ›´æ–° x çš„é‚»å±…çš„æœ€çŸ­è·¯ long long new_dis = dis[x] + g[x][y]; if (new_dis \u0026lt; dis[y]) { // å°±ç›®å‰æ¥è¯´ï¼Œæœ€çŸ­è·¯å¿…é¡»ç»è¿‡ x dis[y] = new_dis; f[y] = f[x]; } else if (new_dis == dis[y]) { // å’Œä¹‹å‰æ±‚çš„æœ€çŸ­è·¯ä¸€æ ·é•¿ f[y] = (f[y] + f[x]) % 1\u0026#39;000\u0026#39;000\u0026#39;007; } } } } }; ","permalink":"https://martinspace.top/zh/leetcode-note/","summary":"å°†xå‡åˆ°0çš„æœ€å°æ“ä½œæ•°(1658) ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° x ã€‚æ¯ä¸€æ¬¡æ“ä½œæ—¶ï¼Œä½ åº”å½“ç§»é™¤æ•°ç»„ nums æœ€å·¦è¾¹æˆ–æœ€å³è¾¹çš„å…ƒç´ ï¼Œç„¶åä» x ä¸­å‡å»è¯¥å…ƒç´ çš„","title":"Leetcodeæ¯æ—¥ä¸€é¢˜"},{"content":"Weekly Assessment é”™é¢˜çŸ¥è¯†ç‚¹å¤ä¹  Week 1 insertè¯­å¥è¯­æ³•\ninsert into table_name VALUES (value1, value2) åˆ›å»ºå¤–é”®è¯­æ³•\nCONSTRAINT fk_name FOREIGN KEY (ä»è¡¨çš„å±æ€§å) REFERENCES ä¸»è¡¨(ä¸»è¡¨çš„å±æ€§å) æœ‰ä¸¤ä¸ªè¡¨A(a), B(b)ã€‚aæ˜¯ä¸»é”®ï¼Œbé€šè¿‡å¤–é”®è¿å‘aï¼Œå³Bè¡¨ç´¢å¼•è‡ªAè¡¨ã€‚æ­¤æ—¶ï¼Œåªæœ‰å¯¹Bè¡¨è¿›è¡Œåˆ é™¤æ“ä½œæ˜¯è‚¯å®šå¯è¡Œçš„ã€‚\nå…¶ä½™æ“ä½œï¼š\nåœ¨Aè¡¨ä¸­æ’å…¥ä¸€ä¸ªå€¼ï¼šå¯èƒ½ä¼šæ‰“ç ´ä¸»é”®çº¦æŸã€‚ ä»Aè¡¨ä¸­åˆ é™¤ä¸€ä¸ªå€¼ï¼šå¯èƒ½ä¼šæ‰“ç ´å¤–é”®çº¦æŸã€‚ ä»Bè¡¨ä¸­æ’å…¥ä¸€ä¸ªå€¼ï¼šå¯èƒ½ä¼šæ‰“ç ´å¤–é”®çº¦æŸã€‚ Week 2 week2ä¸»è¦æ˜¯sqlè¯­å¥æŸ¥è¯¢ï¼Œæ²¡å•¥å¥½æ³¨æ„çš„ï¼Œå‘ç°äº†å†è¯´å§ã€‚\nWeek 3 äº‹åŠ¡çš„å››ä¸ªéš”ç¦»çº§åˆ«ï¼š\nè¯»æœªæäº¤(Read Uncommitted)ï¼šå¯ä»¥è¯»è¿˜æ²¡è¢«æäº¤çš„æ•°æ®ï¼ˆå¯ä»¥è¯´æ˜¯æ ¹æœ¬æ²¡éš”ç¦»ï¼‰ è¯»å·²æäº¤(Read Committed):è¯»çš„éƒ½æ˜¯å·²ç»æäº¤çš„æ•°æ® å¯é‡å¤è¯»(Repeatable Read)ï¼šäº‹åŠ¡ä¸€æ—¦å¼€å§‹ï¼Œäº‹åŠ¡è¿›è¡Œè¿‡ç¨‹ä¸­è¯»å–çš„æ‰€æœ‰æ•°æ®ä¸å…è®¸è¢«å…¶ä»–äº‹åŠ¡ä¿®æ”¹ã€‚ åºåˆ—åŒ–(Serializable)ï¼šæŒ‡äº‹åŠ¡çš„æ“ä½œæŒ‰é¡ºåºæ‰§è¡Œï¼Œä¸å¯ä»¥æ’é˜Ÿã€‚ï¼ˆè¿™ä¸ªæ¦‚å¿µæ€»æ˜¯å¿˜ï¼Œå†™åœ¨è¿™è®°å½•ä¸€ä¸‹ï¼‰ Week 4 2PLï¼š\né”+è¯»å†™æ“ä½œ è§£é”+è¯»å†™æ“ä½œ æ³¨æ„ï¼š\nçœ‹æ¸…è§£é”åæ˜¯å¦æœ‰ä¸Šé”è¡Œä¸º é‡ç‚¹ï¼šä¸€å®šè¦çœ‹æ¸…ä¸Šé”çš„äº‹åŠ¡å’Œæ•°æ®é¡¹ä»¥åŠå¯¹åº”è§£é”çš„äº‹åŠ¡åŠæ•°æ®é¡¹ï¼Œå¾ˆå®¹æ˜“åœ¨è¿™é‡Œå‡ºé—®é¢˜ã€‚ Week 5 Redoæ—¥å¿—å¦‚ä½•æ‰§è¡Œï¼Ÿ å’ŒUndoæ—¥å¿—ç›¸å\nå…ˆæ‰¾å‡ºredoæ—¥å¿—ä¸­æ‰€æœ‰çš„COMMITã€‚ ä»ç¬¬ä¸€é¡¹åˆ°æœ€åä¸€é¡¹éå†æ—¥å¿—ã€‚ å¦‚æœçœ‹è§\u0026lt;T, x, v\u0026gt;ï¼Œå¹¶ä¸”è¯¥äº‹åŠ¡Tæœ‰COMMITæ ‡è®°ï¼Œé‚£ä¹ˆæŠŠç£ç›˜ä¸ŠXçš„å€¼æ”¹ä¸ºvã€‚ å¯¹äºæœªå®Œæˆçš„äº‹åŠ¡Tï¼Œå°†\u0026lt;abort T\u0026gt;å†™å…¥ç£ç›˜ä¸Šçš„æ—¥å¿—ã€‚ æœ‰å…³checkpoint ç°åœ¨æœ‰ä¸€ä¸ªUndo/Redo logï¼Œä½¿ç”¨äº†ARIES checkpointsã€‚å½“å‘ç”Ÿå´©æºƒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦æœ€å…ˆçœ‹å“ªä¸€è¡Œ\n\u0026lt;START T1\u0026gt; \u0026lt;T1,X,1,2\u0026gt; \u0026lt;START T2\u0026gt; \u0026lt;T2,Y,5,1\u0026gt; \u0026lt;START T3\u0026gt; \u0026lt;COMMIT T1\u0026gt; \u0026lt;CHECKPOINT(T2,T3)\u0026gt; \u0026lt;COMMIT T2\u0026gt; \u0026lt;END CHECKPOINT\u0026gt; æ˜¾ç„¶ï¼Œcheckpointå‡ºç°åœ¨ç¬¬7è¡Œï¼Œå¹¶ä¸”end checkpointå‡ºç°åœ¨ç¬¬9è¡Œï¼ŒT1å’ŒT2å·²ç»è¢«commitï¼Œæ‰€ä»¥åº”è¯¥è¿”å›ç¬¬5è¡Œï¼Œå³\u0026lt;START T3\u0026gt;ï¼Œè¿˜æ²¡æœ‰è¢«æäº¤çš„äº‹åŠ¡ã€‚\nstrict schedule Strict schedule ä¸€å®šæ»¡è¶³å“ªä¸ªéš”ç¦»çº§åˆ«ï¼Ÿ\nä¸€å®šæ»¡è¶³Read Committedï¼Œå› ä¸ºStrict Scheduleè¦æ±‚æ˜¯æ— çº§è”ï¼Œåªå…è®¸è¯»å–å·²ç»æäº¤çš„å€¼ã€‚æ‰€ä»¥å®ƒä¸€å®šæ»¡è¶³level2 Read Committedï¼Œä½†æ˜¯ä¸ä¸€å®šæ»¡è¶³level 3ï¼ŒRepeatable Readã€‚å› ä¸ºæ²¡æœ‰å¯¹å¯é‡å¤è¯»ä½œå‡ºè¦æ±‚ã€\nå¯é‡å¤è¯»æŒ‡ï¼šäº‹åŠ¡ä¸€æ—¦å¼€å§‹ï¼Œäº‹åŠ¡è¿›è¡Œè¿‡ç¨‹ä¸­è¯»å–çš„æ‰€æœ‰æ•°æ®ä¸å…è®¸è¢«å…¶ä»–äº‹åŠ¡ä¿®æ”¹ã€‚\næ—¶é—´æˆ³ timestampå±äºä¸€ç§é¢„é˜²æ­»é”çš„æœºåˆ¶ï¼Œå½“ä¸€ä¸ªäº‹åŠ¡å¯¹ä¸€ä¸ªæ•°æ®æ‹¥æœ‰é”ï¼Œè€Œå¦ä¸€ä¸ªäº‹åŠ¡è¯•å›¾è®¿é—®è¿™ä¸ªæ•°æ®æ—¶ï¼Œæ‰ä¼šæ¿€å‘é¢„é˜²æ­»é”çš„æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ—¶é—´æˆ³æ‰èƒ½æ´¾ä¸Šç”¨åœºã€‚å¦åˆ™ä»»ä½•äº‹åŠ¡éƒ½ä¸ä¼šé‡æ–°å¯åŠ¨ã€‚\nWeek6 ç¬¬å…­å‘¨ä¸»è¦æ˜¯çŸ¥è¯†ç‚¹éœ€è¦å­¦æ˜ç™½ï¼Œç´¢å¼•ï¼ˆBæ ‘ï¼ŒB+æ ‘ï¼‰\ncreate index on Students using btree (programme, year); Bæ ‘ï¼ˆB-æ ‘ï¼‰ ä¸ºä»€ä¹ˆé€‰æ‹©Bæ ‘è¿™ç§æ•°æ®ç»“æ„ï¼Ÿ ä¼—æ‰€å‘¨çŸ¥ï¼Œå¤§éƒ¨åˆ†æ ‘çŠ¶çš„æ•°æ®ç»“æ„éƒ½æ˜¯äºŒå‰æ ‘ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªè‡´å‘½ç¼ºç‚¹ã€‚å½“æ•°æ®é‡è¿‡äºåºå¤§çš„æ—¶å€™ï¼ŒäºŒå‰æ ‘ä¼šå˜çš„å¾ˆæ·±ï¼Œè€Œæƒ³è¦æœç´¢å€¼ï¼Œå°±è¦è¿›è¡Œå¾ˆå¤šæ¬¡ç£ç›˜I/Oï¼ŒæŠŠæ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè¿™æ˜¯ååˆ†æµªè´¹æ—¶é—´çš„ã€‚ è€ŒBæ ‘ï¼ˆB+æ ‘ï¼‰æ°å¥½è§£å†³äº†è¿™ä¸€ä¸ªç—›ç‚¹ï¼Œè¿™ç§æ•°æ®ç»“æ„å¯ä»¥åœ¨æ¯ä¸€å±‚çš„æ¯ä¸ªèŠ‚ç‚¹ä¸Šå­˜æ”¾å¥½å¤šæ•°æ®ï¼Œè¿™å°±ä¼šæ˜æ˜¾å‡å°‘æ ‘çš„æ·±åº¦ï¼Œä¹Ÿå°±æ˜¯å‡å°‘äº†ç£ç›˜I/Oçš„æ¬¡æ•°ï¼Œå½“æ•°æ®é‡ååˆ†åºå¤§æ—¶ï¼Œä¼šèŠ‚çœå¾ˆå¤šçš„æ—¶é—´ã€‚\nB+æ ‘ é€‰æ‹©nå€¼ä½¿å¾—è¯¥èŠ‚ç‚¹é€‚åˆå•ä¸ªç£ç›˜å—ã€‚nçš„è®¡ç®—æ–¹æ³•ï¼š ä¸€ä¸ªèŠ‚ç‚¹ä¸­æœ‰nä¸ªvalueå’Œn+1ä¸ªæŒ‡é’ˆã€‚æ‰€ä»¥ Disk block size\u0026gt;=n*(value_size + pointer_size) + pointer_sizeã€‚\nLeaves å¶å­èŠ‚ç‚¹ä¸­å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç©ºé—´éƒ½è¦è¢«ä½¿ç”¨ åªè¦ç¡®ä¿æœ‰floor((n+1)/2)ä¸ªæŒ‡é’ˆè¢«ä½¿ç”¨å°±å¯ä»¥äº†ï¼Œåªæœ‰ä¸€ç‰‡å¶å­è¿™ç§æƒ…å†µé™¤å¤–ã€‚æŒ‡å‘ä¸‹ä¸€ä¸ªå¶å­èŠ‚ç‚¹çš„æŒ‡é’ˆä¹Ÿç®—æ˜¯æŒ‡é’ˆã€‚\nInner nodes å†…éƒ¨èŠ‚ç‚¹ä¹Ÿå¹¶ä¸æ˜¯æ‰€æœ‰ç©ºé—´éƒ½è¦è¢«ä½¿ç”¨ è¦ç¡®ä¿æœ‰ceil((n+1)/2)ä¸ªæŒ‡é’ˆè¢«ä½¿ç”¨ ä¾‹å¤–ï¼šæ ¹èŠ‚ç‚¹å¿…é¡»æœ‰2ä¸ªä»¥ä¸ŠèŠ‚ç‚¹\né‡åˆ°B+æ ‘é¢˜æ€è€ƒè¿‡ç¨‹ï¼š ç¡®å®šnå€¼ï¼Œvalueæœ‰å‡ ä¸ªæ–¹å—å°±æ˜¯å‡ ä¸ªn æ ¹æ®nå€¼è®¡ç®—å‡ºæ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹éœ€è¦è‡³å°‘æœ‰å‡ ä¸ªpointers å¯»æ‰¾å€¼ï¼š\nä»æ ‘çš„rootèŠ‚ç‚¹å¼€å§‹ å¦‚æœå½“å‰èŠ‚ç‚¹ä¸æ˜¯å¶å­èŠ‚ç‚¹ å¦‚æœè¦æ‰¾çš„å€¼æ¯”ç¬¬ä¸€ä¸ªå°ï¼Œç›´æ¥ä¼ åˆ°ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹ å¦åˆ™æ‰¾åˆ°ä¸€ä¸ªæœ€å¤§çš„iä½¿å¾—ai\u0026lt;=vï¼Œç„¶åä¼ åˆ°å…¶å¯¹åº”çš„å­èŠ‚ç‚¹ å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹ å¦‚æœvå‡ºç°åœ¨å¶å­ä¸­ï¼Œåˆ™è·Ÿéšå¯¹åº”çš„æŒ‡é’ˆè¾“å‡º è‹¥ä¸åœ¨å¶å­ä¸­ï¼Œåˆ™è¿”å›\u0026quot;vä¸å­˜åœ¨å½“å‰ç´¢å¼•ä¸­\u0026quot; Running time: O(h*log(n)) å…¶ä¸­logä»¥2ä¸ºåº• æ’å…¥å€¼/æŒ‡é’ˆå¯¹\nä¸‹é¢å‡ æ­¥æˆ‘æ„¿ç§°å…¶ä¸ºæ³•å®ï¼ˆè€å¸ˆçš„summaryå¹¶ä¸å®Œæ•´ï¼Œè¿™é‡Œæœ‰æ‰€è¡¥å……ï¼‰\næ‰¾åˆ°ä¸€ä¸ªåº”è¯¥åŒ…å«è¿™ä¸ªå€¼çš„å¶å­èŠ‚ç‚¹\nå¦‚æœè¿™ä¸ªå¶å­èŠ‚ç‚¹æ²¡æœ‰æ»¡ï¼Œåˆ™æ’å…¥åœ¨è¯¥èŠ‚ç‚¹åˆé€‚çš„ä½ç½®\nå¦‚æœè¿™ä¸ªå¶å­èŠ‚ç‚¹æ»¡äº† (æ‰¾ä¼ é€’çš„ä¸‹ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œå¦‚æœä¸‹ä¸€ä¸ªä¹Ÿæ˜¯æ»¡çš„ï¼Œåˆ™ğŸ‘‡)\næ‹†åˆ†å¶å­èŠ‚ç‚¹ç»™å³å°†æ’å…¥çš„å€¼åˆ›é€ ç©ºé—´ï¼Œå¹¶ä¸”æŠŠè¯¥èŠ‚ç‚¹ä¸€åŠæ•°é‡çš„æŒ‡é’ˆç§»æ¤åˆ°æ–°èŠ‚ç‚¹ã€‚ æ’å…¥å€¼/æŒ‡é’ˆå¯¹ æŠŠå¶å­èŠ‚ç‚¹è¿åˆ°å¯¹åº”çš„çˆ¶èŠ‚ç‚¹ä¸Šï¼ˆä¹Ÿå¯èƒ½ä¼šå‡ºç°æ–°çš„çˆ¶èŠ‚ç‚¹ï¼‰ å¦‚ä½•æ›´æ–°ç¥–å…ˆèŠ‚ç‚¹ï¼Ÿ\nåº”è¯¥æ›´æ–°çš„ç¥–å…ˆèŠ‚ç‚¹çš„å€¼æ˜¯ç©ºçš„ å‘å³ä¾§æŒ‡å‘çš„ä¸‹ä¸€çº§ æ¥ç€ä¸€ç›´å‘å·¦ä¾§æŒ‡å‘çš„ä¸‹ä¸€çº§ ç›´åˆ°åˆ°è¾¾å¶å­èŠ‚ç‚¹ï¼Œå°†æ‰¾åˆ°çš„å¶å­èŠ‚ç‚¹ä¸­æœ€å·¦ä¾§ï¼ˆæœ€å°ï¼‰çš„å€¼æ›´æ–°åœ¨ç¥–å…ˆèŠ‚ç‚¹ä¸Šã€‚ PSï¼šå¦‚æœåªæ›´æ–°ä¸€çº§å°±åˆ°å¶å­èŠ‚ç‚¹äº†å‘¢ï¼Ÿé‚£å°±æ‰¾åˆ°å½“å‰å¶å­èŠ‚ç‚¹ä¸­æœ€å·¦ä¾§çš„å€¼æ›´æ–°åœ¨å…¶çˆ¶èŠ‚ç‚¹ä¸Š\nRunning time: O(h*log(n)) å…¶ä¸­logä»¥2ä¸ºåº•\nåˆ é™¤å€¼/æŒ‡é’ˆå¯¹\næ‰¾åˆ°åŒ…å«è¿™ä¸ªå€¼çš„å¶å­èŠ‚ç‚¹ ç§»é™¤è¿™ä¸ªå€¼/æŒ‡é’ˆå¯¹ å‡è®¾ç°åœ¨è¿™ä¸ªèŠ‚ç‚¹æ˜¯C x=2 å¦‚æœCæ˜¯æ ¹èŠ‚ç‚¹ x=ceil((n+1)/2) å¦‚æœCæ˜¯å†…éƒ¨èŠ‚ç‚¹ x=floor((n+1)/2) å¦‚æœCæ˜¯å¶å­èŠ‚ç‚¹ å¦‚æœCçš„æŒ‡é’ˆæ•°é‡è¶…è¿‡xä¸ªï¼Œä¿®è¡¥ç¥–å…ˆèŠ‚ç‚¹ï¼Œç»“æŸã€‚ å¦‚æœCæ˜¯æ ¹èŠ‚ç‚¹è€Œä¸æ˜¯å¶èŠ‚ç‚¹ï¼Œç§»é™¤è¯¥èŠ‚ç‚¹ï¼Œå¹¶ä¸”è®©å…¶å­èŠ‚ç‚¹ç§°ä¸ºæ–°çš„æ ¹èŠ‚ç‚¹ å¦åˆ™ï¼Œæ£€æŸ¥ç›¸é‚»èŠ‚ç‚¹æ˜¯å¦æœ‰è‡³å°‘x+1ä¸ªæŒ‡é’ˆ ç›¸é‚»èŠ‚ç‚¹ï¼šç›¸åŒæ·±åº¦ï¼Œå…±åŒç¥–å…ˆï¼Œä¸”è¿™ä¸ªå…±åŒç¥–å…ˆåœ¨è¿™ä¸¤ä¸ªå­ä»£èŠ‚ç‚¹ä¸­é—´æ²¡æœ‰ä»»ä½•å­ä»£ã€‚ å¦‚æœæœ‰ï¼Œæ‹¿èµ°ä¸€ä¸ªï¼Œä¿®å¤ç¥–å…ˆèŠ‚ç‚¹ï¼Œç»“æŸã€‚ å¦åˆ™ï¼Œåˆå¹¶å…„å¼Ÿå§å¦¹èŠ‚ç‚¹ï¼Œå¹¶è½¬åˆ°ç¬¬ä¸‰è¡Œï¼Œçˆ¶èŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹ã€‚ è¿™æ˜¯è€å¸ˆçš„æ–¹æ³•ğŸ‘†ï¼Œæˆ‘è§‰å¾—ä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œä¸‹é¢è‡ªå·±æ€»ç»“ä¸€ä¸‹ğŸ‘‡\næ‰¾åˆ°åŒ…å«è¿™ä¸ªå€¼çš„å¶å­èŠ‚ç‚¹ ç§»é™¤è¿™ä¸ªå€¼/æŒ‡é’ˆå¯¹ çœ‹å½“å‰å¶å­èŠ‚ç‚¹çš„æŒ‡é’ˆæ•°é‡æ˜¯å¦æ»¡è¶³è¦æ±‚(\u0026gt;=floor((n+1)/2))ã€‚ è¿™é‡Œè¦æ³¨æ„ï¼šæŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹çš„æŒ‡é’ˆä¹Ÿç®—æ˜¯æŒ‡é’ˆ,å³ä½¿æ˜¯å¶å­èŠ‚ç‚¹ä¸­çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼ˆæœ€åä¸€ä¸ªèŠ‚ç‚¹æ˜¯æ²¡æœ‰æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆçš„ï¼Œä½†æ˜¯ä¹Ÿè¦çœ‹åšæ˜¯æœ‰æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼‰è¿™æ˜¯è€å¸ˆå›ç­”æˆ‘çš„ï¼Œæˆ‘è§‰å¾—å¾ˆä¸è§£å’Œéœ‡æƒŠï¼Œä½†æ˜¯åªèƒ½å¦¥åã€‚æ¯•ç«Ÿè¿™ä¸æ˜¯æˆ‘å‘æ˜çš„æ•°æ®ç»“æ„:) å¦‚æœç§»é™¤å€¼åï¼Œè¯¥å¶å­èŠ‚ç‚¹çš„æŒ‡é’ˆæ•°é‡ä¸æ»¡è¶³è¦æ±‚ï¼Œåˆ™è¦ä»ç›¸é‚»èŠ‚ç‚¹â€å·â€œæŒ‡é’ˆè¿‡æ¥ ç›¸é‚»èŠ‚ç‚¹è‡³å°‘æœ‰floor((n+1)/2) +1ä¸ªæŒ‡é’ˆã€‚å› ä¸ºåªæœ‰è¿™æ ·æ‰èƒ½ä¿è¯è¢«å·èµ°ä¸€ä¸ªæŒ‡é’ˆåï¼Œè‡ªå·±çš„æŒ‡é’ˆè¿˜å¤Ÿç”¨ã€‚ ç›¸é‚»èŠ‚ç‚¹ï¼šç›¸åŒæ·±åº¦ï¼Œå…±åŒç¥–å…ˆï¼Œä¸”è¿™ä¸ªå…±åŒç¥–å…ˆåœ¨è¿™ä¸¤ä¸ªå­ä»£èŠ‚ç‚¹ä¸­é—´æ²¡æœ‰ä»»ä½•å­ä»£ã€‚ ä¿®å¤ç¥–å…ˆèŠ‚ç‚¹ï¼Œå£è¯€right-left-left-leftç›´åˆ°æ‰¾åˆ°å¶å­èŠ‚ç‚¹ç»“æŸã€‚ ç›¸é‚»èŠ‚ç‚¹çš„æŒ‡é’ˆæ•°ä¹Ÿå¤ªå°‘äº†ï¼Œå·ä¸è¿‡æ¥æ€ä¹ˆåŠï¼Ÿ é€‰æ‹©ä¸€ä¸ªç›¸é‚»èŠ‚ç‚¹è¿›è¡Œåˆå¹¶ å†…éƒ¨èŠ‚ç‚¹æ›´æ–°ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå†…éƒ¨èŠ‚ç‚¹éœ€è¦ä»ç›¸é‚»èŠ‚ç‚¹ï¼ˆæŒ‡é’ˆæ•°\u0026gt;=ceil((n+1)/2)+1ï¼‰å·ä¸€åŠè¿‡æ¥ï¼Œæ›´æ–°ã€‚ è®°å¾—ä¸€å±‚ä¸€å±‚æ›´æ–°ï¼Œç›´åˆ°æ›´æ–°åˆ°æ ¹èŠ‚ç‚¹ï¼Œæœ€åä¸€å®šæ£€æŸ¥æœ‰æ²¡æœ‰æ¼æ‰çš„ï¼ï¼ï¼ æ³¨æ„ï¼šå¯¹äºç›¸åŒçš„ä¸€äº›å€¼ï¼Œä¹Ÿä¼šæœ‰ä¸åŒçš„B+ treeçš„å†™æ³• (example: insert \u0026amp; delete 42)\næŸ¥è¯¢è¿‡ç¨‹å¦‚å›¾æ‰€ç¤º flowchart TB id1[SQL query]--\u003eid2[\"Parse query and preprocess\"]--\"Logical query plan (relational algebra)\"--\u003eid3[Optimise logical query plan] id3--\"Optimised logical query plan\"--\u003eid4[Select physical query plan]--\"Physical query plan\"--\u003eid5[Query Execution] Week7 æŸ¥è¯¢ä¼˜åŒ–çš„å¯å‘å¼æ–¹æ³•ï¼ˆHeuristics for query optimizationï¼‰ æŠŠselectionså°½å¯èƒ½çš„å‘æ ‘çš„åº•ç«¯æ¨ç§»ï¼ˆç›®çš„æ˜¯å°½æ—©æ‘†è„±ä¸ç›¸å…³çš„tupleï¼‰ æŠŠprojectionså°½å¯èƒ½çš„å‘æ ‘çš„åº•ç«¯æ¨ç§» ç”¨equijoinsç¬¦å·ä»£æ›¿è·Ÿåœ¨selection+âœ–ï¸ï¼Œå› ä¸ºequijoinsæ¯”selection+âœ–ï¸è¦æ›´å¿« ä»åˆå§‹æŸ¥è¯¢é›†å¼€å§‹ï¼Œä½¿ç”¨è¿™ä¸‰ç§å¯å‘å¼æ–¹æ³•ï¼Œå¦‚æœæˆ‘ä»¬ä»¥æ‰€æœ‰å¯èƒ½çš„æ–¹å¼é‡å¤åº”ç”¨å®ƒä»¬ï¼Œæœ€ç»ˆä¼šå¾—åˆ°ä»€ä¹ˆç»“æœï¼Ÿ\nè¯¥é›†åˆå¯èƒ½åŒ…å«å¤šä¸ªæœ€ä¼˜åŒ–çš„æŸ¥è¯¢ï¼Œä½†ç”±äºç®¡é“çš„å­˜åœ¨ï¼Œå®ƒä»¬å¯¹äºç‰©ç†æŸ¥è¯¢è®¡åˆ’æ˜¯ç­‰æ•ˆçš„\nç‰©ç†æŸ¥è¯¢è®¡åˆ’ ç‰©ç†æŸ¥è¯¢è®¡åˆ’ç›®çš„æ˜¯æ·»åŠ æ‰§è¡Œä¼˜åŒ–æŸ¥è¯¢è®¡åˆ’æ‰€éœ€çš„ä¿¡æ¯\nå¦‚ä½•å°†ä¿¡æ¯ä»ä¸€ä¸ªæ“ä½œç¬¦ä¼ åˆ°å¦ä¸€ä¸ªï¼Ÿ\nMaterialisation: å°†ä¸­é—´ç»“æœå†™è¿›ç£ç›˜ Pipelining: ä¸­é—´selectionçš„ç»“æœä¼šè¢«å†™è¿›å†…å­˜ä¸­çš„bufferï¼Œprojectionç¬¦å·å°†ä¼šè¯»å–å¹¶ç›´æ¥å¤„ç†è¿™äº›å…ƒç»„ã€‚ï¼ˆTupleæ˜¯è¡Œï¼ŒAttributesæ˜¯åˆ—ï¼‰ 2PC/3PC åè®® å› ä¸ºBASE(Basically Available, Soft state, Eventually consistent)ç†è®ºéœ€è¦åœ¨ä¸€è‡´æ€§å’Œå¯ç”¨æ€§æ–¹é¢ä½œå‡ºæƒè¡¡ï¼Œå› æ­¤å‡ºç°äº†è®¸å¤šå…³äºä¸€è‡´æ€§çš„åè®®ï¼Œå…¶ä¸­å°±æœ‰2pc(2 phase commitment protocol)/3PCåè®®ã€‚\n2PC\nDecide when to commit or abort. Commit or abort. 3PC\nDecide when to commit or abort. Prepare to Commit Commit ä¸‰æ®µæäº¤å°±æ˜¯æŠŠ2æ®µæäº¤çš„ç¬¬äºŒæ­¥æ‹†æˆäº†ä¸¤ä¸ªæ­¥éª¤ï¼Œå¯ä»¥è¯´æ˜¯æ›´è¯¦ç»†äº†ï¼Œè§£é‡Šä¸€ä¸‹3PCçš„ç¬¬äºŒæ­¥Prepare to Commitï¼š\nåè°ƒå™¨ç»™å„ä¸ªèŠ‚ç‚¹å‘é€commitæˆ–abortçš„messageã€‚ å„ä¸ªèŠ‚ç‚¹è¿›å…¥prepare to commitçŠ¶æ€ã€‚ åè°ƒè€…ï¼šåœ¨ä¸€äº›èŠ‚ç‚¹ä¸Šæ‰§è¡Œï¼Œå¹¶ä¸”å†³å®šæœ¬åœ°äº‹åŠ¡æ˜¯å¦æäº¤å’Œä½•æ—¶æäº¤ã€‚æ˜¯äº‹åŠ¡ç®¡ç†å™¨ã€‚\nå‚ä¸è€…ï¼šå°±æ˜¯ä¸€äº›èŠ‚ç‚¹ï¼Œä¹Ÿæ˜¯èµ„æºç®¡ç†å™¨ã€‚\nåœ¨æ¯ä¸ªèŠ‚ç‚¹æœ¬åœ°éƒ½ä¼šå†™å…¥æ—¥å¿—ï¼Œæ— è®ºæ˜¯å‘é€messageè¿˜æ˜¯ä»å…¶ä»–èŠ‚ç‚¹æ¥æ”¶messageã€‚\nPhase 1: When to commit åè°ƒå™¨å‘èµ·è¯¢é—®ï¼šé—®å„ä¸ªèŠ‚ç‚¹æ˜¯å¦æƒ³æäº¤ï¼Œå‘å„ä¸ªèŠ‚ç‚¹å‘é€\u0026lt;prepare T\u0026gt; å„ä¸ªèŠ‚ç‚¹å†³å®šæ˜¯æäº¤(Commit)è¿˜æ˜¯åºŸå¼ƒ(Abort) æƒ³æäº¤ï¼Œå‘åè°ƒå™¨å‘é€\u0026lt;ready T\u0026gt;ï¼Œå¹¶ä¸”è‡ªèº«è¿›å…¥precommittedçŠ¶æ€ï¼Œä¸€æ—¦è¿›å…¥è¿™ä¸ªçŠ¶æ€ï¼Œå°±åªæœ‰åè°ƒå™¨æ‰èƒ½åºŸå¼ƒè¿™ä¸ªäº‹åŠ¡ã€‚ ä¸æƒ³æäº¤ï¼Œå‘é€\u0026lt;don't commit\u0026gt;åˆ°åè°ƒå™¨å¹¶ä¸”åºŸå¼ƒæœ¬åœ°äº‹åŠ¡ã€‚ å¯ä»¥delayï¼Œä½†ä¸€å®šè¦å‘Šè¯‰åè°ƒå™¨ä¸€ä¸ªå‡†ç¡®ç­”æ¡ˆï¼Œæäº¤oråºŸå¼ƒã€‚ Phase 2: Commit or abort (å‡è®¾åœ¨ç»™å®šè¶…æ—¶å‰æœªå›å¤çš„èŠ‚ç‚¹å¸Œæœ›ä¸­æ­¢)\nå¦‚æœæ‰€æœ‰èŠ‚ç‚¹éƒ½å¸Œæœ›commitï¼Œåè°ƒå™¨å‘é€\u0026lt;commit T\u0026gt;ç»™æ‰€æœ‰çš„èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹æ”¶åˆ°æ¶ˆæ¯åè¿›è¡Œæäº¤ã€‚ å¦‚æœæœ‰èŠ‚ç‚¹ä¸æƒ³æäº¤ï¼Œé‚£ä¹ˆåè°ƒå™¨å‘é€\u0026lt;abort T\u0026gt;åˆ°æ‰€æœ‰èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹æ”¶åˆ°æ¶ˆæ¯åå°†äº‹åŠ¡åºŸå¼ƒã€‚ æœ‰å…³æäº¤æ—¥å¿— Phase1 flowchart LR id1[send PREPARE T]--\u003eid2[send READY T] id1--\u003eid3[send DON'T COMMIT T]--\u003eid4[ABORT T1] flowchart LR id0[\"\u003c PREPARE T \u003e to log\"]--\u003eid1 id1[send PREPARE T]--\u003eid7[\"Ensure T1 will not be aborted,å°±æŠŠæ‰€æœ‰æ—¥å¿—å†™å…¥ç£ç›˜\"]--\u003eid5[\"\u003c READY T \u003e to log\"]--\u003eid2[send READY T] id1--\u003eid6[\"\u003c DON'T COMMIT T \u003e to log\"]--\u003eid3[send DON'T COMMIT T]--\u003eid4[ABORT T1] style id1 fill:#f9f,stroke:#333,stroke-width:4px style id6 fill:#f9f,stroke:#333,stroke-width:4px style id7 fill:#f9f,stroke:#333,stroke-width:4px style id5 fill:#f9f,stroke:#333,stroke-width:4px å¦‚æœæ—¥å¿—ä¸­\u0026lt; DON'T COMMIT T \u0026gt;æ˜¯æ—¥å¿—çš„æœ€åä¸€æ¡ï¼Œå°±çŸ¥é“äº‹åŠ¡æ˜¯è¦è¢«åºŸå¼ƒäº†\nPhase2 flowchart LR id1[All nodes responded ready T]--\u003eid2[send commit T] id3[\"Some node responded donâ€™t commit T\"]--\u003eid4[send abort T] flowchart LR id1[All nodes responded ready T]--\u003eid5[\"\u003c COMMIT T \u003eto log\"]--\u003eid2[send commit T] id3[\"Some node responded donâ€™t commit T\"]--\u003eid6[\"\u003c ABORT T \u003eto log\"]--\u003eid4[send abort T] style id5 fill:#f9f,stroke:#333,stroke-width:4px style id6 fill:#f9f,stroke:#333,stroke-width:4px å¦‚æœæ—¥å¿—ä¸­\u0026lt; COMMIT T \u0026gt;æ˜¯æ—¥å¿—çš„æœ€åä¸€æ¡ï¼Œå°±çŸ¥é“äº‹åŠ¡æ˜¯è¢«æäº¤äº†ï¼Œå¦‚æœç™»å…¥æ—¥å¿—å’Œsend commit Tä¹‹é—´å‘ç”Ÿfailuerï¼Œåˆ™è¿›è¡Œredo T1ï¼ˆT1æ˜¯èŠ‚ç‚¹ä¸Šçš„äº‹åŠ¡ï¼‰æ“ä½œå°±å¯ä»¥ã€‚\u0026lt; ABORT T \u0026gt;åŒç†\nè®¡ç®—é¢˜ï¼ˆä¸€æ¬¡æŸ¥è¯¢ä¸­ï¼Œè®¡ç®—ä¸¤ä¸ªsiteä¹‹é—´ä¼ è¾“çš„æ•°æ®å¤§å°ï¼‰ åŒç«™ç‚¹é¢˜\nå·²çŸ¥Aç«™å’ŒBç«™ï¼ŒAç«™å­˜äº†ä¸€å¼ è¡¨Rï¼ŒBç«™å­˜äº†ä¸€å¼ è¡¨Sï¼Œåœ¨Bç«™ä¸Šè¿›è¡Œä¸€æ¬¡æŸ¥è¯¢ï¼ˆéœ€è¦ç”¨åˆ°Aç«™ä¸­å­˜çš„ä¿¡æ¯ï¼‰ï¼Œé—®Aå‘Bç«™ä¼ è¾“çš„æ•°æ®æ˜¯å¤šå°‘\nåˆ†åˆ«è®¡ç®—A-\u0026gt;Bå’ŒB-\u0026gt;A-\u0026gt;Bä¼ è¾“çš„æ•°æ®å¤§å°ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒã€‚\nWeek8 2PCåè®®ä¸­ï¼Œ\u0026lt;PRECOMMIT T\u0026gt;ä¸ä¼šè¢«å†™è¿›æ—¥å¿—ä¸­ã€‚ç¬¬ä¸ƒå‘¨çš„çŸ¥è¯†ç‚¹ï¼Œè¢«å‡ºåˆ°äº†ç¬¬å…«å‘¨çš„é¢˜é‡Œï¼Œåˆç‹ ç‹ è¢«ä»–æ°´åˆ°äº†ï¼Œå¯æ¶\n\u0026hellip;E[i]:ç°åœ¨è¿™ä¸ªèŠ‚ç‚¹æ˜¯Eçš„ç¬¬iä¸ªå­èŠ‚ç‚¹\n\u0026hellip;E[*[i]]:æ‹¿åˆ°Eçš„ç¬¬iä¸ªå­èŠ‚ç‚¹å‘ä¸‹çš„æ‰€æœ‰Element\nWeek9 \u0026lt;pair\u0026gt;{$item},{$title}\u0026lt;/pair\u0026gt;ï¼Œæ¯ä¸ªtitleå’Œæ¯ä¸ªiteméƒ½è¦åŒ¹é…ï¼Œæœ€ç»ˆè¾“å‡º\u0026lt;pair\u0026gt;\u0026lt;/pair\u0026gt;ELementçš„æ•°é‡ä¸ºtitleçš„æ•°é‡âœ–ï¸itemçš„æ•°é‡\nWeek10 OLAP: Online Analytic Processing, æŒ‡çš„æ˜¯åˆ†æå­˜åœ¨æ•°æ®ä»“åº“é‡Œçš„å¤æ‚æ•°æ®çš„è¿‡ç¨‹ã€‚ç»å¸¸ä¼šä½¿ç”¨whereå’Œgroup byå­å¥ã€‚ OLTP: Online Transaction Processing, ä¼ ç»Ÿçš„DBMSçš„ä»»åŠ¡ï¼Œèƒ½è¢«å¿«é€Ÿæ‰§è¡Œçš„æŸ¥è¯¢å’Œæ›´æ–°ï¼›å½±å“æ•°æ®åº“çš„ä¸€å°éƒ¨åˆ†ã€‚ Market-basket model (Data mining) Association Rules (Data mining) ç»å¸¸ä¹°å°¿å¸ƒçš„äººä¹Ÿç»å¸¸ä¹°å•¤é…’ï¼ŒGeneral form: {å°¿å¸ƒ} =\u0026gt; å•¤é…’ ç½®ä¿¡åº¦(Confidence)ï¼š{i1, i2, ..., in}é›†åˆä¸­åŒ…å«jçš„æ¦‚ç‡ã€‚ support of {i1, ..., in, j}/support of {i1, ..., in} A-priori ALgorithm: è®¡ç®—æ”¯æŒ\u0026gt;=sçš„æ‰€æœ‰æ•°æ®é¡¹J å¦‚æœJçš„æ”¯æŒ\u0026gt;=s, é‚£ä¹ˆJçš„æ‰€æœ‰å­é›†çš„æ”¯æŒéƒ½\u0026gt;=sã€‚ æœ‰ä¸æ‡‚çš„åœ°æ–¹æ¬¢è¿è¯„è®º ä¸€èµ·è®¨è®ºğŸ‘‡ ","permalink":"https://martinspace.top/zh/comp207/","summary":"Weekly Assessment é”™é¢˜çŸ¥è¯†ç‚¹å¤ä¹  Week 1 insertè¯­å¥è¯­æ³• insert into table_name VALUES (value1, value2) åˆ›å»ºå¤–é”®è¯­æ³• CONSTRAINT fk_name FOREIGN KEY (ä»è¡¨çš„å±æ€§å) REFERENCES ä¸»è¡¨(ä¸»è¡¨çš„å±æ€§å) æœ‰ä¸¤ä¸ªè¡¨A(a), B(b)ã€‚","title":"æ•°æ®åº“å¤ä¹ ç¬”è®°(COMP207)"},{"content":"åˆ·leetcodeæ€»èƒ½çœ‹è§å“ˆå¸Œè¡¨ï¼Œå¯¹å“ˆå¸Œè¡¨æœ‰å¤§è‡´çš„äº†è§£ï¼Œä½†æ˜¯ä¸€ç›´ä¸çŸ¥é“HashTableï¼ŒHashMapå’ŒHashSetåœ¨Javaä¸­çš„åŒºåˆ«ã€‚ä»Šå¤©çœ‹åˆ°ä¸€ä¸ªåšä¸»çš„æ–‡ç« å†ç»“åˆå®˜æ–¹æ–‡æ¡£çš„å­¦ä¹ ï¼Œå—ç›Šè‰¯å¤šï¼Œè®°å½•ä¸€ä¸‹ã€‚\n(: ç‚¹æˆ‘è¿›å…¥å®˜æ–¹æ–‡æ¡£ :)\nHashTable è´Ÿè½½å› å­ï¼ˆload factorï¼‰ æˆ‘è§‰å¾—æœ‰å¿…è¦å¯¹è´Ÿè½½å› å­è¿›è¡Œä¸€æ³¢è§£é‡Šï¼Œæ–¹ä¾¿æ›´å¤šäººçœ‹æ‡‚è¿™ç¯‡æ–‡ç« ã€‚\nè´Ÿè½½å› å­ï¼šæ„é€ hashtableæ—¶ï¼Œåˆå§‹å®¹é‡å’Œè´Ÿè½½å› å­å†³å®šäº†å®¹å™¨è¯¥ä»€ä¹ˆæ—¶å€™æ‰©å®¹ã€‚å½“è´Ÿè½½ç³»æ•°è¿‡å¤§æ—¶ï¼ŒæŸ¥è¯¢æ•ˆç‡å¤§å¹…é™ä½ï¼Œä½†æ˜¯ç©ºé—´åˆ©ç”¨ç‡ä¸Šå‡ï¼Œå› ä¸ºç›¸åŒå®¹é‡ä¸‹èƒ½å­˜çš„æ•°æ®æ›´å¤šï¼›è€Œè´Ÿè½½ç³»æ•°å¤ªå°çš„è¯ï¼Œç©ºé—´åˆ©ç”¨ç‡ä¼šå˜çš„éå¸¸ä½ï¼Œç›¸åŒçš„å®¹é‡å¯èƒ½å­˜ä¸äº†å‡ ä¸ªæ•°æ®å°±è¦æ‰©å®¹ã€‚æ‰€ä»¥æ ¹æ®å®˜æ–¹æ–‡æ¡£çš„å»ºè®®ï¼Œè´Ÿè½½å› å­é»˜è®¤ä¸º0.75ã€‚\næ–‡æ¡£å®šä¹‰ public class Hashtable\u0026lt;K,â€‹V\u0026gt; extends Dictionary\u0026lt;K,â€‹V\u0026gt; implements Map\u0026lt;K,â€‹V\u0026gt;, Cloneable, Serializable ç»§æ‰¿äº†Dictionaryå¹¶ä¸”å®ç°äº†Mapæ¥å£ä»¥åŠæ¥å£çš„å¯å…‹éš†åŒ–å’Œåºåˆ—åŒ–\nå¯å…‹éš†åŒ–ï¼šå¯ä»¥è¢«å…‹éš†ä¸€ä¸ªä¸€æ ·çš„\nåºåˆ—åŒ–ï¼šåœ¨è¿›è¡ŒIOæ“ä½œæ—¶å°†å¯¹è±¡æ•°æ®è½¬æ¢ä¸ºå­—èŠ‚æµï¼Œä¹‹åå°†å­—èŠ‚æµæ•°æ®è½¬æ¢ä¸ºç‰¹å®šçš„å¯¹è±¡ã€‚\nHashTableçš„å‡ ä¸ªå¸¸ç”¨æ–¹æ³• è¿”å›ç±»å‹ æ–¹æ³• åŠŸèƒ½ boolean contains(Object value) æ£€æŸ¥æŸä¸ªé”®æ˜¯å¦æ˜ å°„åˆ°è¿™ä¸ªhashtableä¸­çš„æŒ‡å®šå€¼ã€‚ boolean containsKey(Object key) æ£€æŸ¥æŒ‡å®šçš„å¯¹è±¡æ˜¯å¦æ˜¯è¿™ä¸ªhashtableä¸­çš„ä¸€ä¸ªé”®ã€‚ boolean containsValue(Object value) å¦‚æœè¿™ä¸ªhashtableå°†ä¸€ä¸ªæˆ–å¤šä¸ªé”®æ˜ å°„åˆ°è¿™ä¸ªå€¼ï¼Œåˆ™è¿”å›trueã€‚ V putâ€‹(K key, V value) å°†æŒ‡å®šçš„Væ˜ å°„åˆ°è¯¥hashtableä¸­çš„æŒ‡å®šKã€‚ V get(Object key) è¿”å›æŒ‡å®šé”®æ‰€æ˜ å°„çš„å€¼ï¼Œå¦‚æœä¸å­˜åœ¨è¿™ä¸ªæ˜ å°„ï¼Œåˆ™è¿”å›null V removeâ€‹(Object key) ä»hashtableä¸­åˆ é™¤é”®ï¼ˆå’Œå®ƒå¯¹åº”çš„å€¼ï¼‰ã€‚ boolean isEmpty() æ£€æŸ¥è¿™ä¸ªhashtableæ˜¯å¦æœ‰å°†é”®æ˜ å°„åˆ°å€¼ã€‚ V getOrDefault(Object key, V defaultValue) è¿”å›æŒ‡å®šçš„é”®è¢«æ˜ å°„åˆ°çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰é”®çš„æ˜ å°„çš„å€¼ï¼Œåˆ™è¿”å›defaultValueã€‚ PS: V \u0026ndash; æ˜ å°„å€¼çš„ç±»å‹ K \u0026ndash; æ˜ å°„æ‰€ç»´æŠ¤çš„é”®çš„ç±»å‹\nHashtableç±»å®ç°äº†å“ˆå¸Œè¡¨ï¼Œå¯ä»¥å°†é”®å’Œå€¼è¿›è¡Œå¯¹åº”ã€‚Hashtableæ”¯æŒåŒæ­¥ï¼Œä½†ä¸æ”¯æŒç©ºå€¼ã€‚ç”±äºå…¶åŒæ­¥ç‰¹æ€§ï¼Œå®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚\nHashMap æ–‡æ¡£å®šä¹‰ public class HashMap\u0026lt;K,â€‹V\u0026gt; extends AbstractMap\u0026lt;K,â€‹V\u0026gt; implements Map\u0026lt;K,â€‹V\u0026gt;, Cloneable, Serializable æ˜¾ç„¶ï¼ŒHashMapå’ŒHashTableåŠŸèƒ½åŸºæœ¬ç›¸åŒï¼Œåªä¸è¿‡HashMapæ—¶ç»§æ‰¿AbstractMap\nHashMapçš„å‡ ä¸ªå¸¸ç”¨æ–¹æ³• å¸¸ç”¨çš„å‡ ä¸ªæ–¹æ³•ä¸HashTableåŸºæœ¬ç›¸åŒï¼ŒæŸ¥çœ‹ä¸Šé¢çš„è¡¨æ ¼å³å¯ã€‚\nHashMapä¸HashTableçš„åŒºåˆ« ä¸»è¦åŒºåˆ«ï¼šçº¿ç¨‹å®‰å…¨ï¼Œç©ºå€¼ï¼ŒåŒæ­¥ï¼Œé€Ÿåº¦\nHashtableæ˜¯çº¿ç¨‹å®‰å…¨ï¼Œè€ŒHashMapéçº¿ç¨‹å®‰å…¨. HashMapå¯ä»¥ä½¿ç”¨nullä½œä¸ºkeyï¼Œè€ŒHashtableåˆ™ä¸å…è®¸nullä½œä¸ºkey HashMapçš„åˆå§‹å®¹é‡ä¸º16ï¼ŒHashtableåˆå§‹å®¹é‡ä¸º11ï¼Œä¸¤è€…çš„å¡«å……å› å­é»˜è®¤éƒ½æ˜¯0.75 HashMapæ‰©å®¹æ—¶ï¼šnew capacity = 2*capacity Hashtableæ‰©å®¹æ—¶ï¼šnew capacity = 2*capacity + 1 ä¸¤è€…è®¡ç®—hashçš„æ–¹æ³•ä¸åŒ HashSet æ–‡æ¡£å®šä¹‰ public class HashSet\u0026lt;E\u0026gt; extends AbstractSet\u0026lt;E\u0026gt; implements Set\u0026lt;E\u0026gt;, Cloneable, Serializable å¯ä»¥çœ‹åˆ°ï¼ŒHashSetç»§æ‰¿äº†AbstractSetï¼Œå®ç°äº†Setæ¥å£ã€‚HashSetæ˜¯åŸºäºHashMapæ¥å®ç°çš„ï¼Œæ˜¯ä¸€ä¸ªä¸å…è®¸æœ‰é‡å¤å…ƒç´ çš„é›†åˆã€‚ å› æ­¤ï¼ŒHashSetä¹Ÿå…è®¸æœ‰ç©ºå€¼ï¼Œè€Œä¸”HashSetæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚\nHashSetçš„å‡ ä¸ªå¸¸ç”¨æ–¹æ³• è¿”å›ç±»å‹ æ–¹æ³• åŠŸèƒ½ boolean add(E e) å¦‚æœæŒ‡å®šçš„å…ƒç´ è¿˜æ²¡æœ‰å‡ºç°ï¼Œåˆ™å°†å…¶æ·»åŠ åˆ°è¿™ä¸ªé›†åˆä¸­ã€‚ boolean contains(Object o) å¦‚æœè¿™ä¸ªé›†åˆåŒ…å«æŒ‡å®šçš„å…ƒç´ ï¼Œåˆ™è¿”å›çœŸã€‚ boolean isEmpty() å¦‚æœè¿™ä¸ªé›†åˆä¸åŒ…å«ä»»ä½•å…ƒç´ ï¼Œåˆ™è¿”å›trueã€‚ int size() è¿”å›è¿™ä¸ªé›†åˆä¸­çš„å…ƒç´ æ•°é‡ã€‚ ç®€å•ç†è§£ï¼šHashSetå°±æ˜¯ç®€å•çš„HashMap\nå‚è€ƒæ–‡ç« ğŸ‘‡ Javaä¸­HashSetã€HashMapå’ŒHashTableçš„åŒºåˆ«\n","permalink":"https://martinspace.top/zh/hash-in-java/","summary":"åˆ·leetcodeæ€»èƒ½çœ‹è§å“ˆå¸Œè¡¨ï¼Œå¯¹å“ˆå¸Œè¡¨æœ‰å¤§è‡´çš„äº†è§£ï¼Œä½†æ˜¯ä¸€ç›´ä¸çŸ¥é“HashTableï¼ŒHashMapå’ŒHashSetåœ¨Javaä¸­çš„åŒºåˆ«ã€‚","title":"è¯¦è§£javaä¸­çš„å‡ ç§hash"},{"content":"ä½å¼€çš„ä¸ŠåŠå¹´ è¢«ç–«æƒ…å›°åœ¨å®¶ä¸­çš„åŠå¹´ï¼Œæ¯å¤©éƒ½å¹»æƒ³å›åˆ°å­¦æ ¡ï¼Œç”šè‡³åšæ¢¦éƒ½æ˜¯å›åˆ°å­¦æ ¡è§åˆ°æœ‹å‹ä»¬ã€‚é‚£æ®µæ—¶é—´ï¼Œç»å†äº†æ•´å¤©å‘†åœ¨å®¶çš„è‡ªé—­ï¼›ç»å†äº†æŠ•ç®€å†æ²¡äººç†çš„éš¾è¿‡ï¼›ç»å†äº†åœ¨å®¶èµ¶dueã€å¤ä¹ å’Œè€ƒè¯•çš„æŠ˜ç£¨ï¼›ç»å†äº†åŠæŠ¤ç…§çš„ç§ç§åå·ï¼Œä¸è¿‡å¥½åœ¨ï¼Œéƒ½æŒºè¿‡æ¥äº†ã€‚ä¸è¿‡ä¹Ÿè¦æ„Ÿè°¢é‚£æ®µæ—¶é—´ï¼Œæˆ‘ç»ˆäºæ‹¿ä¸‹äº†é©¾ç…§ï¼Œè€Œä¸”ç»å¸¸ç»ƒä¹ ï¼ˆåŸºæœ¬è§£å°ä¹‹åæ˜¯æ¯å¤©éƒ½å¼€è½¦ï¼Œæ¸æ¸ä¹Ÿä¸éœ€è¦æˆ‘å¦ˆåœ¨æ—è¾¹é™ªæˆ‘äº†ï¼Œå®Œå…¨å¯ä»¥ç‹¬ç«‹é©¾é©¶äº†ï¼‰ï¼Œè¿™å¯ç»™æˆ‘åœ¨æš‘å‡ç©çš„ç”Ÿé¾™æ´»è™åšä¸‹äº†é“ºå«ã€‚ç»ˆäºåœ¨äº”æœˆï¼Œæˆ‘æ‹¿åˆ°äº†è®¯é£çš„offerï¼Œä¹Ÿç®—æ˜¯ç¬¬ä¸€ä»½é è‡ªå·±æ‹¿ä¸‹çš„å®ä¹ äº†ï¼Œæ„Ÿè§‰çœ‹åˆ°äº†ä¸€äº›å…‰ï¼Œå¾ˆå…´å¥‹ï¼Œå› ä¸ºæ„Ÿè§‰å¾ˆå¿«èƒ½å›åˆ°å­¦æ ¡åœ¨æš‘å‡è§åˆ°æœ‹å‹ä»¬æ˜¯å¾ˆç¾å¥½çš„äº‹æƒ…ã€‚æ‰€ä»¥å›æƒ³èµ·æ¥ï¼Œ2022å¹´ä¸ŠåŠå¹´æ²¡ä»€ä¹ˆç»™æˆ‘å°è±¡è¿‡äºæ·±åˆ»çš„äº‹æƒ…ï¼Œæ¯”è¾ƒå¹³æ·¡ï¼Œç”šè‡³æ˜¯æœ‰äº›ä¹å‘³ã€‚\né«˜èµ°çš„ä¸‹åŠå¹´ è‹å¼ç»¿è±†æ±¤èˆ¬çš„æš‘å‡ ç»ˆäºï¼Œå›åˆ°è‹å·ï¼Œå…‰é€Ÿæ‰¾åˆ°å¹¶ç§Ÿå¥½æˆ¿å­å°±å¼€å§‹äº†æˆ‘çš„æ‰“å·¥äººç”Ÿæ´»ã€‚ç§Ÿçš„æˆ¿å­å°±åœ¨åŒ—æ ¡åŒºæ—è¾¹ï¼Œå…¬å¸ç¦»å®¶çš„è·ç¦»éª‘è‡ªè¡Œè½¦ä¹Ÿå°±20åˆ†é’Ÿåˆ°åŠä¸ªå°æ—¶çš„è·¯ç¨‹ï¼Œæˆ‘å°è±¡æœ€æ¸…æ™°çš„å°±æ˜¯ï¼Œå½“æ—¶è‹å·å¾ˆçƒ­ï¼Œæˆ‘åŸºæœ¬æ¯å¤©æ—©ä¸Šéƒ½æ˜¯éª‘è½¦åˆ°å…¬å¸ï¼Œåœ¨æ¥¼ä¸‹éº¦å½“åŠ³è¹­ä¼šç©ºè°ƒé¡ºä¾¿è§£å†³ä¸‹æ—©é¥­å†ä¸Šæ¥¼ä¸Šç­ã€‚æ‰€ä»¥æš‘å‡è¿‡åï¼Œæˆ‘å¯¹éº¦å½“åŠ³çš„æŠ—æ‹’æ˜¯æœ‰åŸå› çš„ã€‚ä¸Šç­å½’ä¸Šç­ï¼Œä¸‹ç­æ—¶é—´å’Œæ¯ä¸ªå‘¨æœ«æˆ‘è®°å¾—éƒ½å¾ˆå……å®ï¼Œæ‰“ç½‘çƒã€æ¸¸æ³³ã€éª‘è½¦ã€å‘¨æœ«ç§Ÿè½¦å‡ºå»ç©ï¼Œåœ¨è¥¿å±±çœ‹æ—¥å‡ºå’Œæ—¥è½ï¼Œé£å¾ˆæ¸©æŸ”ï¼Œæ™¯è‰²å¾ˆç¾ã€‚è¿™æ®µæ—¶é—´å¾ˆæ½‡æ´’ï¼Œå¾ˆé…£ç•…æ·‹æ¼“ï¼Œè¿™ä¸¤ä¸ªæœˆçš„å¿«ä¹çš„feelingæ˜¯çœŸå®çš„ï¼Œæ˜¯æºè‡ªå¿ƒåº•çš„ã€‚è‡³äºå®ä¹ ï¼Œå®è§‚ä¸Šè®²ï¼Œæˆ‘çš„æ”¶è·æ˜¯äº†è§£åˆ°å›½å†…AIé¾™å¤´çš„å·¥ä½œæ°›å›´ï¼Œå·¥ä½œåˆ¶åº¦æˆ–ä½“ç³»ï¼ˆè¿™äº›æ˜¯æ³›æ³›çš„ï¼Œå±äºæ˜¯è€³æ¿¡ç›®æŸ“çš„ï¼Œç”¨è¯­è¨€éš¾ä»¥å½¢å®¹æ„Ÿå—ï¼‰ã€‚å¾®è§‚ä¸Šè®²ï¼Œæˆ–è€…è¯´æ˜¯ä»æŠ€æœ¯æå‡ä¸Šæ¥çœ‹ï¼Œæ²¡æœ‰å¤ªå¤§æå‡ï¼Œåªæ˜¯è®©æˆ‘çœŸå®æ„Ÿå—åˆ°è®¡ç®—æœºçš„èƒ½åŠ›ï¼ˆæ•ˆç‡ï¼‰æ˜¯è¿œè¶…äººç±»çš„æ‰‹å’Œçœ¼ï¼Œpythonå¤„ç†æ•°æ®ï¼Œå‡ è¡Œä»£ç å°±å¯ä»¥å¤„ç†æˆ‘ä¸€å‘¨æ‰‹åŠ¨å¤„ç†çš„æ•°æ®é›†ï¼Œè¿™ä¹Ÿç¡®å®è®©æˆ‘å¯¹è®¡ç®—æœºäº§ç”Ÿå¾ˆå¤§çš„å…´è¶£ï¼Œæˆ‘è§‰å¾—è¿™å¯èƒ½æ˜¯æˆ‘ç¬¬ä¸€ä»½å®ä¹ çš„é‡è¦æ„ä¹‰ã€‚å¾ˆå¿«ï¼Œæš‘å‡è¿‡å»äº†ä¸€å¤§åŠï¼Œæˆ‘åŠå¥½ç¦»æ ¡å’Œç¦»èŒæ‰‹ç»­å»å—äº¬å‡†å¤‡ç­¾è¯ã€‚æ¥ç€åˆä¸çŸ¥æ­»æ´»çš„ä»å››åå‡ åº¦çš„è‹å·å»å››åå‡ åº¦çš„è¥¿å®‰ç©äº†å‡ å¤©ï¼Œè½¬è½¬é’Ÿæ¥¼ï¼Œåœ¨é…’å§å°é…Œå¬ç€é™•è¥¿è¯ç‰ˆçš„é‡è§ï¼Œå¤œçˆ¬åå±±çœ‹æ—¥å‡ºï¼Œè™½ç„¶ç‡¥çƒ­ï¼Œä½†è¿™çŸ­æš‚çš„è®°å¿†æ— æ³•æŠ¹å»ã€‚\nè‡³äºæ ‡é¢˜ä¸ºä»€ä¹ˆå«è‹å¼ç»¿è±†æ±¤èˆ¬çš„æš‘å‡ï¼Œæˆ‘æƒ³å†™åˆ°è¿™ä¹Ÿå°±ä¸è¨€è€Œå–»äº†ï¼Œè¿™ä¸ªæš‘å‡æ­£å¦‚è‹å¼ç»¿è±†æ±¤ä¸€èˆ¬ï¼Œå‚æ‚äº†å¾ˆå¤šé£Ÿæï¼Œç”˜ç”œï¼Œæ¸…çˆ½ï¼Œä¸ªæ€§ï¼Œéƒ½æ˜¯ç»¿è±†æ±¤çš„å±æ€§ï¼Œä¹Ÿæ˜¯è¿™ä¸ªæš‘å‡ç»™æˆ‘çš„æ„Ÿå—ã€‚å–œæ¬¢å®ƒçš„äººç–¯ç‹‚å–œæ¬¢ï¼Œè®¨åŒå®ƒçš„äººæ— æ•Œè®¨åŒã€‚ä½†æ˜¯æ— æ‰€è°“ï¼Œæˆ‘æ²¡å¿…è¦çœ‹åˆ«äººæ€ä¹ˆæƒ³ï¼Œè¿™æ˜¯æˆ‘è‡ªå·±å–œæ¬¢çš„ç»¿è±†æ±¤ï¼Œæ˜¯æˆ‘è‡ªå·±é€‰æ‹©çš„åº¦è¿‡æš‘å‡çš„æ–¹å¼ï¼Œåæ­£ï¼Œè‡ªå·±å¼€å¿ƒæœ€å¤§è¾£ã€‚\næ¥åˆ°è‹±å›½ è¿™åº”è¯¥æ˜¯äººç”Ÿä¸­æœ€é­”å¹»çš„ä¸€æ®µæ—¶é—´äº†ï¼Œåˆæ¥ä¹åˆ°çš„ä¸€æ®µæ—¶é—´é‡Œï¼Œæ„Ÿè§‰ä¸€åˆ‡éƒ½ä¸æ˜¯å¾ˆçœŸå®ï¼Œä½†æ˜¯ç°åœ¨ä¹Ÿæ…¢æ…¢ä¹ æƒ¯äº†ï¼Œä¸ç„¶æˆ‘ä¹Ÿä¸ä¼šå¹³å¿ƒé™æ°”ååœ¨è¿™é‡Œæ‰“å­—ã€‚è¿™ä¸‰ä¸ªæœˆçš„æ—¶é—´é‡Œï¼Œçœ‹äº†å¤§æœ¬é’Ÿã€ä¼¦æ•¦çœ¼ã€æ­Œå‰§é­…å½±ï¼Œè¿™äº›å°æ—¶å€™åœ¨è¯¾æœ¬ä¸Šå‡ºç°çš„ä¸œè¥¿ï¼Œå¦‚ä»ŠçœŸçš„è¢«æˆ‘çœ‹åˆ°äº†ï¼›åœ¨å®‰è²å°”å¾·çœ‹æ¬§å† ï¼Œçœ‹åˆ°äº†é«˜ä¸­æ€»æèµ·çš„è¨æ‹‰èµ«ï¼›åœ¨çˆ±ä¸å ¡æ—…è¡Œï¼Œçœ‹åˆ°äº†å‘¨æ°ä¼¦æ‹mvçš„å–æ™¯åœ°ï¼Œåœ¨è‹æ ¼å…°é«˜åœ°ï¼Œçœ‹åˆ°å¥½å¤šä¹‹å‰æŠ–éŸ³çœ‹åˆ°çš„ç¾ä¸½æ™¯è‰²ã€‚æœ‰æ—¶å€™ååœ¨å¯å®¤å›æƒ³è¿™äº›ç»å†ï¼Œéƒ½ä¼šè§‰å¾—æœ‰ä¸€ä¸ä¸çœŸå®ï¼Œåƒæ˜¯åœ¨æ¢¦é‡Œï¼Œå´åˆå®å®åœ¨åœ¨å‘ç”Ÿäº†ã€‚è§‰å¾—è¿™æœªæ¥å‡ å¹´çš„ç•™å­¦ç»å†ä¼šç»™æ•´ä¸ªäººç”Ÿç•™ä¸‹æµ“å¢¨é‡å½©çš„ä¸€ç¬”å§ã€‚\nå°ç»“ æš‚ä¸”æ€»ç»“åˆ°è¿™é‡Œå§ï¼Œè¿˜è¦ç»§ç»­å¤ä¹ ï¼Œå› ä¸ºä¸€ä¼šè¦å’Œæœ‹å‹ä»¬å‡ºå»è·¨å¹´ï¼Œç¬¬ä¸€æ¬¡è·¨ä¸¤ä¸ªå¹´æœ‰äº›ä¸é€‚åº”ã€‚åæ­£æˆ‘å¾ˆå–œæ¬¢2022ï¼Œç”šè‡³æ˜¯20å¹´æ¥æœ€å–œæ¬¢çš„ä¸€å¹´ã€‚\nlove 2022 sooooo much, itâ€™ll also be well missed in the future! ","permalink":"https://martinspace.top/zh/22summary/","summary":"ä½å¼€çš„ä¸ŠåŠå¹´ è¢«ç–«æƒ…å›°åœ¨å®¶ä¸­çš„åŠå¹´ï¼Œæ¯å¤©éƒ½å¹»æƒ³å›åˆ°å­¦æ ¡ï¼Œç”šè‡³åšæ¢¦éƒ½æ˜¯å›åˆ°å­¦æ ¡è§åˆ°æœ‹å‹ä»¬ã€‚é‚£æ®µæ—¶é—´ï¼Œç»å†äº†æ•´å¤©å‘†åœ¨å®¶çš„è‡ªé—­ï¼›ç»å†äº†æŠ•ç®€å†æ²¡äººç†çš„","title":"ä½å¼€é«˜èµ°çš„ä¸€å¹´"},{"content":"å­¦äº†ä¸€ä¸ªå°æŠ€å·§å®ç°å¯ä»¥æ¸…æ™°åœ°å®ç°ç‰ˆæœ¬æ§åˆ¶ï¼Œè®°å½•ä¸€ä¸‹\n1. åˆ—å‡ºæ ‡ç­¾ $ git tag v1.0 v2.0 ä¹Ÿå¯ä»¥æ¨¡ç³ŠæŸ¥è¯¢ï¼ˆ-lä¹Ÿå¯ä»¥å†™æˆ\u0026ndash;listï¼‰\n$ git tag -l \u0026#34;v1.8.5*\u0026#34; v1.8.5 v1.8.5-rc0 v1.8.5-rc1 v1.8.5-rc2 v1.8.5-rc3 v1.8.5.1 v1.8.5.2 v1.8.5.3 v1.8.5.4 v1.8.5.5 2. åˆ›å»ºæ ‡ç­¾ é™„æ³¨æ ‡ç­¾ $ git tag -a v1.4 -m \u0026#34;my version 1.4\u0026#34; $ git tag v0.1 v1.3 v1.4 git showæŒ‡ä»¤å¯ä»¥æŸ¥çœ‹å¯¹åº”çš„ä¿¡æ¯\n$ git show v1.4 tag v1.4 Tagger: Ben Straub \u0026lt;ben@straub.cc\u0026gt; Date: Sat May 3 20:19:12 2014 -0700 my version 1.4 commit ca82a6dff817ec66f44342007202690a93763949 Author: Scott Chacon \u0026lt;schacon@gee-mail.com\u0026gt; Date: Mon Mar 17 21:52:11 2008 -0700 changed the version number è½»é‡æ ‡ç­¾ $ git tag v1.4-lw $ git tag v0.1 v1.3 v1.4 v1.4-lw v1.5 å¦‚æœåœ¨æ ‡ç­¾ä¸Šè¿è¡Œ git showï¼Œæ²¡æœ‰é¢å¤–çš„æ ‡ç­¾ä¿¡æ¯ã€‚ åªä¼šæ˜¾ç¤ºå‡ºæäº¤ä¿¡æ¯ï¼š\n$ git show v1.4-lw commit ca82a6dff817ec66f44342007202690a93763949 Author: Scott Chacon \u0026lt;schacon@gee-mail.com\u0026gt; Date: Mon Mar 17 21:52:11 2008 -0700 changed the version number åæœŸæ‰“æ ‡ç­¾ å‘½ä»¤git log --pretty=oneline æŸ¥è¯¢æäº¤å†å²\n$ git log --pretty=oneline 15027957951b64cf874c3557a0f3547bd83b3ff6 Merge branch \u0026#39;experiment\u0026#39; a6b4c97498bd301d84096da251c98a07c7723e65 beginning write support 0d52aaab4479697da7686c15f77a3d64d9165190 one more thing 6d52a271eda8725415634dd79daabbc4d9b6008e Merge branch \u0026#39;experiment\u0026#39; 0b7434d86859cc7b8c3d5e1dddfed66ff742fcbc added a commit function 4682c3261057305bdd616e23b64b0857d832627b added a todo file 166ae0c4d3f420721acbb115cc33848dfcc2121a started write support 9fceb02d0ae598e95dc970b74767f19372d61af8 updated rakefile 964f16d36dfccde844893cac5b347e7b3d44abbc commit the todo 8a5cbc430f1a9c3d00faaeffd07798508422908a updated readme å‡è®¾åœ¨ v1.2 æ—¶ä½ å¿˜è®°ç»™é¡¹ç›®æ‰“æ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯åœ¨ updated rakefile æäº¤ã€‚ ä½ å¯ä»¥åœ¨ä¹‹åè¡¥ä¸Šæ ‡ç­¾ã€‚ è¦åœ¨é‚£ä¸ªæäº¤ä¸Šæ‰“æ ‡ç­¾ï¼Œä½ éœ€è¦åœ¨å‘½ä»¤çš„æœ«å°¾æŒ‡å®šæäº¤çš„æ ¡éªŒå’Œï¼ˆæˆ–éƒ¨åˆ†æ ¡éªŒå’Œï¼‰ï¼š\n$ git tag -a v1.2 9fceb02 git showå¯ä»¥çœ‹åˆ°å·²ç»ä¸ºæŒ‡å®šçš„æäº¤æ‰“ä¸Šæ ‡ç­¾\n$ git tag v0.1 v1.2 v1.3 v1.4 v1.4-lw v1.5 $ git show v1.2 tag v1.2 Tagger: Scott Chacon \u0026lt;schacon@gee-mail.com\u0026gt; Date: Mon Feb 9 15:32:16 2009 -0800 version 1.2 commit 9fceb02d0ae598e95dc970b74767f19372d61af8 Author: Magnus Chacon \u0026lt;mchacon@gee-mail.com\u0026gt; Date: Sun Apr 27 20:43:35 2008 -0700 updated rakefile ... æ¨é€tagåˆ°è¿œç¨‹åˆ†æ”¯ é»˜è®¤æƒ…å†µä¸‹ï¼Œgit push å‘½ä»¤å¹¶ä¸ä¼šä¼ é€æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“æœåŠ¡å™¨ä¸Šã€‚ åœ¨åˆ›å»ºå®Œæ ‡ç­¾åä½ å¿…é¡»æ˜¾å¼åœ°æ¨é€æ ‡ç­¾åˆ°å…±äº«æœåŠ¡å™¨ä¸Šã€‚ è¿™ä¸ªè¿‡ç¨‹å°±åƒå…±äº«è¿œç¨‹åˆ†æ”¯ä¸€æ ·ï¼Œè¿è¡Œ git push origin \u0026lt;tagname\u0026gt;\n$ git push origin v1.5 Counting objects: 14, done. Delta compression using up to 8 threads. Compressing objects: 100% (12/12), done. Writing objects: 100% (14/14), 2.05 KiB | 0 bytes/s, done. Total 14 (delta 3), reused 0 (delta 0) To git@github.com:schacon/simplegit.git * [new tag] v1.5 -\u0026gt; v1.5 å¦‚æœæƒ³è¦ä¸€æ¬¡æ€§æ¨é€å¾ˆå¤šæ ‡ç­¾ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¸¦æœ‰ --tags é€‰é¡¹çš„ git push å‘½ä»¤ã€‚ è¿™å°†ä¼šæŠŠæ‰€æœ‰ä¸åœ¨è¿œç¨‹ä»“åº“æœåŠ¡å™¨ä¸Šçš„æ ‡ç­¾å…¨éƒ¨ä¼ é€åˆ°é‚£é‡Œã€‚\n$ git push origin --tags Counting objects: 1, done. Writing objects: 100% (1/1), 160 bytes | 0 bytes/s, done. Total 1 (delta 0), reused 0 (delta 0) To git@github.com:schacon/simplegit.git * [new tag] v1.4 -\u0026gt; v1.4 * [new tag] v1.4-lw -\u0026gt; v1.4-lw åˆ é™¤æœ¬åœ°æ ‡ç­¾ $ git tag -d v1.4-lw Deleted tag \u0026#39;v1.4-lw\u0026#39; (was e7d5add) åˆ é™¤è¿œç¨‹æ ‡ç­¾ $ git push origin --delete \u0026lt;tagname\u0026gt; ä»¥åæ¯æ¬¡æ›´æ–°éƒ½å¯ä»¥ç‹ ç‹ æ‰“ä¸Šæ ‡ç­¾äº†ï¼Œå¾ˆå¼€å¿ƒã€‚\nå‚è€ƒæ–‡ç« ğŸ‘‡\nhttps://git-scm.com/book/en/v2\n","permalink":"https://martinspace.top/zh/git-tag/","summary":"å­¦äº†ä¸€ä¸ªå°æŠ€å·§å®ç°å¯ä»¥æ¸…æ™°åœ°å®ç°ç‰ˆæœ¬æ§åˆ¶ï¼Œè®°å½•ä¸€ä¸‹ 1. åˆ—å‡ºæ ‡ç­¾ $ git tag v1.0 v2.0 ä¹Ÿå¯ä»¥æ¨¡ç³ŠæŸ¥è¯¢ï¼ˆ-lä¹Ÿå¯ä»¥å†™æˆ\u0026ndash;listï¼‰ $ git tag -l \u0026#34;v1.8.5*\u0026#34; v1.8.5 v1.8.5-rc0 v1.8.5-rc1","title":"gitç‰ˆæœ¬æ§åˆ¶"},{"content":"æœ€è¿‘å‘ç°äº†ä¸€æ¬¾å·¨å¥½ç”¨çš„ç”Ÿæˆreferenceçš„ç¥å™¨â€”â€”Zotero\né¦–å…ˆè¿›å…¥å®˜ç½‘ğŸ‘‡ï¼ˆç§‘å­¦ä¸Šç½‘ï¼Œé€Ÿåº¦æ›´å¿«ï¼‰\nhttps://www.zotero.org/\nè¿›å…¥å®˜ç½‘åç‚¹å‡»Downloadä¼šçœ‹åˆ°å¦‚ä¸‹é¡µé¢\nä¸¤ä¸ªéƒ½è¦ä¸‹è½½ï¼Œzotero connectorä¸‹è½½çš„æ˜¯æµè§ˆå™¨æ’ä»¶ï¼Œè¿™é‡Œåªæ”¯æŒchromeï¼Œä¸‹è½½å¥½åé¡¶éƒ¨å³ä¾§å¯¼èˆªæ çš„æ’ä»¶ä¼šæ˜¾ç¤ºå‡ºzoteroçš„å›¾æ ‡ã€‚ç„¶åä¸‹è½½å®‰è£…zoteroè½¯ä»¶ï¼Œåˆ‡è®°ï¼Œåœ¨chromeä½¿ç”¨æ’ä»¶æ—¶ï¼Œä¸€å®šè¦ä¿è¯è½¯ä»¶åœ¨è¿è¡ŒçŠ¶æ€ã€‚\næ¥ä¸‹æ¥æ‰“å¼€wordï¼Œå¦‚æœwordå·²ç»æ‰“å¼€åˆ™éœ€è¦é‡å¯ï¼Œåœ¨é¡¶éƒ¨æ‰¾åˆ°Zoteroå­—æ ·å¹¶ç‚¹å‡»ï¼Œç‚¹å‡»åå¯ä»¥é€‰æ‹©Add/Edit Citationå’ŒAdd/Edit Bibliographyã€‚\næ¥ä¸‹æ¥åœ¨äº’è”ç½‘éšä¾¿æ‰¾ä¸€ç¯‡æ–‡ç« ï¼Œç‚¹å‡»æ’ä»¶ä¿å­˜æ–‡ç« ï¼Œç„¶åå›åˆ°Wordç‚¹å‡»Add/Edit Citationä¼šè‡ªåŠ¨ç”Ÿæˆin text citation\nç‚¹å‡»Add/Edit Bibliographyï¼Œé€‰æ‹©æ ¼å¼ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ç‚¹å‡»OKåä¼šå‡ºç°è¾“å…¥æ ï¼Œåœ¨æ ä¸­è¾“å…¥æ–‡ç« ä½œè€…çš„åå­—ï¼Œå°±å¯ä»¥è‡ªåŠ¨ç”Ÿæˆreferenceäº†ã€‚\nè¿™ä¸ªè½¯ä»¶æœ€å¼ºå¤§çš„åŠŸèƒ½ä¸ä»…åœ¨äºä»–ä¼šè‡ªåŠ¨æ’åºï¼Œè¿˜ä¼šåœ¨è‡ªå·±çš„æ–‡ç« å˜åŠ¨æ—¶ï¼Œå¯¹referenceä½œå‡ºæ”¹å˜ï¼Œæ¯”å¦‚æˆ‘åˆ æ‰äº†ä¸€å¥å¸¦æœ‰in text citationçš„å¥å­ï¼Œé‚£ä¹ˆå®ƒå¯¹åº”çš„referenceä¹Ÿä¼šè¢«åˆ é™¤å¹¶å…¨éƒ¨é‡æ–°æ’åºã€‚\néå¸¸å¥½ä¸Šæ‰‹å¥½ç”¨çš„ä¸œè¥¿ï¼Œç‚¹èµï¼(è™½ç„¶æ„Ÿè§‰ä¹‹åå¤§éƒ¨åˆ†æ—¶é—´ä¸ä¼šå†å†™è®ºæ–‡äº†\u0026hellip;\n","permalink":"https://martinspace.top/zh/zotero/","summary":"æœ€è¿‘å‘ç°äº†ä¸€æ¬¾å·¨å¥½ç”¨çš„ç”Ÿæˆreferenceçš„ç¥å™¨â€”â€”Zotero é¦–å…ˆè¿›å…¥å®˜ç½‘ğŸ‘‡ï¼ˆç§‘å­¦ä¸Šç½‘ï¼Œé€Ÿåº¦æ›´å¿«ï¼‰ https://www.zotero.org/ è¿›å…¥å®˜ç½‘åç‚¹å‡»Downloadä¼šçœ‹åˆ°","title":"Zoteroå¿«é€Ÿä¸Šæ‰‹"},{"content":" å¤§å®¶éƒ½æ˜¯å¹¸è¿è€…ï¼Œä¸–ç•Œä¸Šåªæœ‰å¹¸è¿è€…ã€‚æœ‰æœä¸€æ—¥ï¼Œæ‰€æœ‰çš„å…¶ä»–äººæ— ä¸€ä¾‹å¤–ï¼Œéƒ½ä¼šè¢«åˆ¤æ­»åˆ‘ï¼Œä»–è‡ªå·±ä¹Ÿä¼šè¢«åˆ¤æ­»åˆ‘ï¼Œå¹¸å…ä¸äº†ã€‚\nè¿™ä¸¤å¤©åœ¨èµ¶dueï¼Œæ€»ä¼šå¿ƒçƒ¦æ„ä¹±ï¼Œäºæ˜¯æ‰¾åˆ°äº†ã€Šå±€å¤–äººã€‹è¿™æœ¬ä¹¦ï¼ŒèŠ±äº†ä¸¤å¤©çš„ç©ºé—²æ—¶é—´è¯»å®Œäº†è¿™ä¸ªå“²å­¦ï¼ˆï¼Ÿï¼‰è‘—ä½œã€‚\nç¬¬ä¸€æ¬¡çœ‹å®Œè¿™æœ¬ä¹¦çš„æ„Ÿè§‰å°±æ˜¯æœ‰äº›è«åå…¶å¦™ï¼Œå³è’è¯ã€‚å½“æˆ‘çœ‹åˆ°ä¸­é—´éƒ¨åˆ†ï¼Œé»˜å°”ç´¢å¯¹ç€é›·è’™çš„ä»‡äººå¼€äº†äº”æªï¼Œ è€Œä¸”æ–‡ä¸­çš„æè¿°æ˜¯è¿™æ ·çš„ï¼šæ˜¯å› ä¸ºå½“æ—¶é˜³å…‰å¤ªå¼ºçƒˆï¼Œè®©æˆ‘æ„Ÿåˆ°ä¸é€‚ï¼Œæ‰€ä»¥æˆ‘è¡¥äº†å››æªï¼ˆå¤§è‡´æ˜¯è¿™ä¸ªæ„æ€ï¼‰ã€‚åˆ°è¿™é‡Œæˆ‘è§‰å¾—é»˜å°”ç´¢è¿™ä¸ªäººè’è¯è‡³æï¼Œåƒæ˜¯ä¸å—é“å¾·å’Œæ³•å¾‹çº¦æŸçš„å¦å¤–ä¸€ç±»ä¸å…·å¤‡ç¤¾ä¼šå±æ€§çš„äººã€‚è¯»åˆ°åé¢ï¼Œæ›´ä»¤æˆ‘å¤§å¼€çœ¼ç•Œçš„æ˜¯æ³•å®˜ï¼ˆor æ£€å¯Ÿå®˜ï¼Œè®°ä¸æ¸…äº†ï¼‰ã€‚ä»–å¹¶æ²¡æœ‰æ ¹æ®é»˜å°”ç´¢å¼€æªæ€äººå¹¶ä¸”å¯¹ç€ä¸€ä¸ªæ­»äººè¡¥äº†å››æªè¿™ä¸€è¿èƒŒæ³•å¾‹çš„è¡Œä¸ºä½œå‡ºåˆ¤å†³ï¼Œåè€Œæ˜¯å¯¹ä»–åœ¨ä»–å¦ˆå¦ˆçš„è‘¬ç¤¼ä¸­æ²¡æœ‰å“­æ³£ä½œå‡ºå¤§é‡æ‰¹åˆ¤ï¼Œæ³•å®˜å’Œé™ªå®¡å›¢ç­‰ä¼—äººçš„ä¾æ®ä¸å†æ˜¯æ€äººï¼Œè€Œæ˜¯ä¸åœ¨è‡ªå·±æ¯äº²è‘¬ç¤¼ä¸Šå“­æ³£ï¼Œé‚£è¿™ä¸ªäººå°±ä¸€å®šæ˜¯ä¸€ä¸ªæ®‹å¿çš„å†·è¡€åŠ¨ç‰©ã€‚åœ¨ä¸€æ¡©è°‹æ€æ¡ˆä¸­ï¼Œé“å¾·å´æˆä¸ºäº†åˆ¤ç½šçš„æ ‡å‡†ã€‚å¦å¤–ï¼Œä»å¤´åˆ°å°¾ä»–ä»¬éƒ½åœ¨åŠè¯´é»˜å°”ç´¢å»ç›¸ä¿¡ä»–ä»¬æ‰€ç›¸ä¿¡çš„ç¥ï¼Œå¹¶ä¸”å¯¹é»˜å°”ç´¢çš„æ— åŠ¨äºè¡·æ„Ÿåˆ°åŒæƒ…ç”šè‡³æ˜¯æ¼ç«ã€‚\nå°¼é‡‡ä¸€ç›´å¼ºè°ƒé“å¾·æ˜¯ç¾¤å±…ç¤¾ä¼šçš„äº§ç‰©ï¼Œæ˜¯æ‰¼æ€ä¸ªæ€§å’Œä¸ªäººæ„è¯†çš„ã€‚æ ¹æ®å‰æ–‡çš„æè¿°ï¼Œé»˜å°”ç´¢æ˜¾ç„¶æ˜¯ä¸€ä¸ªä¸ªäººæ„è¯†å¤§äºç¤¾ä¼šæ„è¯†çš„äººã€‚ç¤¾ä¼šæ„è¯†çš„ç›®çš„ä»æ¥ä¸æ˜¯æ¯ç­å¼‚å·±è€Œæ˜¯åŒåŒ–å¼‚å·±ï¼Œè™½ç„¶é»˜å°”ç´¢çš„è‚‰ä½“è¢«åˆ¤å¤„æ­»åˆ‘ï¼Œè¿™å¹¶ä¸ä»£è¡¨ä»–çš„â€œå­˜åœ¨â€ä¹Ÿè·Ÿéšç”Ÿå‘½ä¸€èµ·æ¶ˆå¤±ã€‚å¯¹ä»–è€Œè¨€ï¼Œåˆ¤å¤„æ­»åˆ‘æ°æ°ä½¿ä»–æ‰¾åˆ°äº†çœŸç†ã€‚çœŸç†å°±æ˜¯ï¼Œé»˜å°”ç´¢å¯¹äºè‡ªå·±å­˜åœ¨è¿‡çš„è¿™ä»¶äº‹æƒ…æœ‰åè¶³çš„æŠŠæ¡ã€‚åœ¨ç»“å°¾æœ‰è¿™æ ·ä¸€æ®µè¯ï¼šâ€œæˆ‘æ›¾ä»¥æŸç§æ–¹å¼ç”Ÿæ´»è¿‡ï¼Œæˆ‘ä¹Ÿå¯èƒ½ä»¥å¦ä¸€ç§æ–¹å¼ç”Ÿæ´»ã€‚æˆ‘åšè¿‡è¿™ä»¶äº‹ï¼Œæ²¡æœ‰åšè¿‡é‚£ä»¶äº‹ã€‚æˆ‘å¹²äº†æŸä¸€ä»¶äº‹è€Œæ²¡æœ‰å¹²å¦ä¸€ä»¶äº‹\u0026hellip;\u0026hellip;é¢å¯¹ç€å……æ»¡ä¿¡æ¯å’Œæ˜Ÿæ–—çš„å¤œï¼Œæˆ‘ç¬¬ä¸€æ¬¡å‘è¿™ä¸ªä¸–ç•Œçš„åŠ¨äººçš„å†·æ¼ æ•å¼€äº†å¿ƒæ‰‰ã€‚æˆ‘ä½“éªŒåˆ°è¿™ä¸ªä¸–ç•Œå¦‚æ­¤åƒæˆ‘ï¼Œå…¥æˆæœ‰çˆ±ï¼Œæˆ‘è§‰å¾—æˆ‘è¿‡å»æ›¾ç»æ˜¯å¹¸ç¦çš„ï¼Œæˆ‘ç°åœ¨ä»ç„¶æ˜¯å¹¸ç¦çš„ã€‚ä¸ºäº†æŠŠä¸€åˆ‡éƒ½åšçš„å®Œå–„ï¼Œä¸ºäº†ä½¿æˆ‘æ„Ÿåˆ°ä¸é‚£ä¹ˆå­¤ç‹¬ï¼Œæˆ‘è¿˜å¸Œæœ›å¤„å†³æˆ‘çš„é‚£ä¸€å¤©æœ‰å¾ˆå¤šäººæ¥è§‚çœ‹ï¼Œå¸Œæœ›ä»–ä»¬å¯¹æˆ‘æŠ¥ä»¥ä»‡æ¨çš„å«å–Šå£°ã€‚â€\néš¾ä»¥å¦è®¤è¿™æ˜¯ä¸€ä¸ªè¿‘ä¹å®Œç¾çš„ç»“å±€ï¼Œæ˜¯é»˜å°”ç´¢æ´»è¿‡ä¸€ç”Ÿï¼Œç»ˆäºåœ¨æ­»äº¡çš„é¢å‰å‘ç°è‡ªå·±å­˜åœ¨çš„çœŸç†ã€‚ä»–æ›¾ç»ä»¥å±€å¤–äººçš„èº«ä»½æ´»ç€ï¼Œåˆå°†ä»¥å±€å¤–äººçš„èº«ä»½æ­»å»ï¼Œå¯¹é»˜å°”ç´¢è€Œè¨€ï¼Œç”Ÿå‘½çš„æœ¬èº«å°±æ˜¯è’è¯çš„ï¼Œä½†æ˜¯å­˜åœ¨çš„å¹¸ç¦æ„Ÿå´æ˜¯çœŸå®çš„ã€‚\n","permalink":"https://martinspace.top/zh/letranger/","summary":"å¤§å®¶éƒ½æ˜¯å¹¸è¿è€…ï¼Œä¸–ç•Œä¸Šåªæœ‰å¹¸è¿è€…ã€‚æœ‰æœä¸€æ—¥ï¼Œæ‰€æœ‰çš„å…¶ä»–äººæ— ä¸€ä¾‹å¤–ï¼Œéƒ½ä¼šè¢«åˆ¤æ­»åˆ‘ï¼Œä»–è‡ªå·±ä¹Ÿä¼šè¢«åˆ¤æ­»åˆ‘ï¼Œå¹¸å…ä¸äº†ã€‚ è¿™ä¸¤å¤©åœ¨èµ¶dueï¼Œæ€»ä¼šå¿ƒçƒ¦æ„ä¹±","title":"è’è¯ä¸çœŸç†"},{"content":" å…ˆåœ¨githubå»ºç«‹ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼Œå¯ä»¥å…¨éƒ¨æ˜¯é»˜è®¤è®¾ç½®\nå…¨å±€å£°æ˜gitçš„ç”¨æˆ·è®¤è¯ä¿¡æ¯\ngit config --global user.name \u0026#34;name\u0026#34; git config --global user.email \u0026#34;email@gmail.com\u0026#34; å…¶ä¸­nameå†™è‡ªå·±çš„åå­—ï¼Œemail@gmail.comå†™è‡ªå·±çš„email\nåˆå§‹åŒ–æœ¬åœ°gitä»“åº“ cd æœ¬åœ°é¡¹ç›®æ ¹ç›®å½• git init å°†é¡¹ç›®æ–‡ä»¶æ·»åŠ åˆ°gitä»“åº“ä¸­ git add . .æ„æ€æ˜¯å°†å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å…¨éƒ¨æ·»åŠ åˆ°ä»“åº“ä¸­ï¼Œå¦‚æœæƒ³æ·»åŠ æŸä¸€ä¸ªé—®ä»·ï¼Œå°† .æ›¿æ¢æˆå¯¹åº”çš„æ–‡ä»¶åå°±å¯ä»¥äº† 5. å°†æ–‡ä»¶commitåˆ°ä»“åº“\ngit commit -m \u0026#34;æäº¤çš„æ¶ˆæ¯å†…å®¹\u0026#34; å°†æœ¬åœ°ä»“åº“å…³è”åˆ°github git remote add origin è‡ªå·±ä»“åº“çš„urlåœ°å€ ä¸Šä¼ æœ¬åœ°ä»“åº“ä»£ç è‡³githubè¿œç¨‹ä»“åº“ git push -u origin +main git pull git push origin main ç”±äºæ–°é¡¹ç›®githubçš„é»˜è®¤åˆ†æ”¯ä»masterå˜æˆäº†mainï¼Œæ‰€ä»¥ä¹‹å‰çš„åšå®¢ä¸­æåˆ°çš„masterå¯¹äºæ–°é¡¹ç›®æ¥è¯´éƒ½ä¼šæŠ¥é”™ï¼Œç”¨ä¸Šè¿°æŒ‡ä»¤å°±å¯ä»¥æˆåŠŸä¸Šä¼ å•¦ï¼ˆè®°å¾—æ•²å®Œä¸€è¡Œæ‰§è¡Œä¸€è¡Œï¼‰\nä¸Šä¼ æˆåŠŸä¹‹åå¯ä»¥å›åˆ°githubæŸ¥çœ‹è‡ªå·±çš„ä»“åº“æ˜¯å¦å¤šäº†ä¸€äº›æ–‡ä»¶ï¼Œè®°å¾—åˆ·æ–°ï¼ ä¹‹åæ¯æ¬¡ä»£ç æ›´æ–°ååªè¦æ‰§è¡Œç¬¬ä¸ƒæ­¥å°±å¯ä»¥å•¦ã€‚\n","permalink":"https://martinspace.top/zh/git/","summary":"å…ˆåœ¨githubå»ºç«‹ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼Œå¯ä»¥å…¨éƒ¨æ˜¯é»˜è®¤è®¾ç½® å…¨å±€å£°æ˜gitçš„ç”¨æˆ·è®¤è¯ä¿¡æ¯ git config --global user.name \u0026#34;name\u0026#34; git config --global user.email \u0026#34;email@gmail.com\u0026#34; å…¶ä¸­nameå†™è‡ªå·±çš„åå­—ï¼Œemail@g","title":"ä»£ç ä¸Šä¼ è‡³github"},{"content":"èŠœæ¹–ï¼åˆšåˆšæŠŠCYKç®—æ³•ææ‡‚äº†ã€‚ä¹‹å‰ä¸ç†è§£çš„ç‚¹åœ¨äºtable cells,æˆ‘ä¸€ç›´è®¤ä¸ºä¸€ä¸ªcellæ˜¯ä¸€ä¸ªä¸‰è§’å½¢ï¼Œç»“æœå§‹ç»ˆæä¸æ‡‚ç®—æ³•çš„åŸç†ã€‚ å®é™…ä¸Šï¼Œä¸€ä¸ªcellå°±æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œä¸‹é¢æˆ‘ä»¥input=4ä¸¾ä¾‹è¿›è¡Œè¯´æ˜ã€‚\nCYK table 14 13 24 12 23 34 11 22 33 44 x1 x2 x3 x4 ä¼ªä»£ç å¦‚ä¸‹\nfor all cells in last row if there is a production A -\u0026gt; x[i] put A in table cell ii for cells st in other rows // è‡ªä¸‹è€Œä¸Šæ¨å¯¼ if there is a production A -\u0026gt; BC where B is in cell sj and C is in cell (j+1)t put A in cell st é¦–å…ˆï¼Œcellè¡¨ç¤ºçš„æ˜¯æ•°å­—ï¼Œä¸Šå›¾ä¸­11ï¼Œ22ï¼Œ33ï¼Œ44è¿™æ ·çš„æ•°å­—ï¼Œæ¯ä¸ªæ•°å­—éƒ½æ˜¯ä¸€ä¸ªcellã€‚æ¥ä¸‹æ¥åˆ†æä¼ªä»£ç ï¼Œé¦–å…ˆæ˜¯ç¬¬ä¸€ä¸ªå¾ªç¯ï¼Œæ˜¯å¯¹äºæœ€ä¸‹é¢ä¸€è¡Œï¼š11ï¼Œ22ï¼Œ33ï¼Œ44ã€‚å³æ‰¾å‡ºæ‰€æœ‰èƒ½æ¨å‡ºxiçš„å­—ç¬¦ï¼Œè¿™æ˜¯æœ€å¥½ç†è§£çš„ä¸€è¡Œï¼Œä¸å¤šèµ˜è¿°ã€‚ æ¥ä¸‹æ¥æ˜¯ç¬¬äºŒä¸ªå¾ªç¯ï¼Œä»å€’æ•°ç¬¬äºŒè¡Œå¼€å§‹ï¼Œstå³è¡¨ä¸­çš„12ï¼Œ23ï¼Œ34ï¼Œ13ï¼Œ24ï¼Œ14ï¼ˆstçš„æ„æ€æ˜¯xs -\u0026gt; xtï¼‰ã€‚è¿™é‡Œå®šä¹‰äº†ä¸‰ä¸ªå˜é‡æ¥è¡¨ç¤ºcellï¼Œåˆ†åˆ«æ˜¯s, j, tã€‚æˆ‘ç®€å•æ¦‚æ‹¬ä¸‹å°±æ˜¯st = sj + (j+1)tï¼Œ13 = 11 + 23 = 12 + 33 = 13 + 43, å› ä¸º43ä¸å­˜åœ¨ï¼Œæ‰€ä»¥13æ¶‰åŠçš„å­—ç¬¦å¯¹æœ‰(11, 23) å’Œ (12, 33)ã€‚ å› æ­¤ï¼Œå¯ä»¥æŠŠ11å’Œ23å¯¹åº”çš„å­—ç¬¦è”ç³»èµ·æ¥ï¼Œåœ¨è¯­æ³•ä¸­å¯»æ‰¾å¯¹åº”çš„ruleï¼Œå¦‚æœæœ‰å¯¹åº”çš„Aå­˜åœ¨ï¼Œå°±æŠŠAå†™å…¥13é‚£ä¸ªä½ç½®ï¼›å¦‚æœæœ‰å¤šä¸ªï¼Œé€—å·éš”å¼€ï¼Œæœ‰å‡ ä¸ªå†™å‡ ä¸ªï¼›å¦‚æœæ²¡æœ‰ï¼Œå°±å†™ç©ºé›†çš„ç¬¦å·ã€‚æ¯ä¸€ä¸ªä½ç½®éƒ½è¿›è¡Œç±»ä¼¼çš„æ¨ç†ï¼Œè€å¿ƒè¶³å¤Ÿå°±å¯ä»¥æ¨å‡ºæ¥çš„ã€‚å¡«å®Œå…¨éƒ¨çš„ç©ºï¼Œå†ä»ä¸Šåˆ°ä¸‹ç”»å‡ºparse treeå°±å¯ä»¥å•¦ï¼ ä¸€äº›å°æŠ€å·§ï¼šå¯»æ‰¾sjå’Œ(j+1)tçš„æ—¶å€™ï¼Œå¯ä»¥å…ˆç¡®å®šä¸¤è¾¹çš„så’Œtï¼Œä¸­é—´çš„æ•°å­—ä¾æ¬¡é€’å¢ï¼Œç›´åˆ°å¤§äºä¸¤è¾¹çš„æ•°å­—ã€‚æ¯”å¦‚ğŸ‘‡ 1\u0026hellip;\u0026hellip;.3 -\u0026gt; 11+23 -\u0026gt; 12+33 -\u0026gt;13+43 (43ä¸å­˜åœ¨ï¼Œèˆå¼ƒå¹¶åœæ­¢)\né¢å¤–çš„å˜±å’ï¼šCYKç®—æ³•è¦æ±‚ä½¿ç”¨çš„grammar ruleå¿…é¡»éµå®ˆCNFèŒƒå¼ï¼Œå› ä¸ºè¿™ä¸ªèŒƒå¼ä¿è¯äº†å…¶å¯¹åº”çš„parsing treeæ˜¯äºŒå‰æ ‘ã€‚\n","permalink":"https://martinspace.top/zh/cyk-algo/","summary":"èŠœæ¹–ï¼åˆšåˆšæŠŠCYKç®—æ³•ææ‡‚äº†ã€‚ä¹‹å‰ä¸ç†è§£çš„ç‚¹åœ¨äºtable cells,æˆ‘ä¸€ç›´è®¤ä¸ºä¸€ä¸ªcellæ˜¯ä¸€ä¸ªä¸‰è§’å½¢ï¼Œç»“æœå§‹ç»ˆæä¸æ‡‚ç®—æ³•çš„åŸç†ã€‚ å®é™…ä¸Šï¼Œ","title":"CYK(COMP218)"},{"content":" ğŸ§‘ğŸ»â€ğŸ’» å¯ä»¥å«æˆ‘Martin / Martingale ğŸŒŠ ä¸“æ³¨äºåº•å±‚é€»è¾‘æ€è€ƒçš„å­¦ä¹ è€… ğŸ“ æœ¬ç§‘æ¯•ä¸šäºè‹±å›½åˆ©ç‰©æµ¦å¤§å­¦ï¼Œè®¡ç®—æœºç§‘å­¦ï¼Œè£èª‰ä¸€ç­‰å­¦ä½ ğŸ“š ç›®å‰å°±è¯»äºè‹±å›½çˆ±ä¸å ¡å¤§å­¦ï¼Œäººå·¥æ™ºèƒ½ç¡•å£« ğŸ’­ çƒ­çˆ±å¼€æºï¼Œå­¦ä¹ æ— æ­¢å¢ƒ æˆ‘æœ€è¿‘åœ¨å¹²ä»€ä¹ˆï¼Ÿ ğŸªœ ç°åœ¨æ­£åœ¨ç ”ç©¶\u0026hellip;\næ‰©æ•£æ¨¡å‹+å¼ºåŒ–å­¦ä¹ \nä¸ç¡®å®šæ€§é‡åŒ–ç ”ç©¶\næœºå™¨å­¦ä¹ ç³»ç»Ÿ: è´¡çŒ®ServerlessLLM feat: support LoRA adapter(s) inference #221 feat: support lora fine-tuning for transformers backend #189 docs: add documentation for deployment on slurm #135 æˆ‘çš„è¿‡å» è‹±å›½N8è”ç›Ÿè®¡ç®—å¯†é›†å‹ç ”ç©¶ä¸­å¿ƒBede - 2024æš‘æœŸå®ä¹ ç”Ÿ é¡¹ç›®ä¸»ä½“ï¼šé‡åŒ–å¹¶å¾®è°ƒå¤§æ¨¡å‹ä»¥é€‚åº”ç”Ÿç‰©é¢†åŸŸæ–‡çŒ®é˜…è¯»ï¼Œè¯„ä¼°å„ç±»å¤§æ¨¡å‹çš„å¾®è°ƒç»“æœ é¡¹ç›®æ—¶é•¿ï¼š2024å¹´6æœˆ - 2024å¹´9æœˆ é¡¹ç›®å¯¼å¸ˆï¼šDr Antony McCabe \u0026amp; Dr Jianping Meng é¡¹ç›®èµ„åŠ©æ–¹ï¼šEPSRC (è‹±å›½å·¥ç¨‹å’Œè‡ªç„¶ç§‘å­¦ç ”ç©¶å§”å‘˜ä¼š) 2024å¼€æºä¹‹å¤é¡¹ç›®å¯¼å¸ˆï¼ˆCasbinç¤¾åŒºï¼‰ å¼€æºAIçŸ¥è¯†åº“ - Casibase é¡¹ç›®æ—¶é•¿ï¼š2024å¹´7æœˆ - 2024å¹´10æœˆ è´¡çŒ®å¼€æºé¡¹ç›® - Casibaseï¼ˆè´¡çŒ®æ—¥å¿—ğŸ‘‡ï¼‰ feat: improve GetNearMessageCount() performance (2024-08-24) #954 feat: fix the issue that DALL-E returned image URL is expired (2024-08-17) #946 feat: support new model gpt-4o for openai and azure (2024-08-03) #931 feat: count the number of generated images (2024-08-01) #930 feat: support image output (2024-07-29) #925 feat: fix bug that the first AI message cannot be regenerated (2024-07-25) #917 feat: fix cursor blink incorrectly (2024-07-23) #913 feat: set token count to 0 in usage map (2024-07-19) #904 feat: fix ProvidersUsageTable render error when creating a new store (2024-07-18) #903 feat: show providers usage in real time (2024-07-13) #898 feat: feat: drag the image to the chat box to add attachment (2024-07-11) #895 feat: allow deleting welcome message in demo mode (2024-07-06) #885 feat: fix bug that sends empty message by mistake in newMessage mode (2024-07-05) #882 feat: calculate tokens at last for local model provider (2024-07-01) #878 feat: fix no encoding for model custom-model (2024-06-30) #876 fix: incorrect message answer when anonymous access (2024-06-24) #871 feat: support sending question via URL GET parameter (2024-06-23) #865 feat: fix demo site fails bug in guest mode (2024-06-20) #858 feat: fix bug that cannot access demo-site in guest mode (2024-06-19) #854 feat: support URL link for each chat (2024-06-18) #845 fix: the error box does not show at the first time (2024-06-17) #840 feat: fix wrong blinking cursor in UI (2024-06-15) #836 feat: don\u0026rsquo;t auto refresh answer for aborted connection error (2024-06-14) #834 feat: support model usage map in GetAnswer() API (2024-06-07) #828 feat: use model providers with higher token limit (2024-05-29) #818 feat: use vision models for question with image (2024-05-16) #811 feat: improve refresh bug fix (2024-05-15) #810 Bug: fix chat window error when pressing F5 during text output (2024-05-14) #808 feat: support dummy model provider and dummy embedding provider (2024-05-01) #798 feat: support uploading file (2024-04-27) #795 feat: support model provider multiplexing (2024-04-21) #783 feat: support claude3 model provider (2024-04-18) #785 feat: add swagger docs (2024-04-04) #781 feat: add new default split provider (2024-03-22) #778 fix: improve messages render performance (2024-03-20) #777 feat: support code block highlight (2024-03-19) #776 feat: support Latex math formula (2024-03-18) #775 feat: format markdown output better (2024-03-17) #770 feat: disable New Chat button when there is empty chat (2024-03-16) #773 feat: feat: improve upload path format for image storage (2024-03-08) #758 feat: improve image display in input box (2024-03-06) #754 feat: fix bug for local model provider (2024-03-04) #750 feat: add GetPricing and calculatePrice for all embedding providers (2024-03-02) #737 feat: add calculating tokens and price for embedding provider (2024-03-01) 735 fix: Bug that recognizes an ordinary url as an image (2024-02-29) 730 feat: improve azure text output (2024-02-28) #729 feat: Support OpenAI embedding v3 as new Casibase embedding providers (2024-02-27) #727 feat: support generating images via dalle-3 model (2024-02-20) #717 feat: support sending images to gpt4vision model (2024-02-19) #716 feat: fix reply display for huggingface (2024-01-28) #705 feat: add Cohere Command model provider (2024-01-25) #703 feat: Support chat bot widget (æ¨è¿Ÿ\u0026hellip;) feat: support texts and images in the response at the same time (æ¨è¿Ÿ\u0026hellip;) ","permalink":"https://martinspace.top/zh/about/","summary":"ğŸ§‘ğŸ»â€ğŸ’» å¯ä»¥å«æˆ‘Martin / Martingale ğŸŒŠ ä¸“æ³¨äºåº•å±‚é€»è¾‘æ€è€ƒçš„å­¦ä¹ è€… ğŸ“ æœ¬ç§‘æ¯•ä¸šäºè‹±å›½åˆ©ç‰©æµ¦å¤§å­¦ï¼Œè®¡ç®—æœºç§‘å­¦ï¼Œè£èª‰ä¸€ç­‰å­¦ä½ ğŸ“š ç›®å‰å°±è¯»äºè‹±å›½çˆ±ä¸å ¡å¤§å­¦ï¼Œ","title":"ğŸ’­ å…³äº"},{"content":"é‡ç½®æœåŠ¡å™¨ç³»ç»Ÿåã€‚å½“ä½¿ç”¨è¿œç¨‹sshè¿æ¥åï¼Œä¼šæ˜¾ç¤ºè¿æ¥å¤±è´¥ã€‚ è¿™é‡Œç›´æ¥ç»™å‡ºè§£å†³åŠæ³•(ä»…ä»¥macOSä¸ºä¾‹):\næ‰“å¼€ç»ˆç«¯ è¾“å…¥ vim ~/.ssh/known_hosts vimä¼šæ‰“å¼€è¯¥æ–‡ä»¶ï¼Œå‘ä¸‹ç¿»ï¼Œæ‰¾åˆ°æœåŠ¡å™¨å¯¹åº”çš„IP æŒ‰ä¸‹vè¿›å…¥visualæ¨¡å¼ï¼Œä½¿ç”¨æ–¹å‘é”®é€‰æ‹©è¦åˆ æ‰çš„å†…å®¹ï¼ˆæœåŠ¡å™¨IPå¯¹åº”çš„å†…å®¹éƒ½è¦åˆ æ‰ï¼‰, æŒ‰ä¸‹d æˆ–è€…ï¼ŒæŒ‰ä¸‹iè¿›å…¥insertæ¨¡å¼ï¼Œä¸€ä¸ªä¸€ä¸ªåˆ é™¤ æŒ‰ä¸‹escé”®ï¼Œè¾“å…¥:wq+å›è½¦ï¼Œä»»åŠ¡å®Œæˆ åˆ‡è®°ï¼šä¸€å®šè¦åœ¨è‹±æ–‡è¾“å…¥æ³•æƒ…å†µä¸‹æŒ‰escåˆ‡æ¢çŠ¶æ€ï¼Œä¸­æ–‡è¾“å…¥æ¨¡å¼ä¸‹æŒ‰escä¸ç®¡ç”¨çš„ï¼ï¼ï¼ ","permalink":"https://martinspace.top/zh/ssh-bug-fix/","summary":"é‡ç½®æœåŠ¡å™¨ç³»ç»Ÿåã€‚å½“ä½¿ç”¨è¿œç¨‹sshè¿æ¥åï¼Œä¼šæ˜¾ç¤ºè¿æ¥å¤±è´¥ã€‚ è¿™é‡Œç›´æ¥ç»™å‡ºè§£å†³åŠæ³•(ä»…ä»¥macOSä¸ºä¾‹): æ‰“å¼€ç»ˆç«¯ è¾“å…¥ vim ~/.ssh/known_hosts vimä¼šæ‰“å¼€è¯¥æ–‡ä»¶ï¼Œå‘","title":"é‡ç½®æœåŠ¡å™¨ç³»ç»Ÿåï¼Œsshè¿æ¥å¤±è´¥"},{"content":"å›¾ç‰‡å¤ªå¤§äº†ï¼Œå¾ˆå æœåŠ¡å™¨çš„èµ„æºï¼Œæƒ³çœ‹çš„å»æœ‹å‹åœˆè‡ªå–å§\nThe images are so big that take up a lot of resources on the server, so if you\u0026rsquo;d like to see them, go to ins and get them yourself.\nLiverpool \u003c!DOCTYPE html\u003e London London \u003c!DOCTYPE html\u003e London Edinburgh \u003c!DOCTYPE html\u003e London Lake District \u003c!DOCTYPE html\u003e London Peak District \u003c!DOCTYPE html\u003e London ","permalink":"https://martinspace.top/zh/united-kingdom/","summary":"å›¾ç‰‡å¤ªå¤§äº†ï¼Œå¾ˆå æœåŠ¡å™¨çš„èµ„æºï¼Œæƒ³çœ‹çš„å»æœ‹å‹åœˆè‡ªå–å§ The images are so big that take up a lot of resources on the server, so if you\u0026rsquo;d like to see them, go to ins and get them yourself. Liverpool \u003c!DOCTYPE html\u003e London London \u003c!DOCTYPE html\u003e London Edinburgh \u003c!DOCTYPE html\u003e London Lake District \u003c!DOCTYPE html\u003e","title":"è‹±å›½"},{"content":"çœ‹äº†å‡ ç¯‡åšå®¢ï¼Œæ„Ÿè§‰åšä¸»ä»¬æŠŠé—®é¢˜æè¿°çš„å¥½ä¸“ä¸šï¼Œå¯¼è‡´æœ¬èœçœ‹ä¸å¤ªæ‡‚qwqï¼Œè¿™é‡Œå†™ä¸‹æˆ‘çš„ä¸ªäººç†è§£ï¼Œè¿˜æœ›å„ä½å¤§ä½¬å¤šå¤šæŒ‡æ­£ï¼Œè°¢è°¢ï¼\né¦–å…ˆï¼ŒDFä½œä¸ºæ ‡å¿—å¯„å­˜å™¨çš„ä¸€ä¸ªä½ï¼Œå…¶å€¼åªèƒ½æ˜¯0æˆ–1ã€‚\nè‹¥DF = 0 æ¯æ¬¡æ“ä½œåsi, dié€’å¢\nè‹¥DF = 1 æ¯æ¬¡æ“ä½œåsi, dié€’å‡\nå¥½äº†ï¼Œæˆ‘ä»¬ç°åœ¨åªè¦çŸ¥é“è¿™äº›å°±å¤Ÿäº†ï¼Œè‡³äºæ€ä¹ˆæ”¹å˜DFçš„å€¼ï¼Œä½¿å…¶å˜æˆ0æˆ–1ï¼Œåé¢æˆ‘ä¼šè®¨è®ºåˆ°ã€‚\nsi, diä½œä¸ºå˜å€å¯„å­˜å™¨ï¼Œå…¶å€¼é€’å¢æˆ–é€’å‡çš„æœ¬è´¨å°±æ˜¯è¦é€ä¸ªå–å¾—ds:si/ds:diåœ°å€ä¸Šçš„æ•°æ®ã€‚\näºæ˜¯æˆ‘ä»¬å¾ˆéš¾ä¸è”æƒ³åˆ°å¯¹äºå„ç§ä¸²ä¼ é€çš„æ“ä½œï¼Œå› ä¸ºä¸²ä¼ é€å°±è¦ä¸€ä¸ªä¸€ä¸ªåœ°å°†æ•°æ®ä¼ é€åˆ°æƒ³è¦çš„ä½ç½®ï¼Œæ¥ä¸‹æ¥æˆ‘ä»‹ç»ä¸¤ä¸ªä¸²ä¼ é€æŒ‡ä»¤ï¼šmovsbå’Œmovswã€‚\næˆ‘ä»¥movsbä¸ºä¾‹ï¼ˆmovswåŒç† åªä¸è¿‡å…¶å•ä½æ˜¯å­—wordï¼‰ï¼š\n;movsbæŒ‡ä»¤ç›¸å½“äºåšå¦‚ä¸‹æ“ä½œï¼š ((es)*16 + (di)) = ((ds)*16 + (di)) ;å°†ds:diæŒ‡å‘çš„æ•°æ®ä¼ é€åˆ°es:siæŒ‡å‘çš„åœ°å€ if(df == 0) inc si inc di if(df == 1) dec si dec di å¾ˆæ˜æ˜¾ï¼ŒmovsbæŒ‡ä»¤æ˜¯å°†ä¸€å¤„å†…å­˜å•å…ƒä¸­çš„å­—èŠ‚byteé€å…¥å¦ä¸€å¤„ï¼Œç„¶ååˆ¤æ–­DFçš„å€¼æ¥å†³å®šæ˜¯é€’å¢è¿˜æ˜¯é€’å‡ã€‚å›å½’åˆ°é€’å¢é€’å‡çš„æœ¬è´¨å¯ä»¥å‘ç°ï¼Œé€’å¢å°±æ˜¯å°†è¿™ä¸ªæ•°æ®ä¸²ä¸­çš„æ•°æ®æ­£å‘ä¼ å…¥ï¼Œé€’å‡å°±æ˜¯åå‘ä¼ å…¥ã€‚\nä¸¾ä¾‹ï¼šä¸€ä¸ªæ•°æ®ä¸²â€™12345678â€˜ï¼Œæ­£å‘ä¼ å…¥çš„ç»“æœæ˜¯â€™12345678â€˜ï¼Œåå‘ä¼ å…¥çš„ç»“æœæ˜¯â€™87654321â€˜ã€‚\né‚£ä¹ˆä½œä¸ºç¨‹åºå‘˜æˆ‘ä»¬å¦‚ä½•æ§åˆ¶å…¶æ–¹å‘ï¼Œæ€»ä¸èƒ½æ˜¯æœºå™¨è¯´äº†ç®—å§ï¼Œäºæ˜¯æˆ‘ä»¬æœ‰äº†CLDå’ŒSTDæŒ‡ä»¤\nCLDï¼šå°†DFå€¼è®¾ä¸º0\nSTDï¼šå°†DFå€¼è®¾ä¸º1\näºæ˜¯ å½“å†™å‡ºCLDæ—¶ï¼ŒDFä¸º0ï¼Œsiå’Œdié€’å¢ï¼Œåˆ™æ­£å‘ä¼ é€’\nå½“å†™å‡ºSTDæ—¶ï¼ŒDFä¸º1ï¼Œsiå’Œdié€’å‡ï¼Œåˆ™åå‘ä¼ é€’\næ‰€ä»¥CLDå’ŒSTDå¯è¢«ç†è§£ä¸ºç”¨æ¥è®¾ç½®ä¼ é€’æ–¹å‘ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆDFå«åšDirection Flagã€‚\næ­¤å¤–ï¼ï¼æ•™ç»™å¤§å®¶ä¸€ä¸ªæŒ‡ä»¤ ç”¨æ¥ç›´æ¥ä¼ é€æ•°æ®ä¸²ï¼Œ\nå³rep movsbï¼Œå¯é€šè¿‡å¾ªç¯å®ç°ï¼ˆcxï¼‰ä¸ªå­—ç¬¦çš„ä¼ é€ã€‚\nPS: è½¬è½½æˆ‘è‡ªå·±çš„æ–‡ç« ï¼Œæ— æ‰€åŠè°“äº†\n","permalink":"https://martinspace.top/zh/assemble/","summary":"çœ‹äº†å‡ ç¯‡åšå®¢ï¼Œæ„Ÿè§‰åšä¸»ä»¬æŠŠé—®é¢˜æè¿°çš„å¥½ä¸“ä¸šï¼Œå¯¼è‡´æœ¬èœçœ‹ä¸å¤ªæ‡‚qwqï¼Œè¿™é‡Œå†™ä¸‹æˆ‘çš„ä¸ªäººç†è§£ï¼Œè¿˜æœ›å„ä½å¤§ä½¬å¤šå¤šæŒ‡æ­£ï¼Œè°¢è°¢ï¼ é¦–å…ˆï¼ŒDFä½œä¸ºæ ‡å¿—å¯„å­˜","title":"å¯¹æ±‡ç¼–è¯­è¨€ä¸­DFæ ‡å¿—ï¼ŒCLDï¼ŒSTDï¼ŒREPç­‰æŒ‡ä»¤çš„ç†è§£"}]